{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/facility-recon-gui/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr/facility-recon-gui/src/main.js","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/main.js","mtime":1619257194369},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/eslint-loader/index.js","mtime":1619257191105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIvZmFjaWxpdHktcmVjb24tZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIi9ob21lL2FsbHkvZ29mci9mYWNpbGl0eS1yZWNvbi1ndWkvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIvZmFjaWxpdHktcmVjb24tZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiL2hvbWUvYWxseS9nb2ZyL2ZhY2lsaXR5LXJlY29uLWd1aS9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9zdG9yZS9zdG9yZSc7CmltcG9ydCBpMThuIGZyb20gJy4vaTE4bic7CmltcG9ydCB2dWV0aWZ5IGZyb20gJy4vcGx1Z2lucy92dWV0aWZ5JzsKaW1wb3J0IHZ1ZWxpZGF0ZSBmcm9tICd2dWVsaWRhdGUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgZ3VpQ29uZmlnIGZyb20gJy4uL2NvbmZpZy9jb25maWcuanNvbic7ClZ1ZS51c2UodnVlbGlkYXRlKTsKVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7CmV4cG9ydCB2YXIgZXZlbnRCdXMgPSBuZXcgVnVlKCk7IC8vIGlmIHJ1bm5pbmcgaW5zaWRlIERISVMyIHRoZW4gZ2V0IGFueSBjb25maWcgZGVmaW5lZCBpbnNpZGUgdGhlIGRhdGFzdG9yZQoKZnVuY3Rpb24gZ2V0REhJUzJTdG9yZUNvbmZpZyhjYWxsYmFjaykgewogIHZhciBocmVmID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnYXBpJyk7CgogIGlmIChocmVmLmxlbmd0aCA+PSAyKSB7CiAgICB2YXIgZGhpczJVUkwgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKS5zaGlmdCgpOwogICAgYXhpb3MuZ2V0KGRoaXMyVVJMICsgJ2FwaS9kYXRhU3RvcmUvR09GUi9jb25maWcnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjYWxsYmFjayhyZXNwb25zZS5kYXRhKTsgLy8gaWYgQkFDS0VORF9VUkwgaXMgbWlzc2luZyB0aGVuIHNldCBpdAoKICAgICAgaWYgKCFyZXNwb25zZS5kYXRhLkJBQ0tFTkRfU0VSVkVSKSB7CiAgICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSIHx8IGd1aUNvbmZpZy5CQUNLRU5EX0hPU1Q7CiAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgIEJBQ0tFTkRfU0VSVkVSOiB1cmwKICAgICAgICB9OwogICAgICAgIGFkZERISVMyU3RvcmVDb25maWcoY29uZmlnKTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnIpKTsKICAgICAgdmFyIHJlc3AgPSBmYWxzZTsKICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSIHx8IGd1aUNvbmZpZy5CQUNLRU5EX1NFUlZFUjsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBCQUNLRU5EX1NFUlZFUjogdXJsCiAgICAgIH07CiAgICAgIGFkZERISVMyU3RvcmVDb25maWcoY29uZmlnKTsKICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3ApOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIHZhciByZXNwID0gZmFsc2U7CiAgICByZXR1cm4gY2FsbGJhY2socmVzcCk7CiAgfQp9CgpmdW5jdGlvbiBhZGRESElTMlN0b3JlQ29uZmlnKGNvbmZpZykgewogIHZhciBkaGlzMlVSTCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2FwaScpLnNoaWZ0KCk7CiAgYXhpb3MucG9zdChkaGlzMlVSTCArICdhcGkvZGF0YVN0b3JlL0dPRlIvY29uZmlnJywgY29uZmlnKTsKfQovKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi8KCgpnZXRESElTMlN0b3JlQ29uZmlnKGZ1bmN0aW9uIChzdG9yZUNvbmZpZykgewogIGlmIChzdG9yZUNvbmZpZyAmJiBzdG9yZUNvbmZpZy5CQUNLRU5EX1NFUlZFUikgewogICAgYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSIHx8IHN0b3JlQ29uZmlnLkJBQ0tFTkRfU0VSVkVSOwogIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVIpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUjsKICB9IGVsc2UgewogICAgaWYgKGd1aUNvbmZpZy5CQUNLRU5EX0hPU1QgPT09ICcuJykgewogICAgICBndWlDb25maWcuQkFDS0VORF9IT1NUID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogICAgICBndWlDb25maWcuQkFDS0VORF9QUk9UT0NPTCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5yZXBsYWNlKCc6JywgJycpOwogICAgfQoKICAgIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBndWlDb25maWcuQkFDS0VORF9QUk9UT0NPTCArICc6Ly8nICsgZ3VpQ29uZmlnLkJBQ0tFTkRfSE9TVCArICc6JyArIGd1aUNvbmZpZy5CQUNLRU5EX1BPUlQ7CiAgfSAvLyBnZXQgZ2VuZXJhbCBjb25maWcgb2YgQXBwIGFuZCBwYXNzIGl0IHRvIHRoZSBBcHAgY29tcG9uZW50IGFzIHByb3BzCgoKICB2YXIgZGVmYXVsdEdlbmVyQ29uZmlnID0gSlNPTi5zdHJpbmdpZnkoc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcpOwogIGF4aW9zLmdldCgnL2dldEdlbmVyYWxDb25maWc/ZGVmYXVsdEdlbmVyQ29uZmlnPScgKyBkZWZhdWx0R2VuZXJDb25maWcpLnRoZW4oZnVuY3Rpb24gKGdlbkNvbmZpZykgewogICAgaWYgKCFnZW5Db25maWcpIHsKICAgICAgZ2VuQ29uZmlnLmRhdGEgPSB7fTsKICAgIH0KCiAgICBuZXcgVnVlKHsKICAgICAgcm91dGVyOiByb3V0ZXIsCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgaTE4bjogaTE4biwKICAgICAgdnVldGlmeTogdnVldGlmeSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29uZmlnOiBnZW5Db25maWcuZGF0YQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGNyZWF0ZUVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChBcHAsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGdlbmVyYWxDb25maWc6IHRoaXMuY29uZmlnCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLiRtb3VudCgnI2FwcCcpOwogIH0pOwp9KTs="},{"version":3,"sources":["/home/ally/gofr/facility-recon-gui/src/main.js"],"names":["Vue","App","router","store","i18n","vuetify","vuelidate","axios","guiConfig","use","config","productionTip","eventBus","getDHIS2StoreConfig","callback","href","location","split","length","dhis2URL","shift","get","then","response","data","BACKEND_SERVER","url","process","env","BACKEND_HOST","addDHIS2StoreConfig","catch","err","console","log","JSON","stringify","resp","post","storeConfig","defaults","baseURL","window","hostname","BACKEND_PROTOCOL","protocol","replace","BACKEND_PORT","defaultGenerConfig","state","generalConfig","genConfig","render","createElement","props","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport {store} from './store/store'\nimport i18n from './i18n'\nimport vuetify from './plugins/vuetify';\nimport vuelidate from 'vuelidate'\nimport axios from 'axios'\nimport guiConfig from '../config/config.json'\nVue.use(vuelidate)\n\nVue.config.productionTip = false\n\nexport const eventBus = new Vue()\n\n// if running inside DHIS2 then get any config defined inside the datastore\nfunction getDHIS2StoreConfig (callback) {\n  let href = location.href.split('api')\n  if (href.length >= 2) {\n    let dhis2URL = location.href.split('api').shift()\n    axios.get(dhis2URL + 'api/dataStore/GOFR/config').then((response) => {\n      callback(response.data)\n      // if BACKEND_URL is missing then set it\n      if (!response.data.BACKEND_SERVER) {\n        let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_HOST\n        let config = {\n          BACKEND_SERVER: url\n        }\n        addDHIS2StoreConfig(config)\n      }\n    }).catch((err) => {\n      console.log(JSON.stringify(err))\n      let resp = false\n      let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n      let config = {\n        BACKEND_SERVER: url\n      }\n      addDHIS2StoreConfig(config)\n      return callback(resp)\n    })\n  } else {\n    let resp = false\n    return callback(resp)\n  }\n}\n\nfunction addDHIS2StoreConfig (config) {\n  let dhis2URL = location.href.split('api').shift()\n  axios.post(dhis2URL + 'api/dataStore/GOFR/config', config)\n}\n/* eslint-disable no-new */\ngetDHIS2StoreConfig((storeConfig) => {\n  if (storeConfig && storeConfig.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER || storeConfig.BACKEND_SERVER\n  } else if (process.env.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER\n  } else {\n    if (guiConfig.BACKEND_HOST === '.') {\n      guiConfig.BACKEND_HOST = window.location.hostname\n      guiConfig.BACKEND_PROTOCOL = window.location.protocol.replace(':', '')\n    }\n    axios.defaults.baseURL = guiConfig.BACKEND_PROTOCOL + '://' + guiConfig.BACKEND_HOST + ':' + guiConfig.BACKEND_PORT\n  }\n  // get general config of App and pass it to the App component as props\n  let defaultGenerConfig = JSON.stringify(store.state.config.generalConfig)\n  axios.get('/getGeneralConfig?defaultGenerConfig=' + defaultGenerConfig).then(genConfig => {\n    if (!genConfig) {\n      genConfig.data = {}\n    }\n    new Vue({\n      router,\n      store,\n      i18n,\n      vuetify,\n      data () {\n        return {\n          config: genConfig.data\n        }\n      },\n      render: function (createElement) {\n        return createElement(App, {\n          props: {\n            generalConfig: this.config\n          }\n        })\n      }\n    }).$mount('#app')\n  })\n})\n"]}]}