{"remainingRequest":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/gofr-gui/src/components/ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/gofr-gui/src/components/ChangePassword.vue","mtime":1619257194369},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgdmFsaWRhdGlvbnM6IHsKICAgIHJldHlwZV9wYXNzd29yZDogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0sCiAgICBwYXNzd29yZDogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0sCiAgICBvbGRQYXNzd29yZDogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvbGRQYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcmV0eXBlX3Bhc3N3b3JkOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVBhc3N3b3JkOiBmdW5jdGlvbiBjaGFuZ2VQYXNzd29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9PSB0aGlzLnJldHlwZV9wYXNzd29yZCkgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZ0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvclRpdGxlID0gJ0Vycm9yJzsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvckRlc2NyaXB0aW9uID0gJ1Bhc3N3b3JkIG1pc21hdGNoJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnByb2dyZXNzVGl0bGUgPSAnQ2hhbmdpbmcgUGFzc3dvcmQnOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIHRoaXMucGFzc3dvcmQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2lkJywgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQpOwogICAgICBheGlvcy5wb3N0KCcvY2hhbmdlUGFzc3dvcmQvJywgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQuc2hvdyA9IHRydWU7CiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LndpZHRoID0gJzUwMHB4JzsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQubXNnID0gJ1Bhc3N3b3JkIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5ISc7CiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LnR5cGUgPSAnc3VjY2Vzcyc7IC8vIGluY3JlbWVudCBjb21wb25lbnQga2V5IHRvIGZvcmNlIGNvbXBvbmVudCByZWxvYWQKCiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmJhc2VSb3V0ZXJWaWV3S2V5ICs9IDE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQuc2hvdyA9IHRydWU7CiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LndpZHRoID0gJzUwMHB4JzsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQubXNnID0gJ1Bhc3N3b3JkIGNoYW5nZSBmYWlsZWQhJzsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQudHlwZSA9ICdlcnJvcic7IC8vIGluY3JlbWVudCBjb21wb25lbnQga2V5IHRvIGZvcmNlIGNvbXBvbmVudCByZWxvYWQKCiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmJhc2VSb3V0ZXJWaWV3S2V5ICs9IDE7CiAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICB2ZXJpZnlQYXNzd29yZDogZnVuY3Rpb24gdmVyaWZ5UGFzc3dvcmQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcm5hbWUnLCB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJuYW1lKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIHRoaXMub2xkUGFzc3dvcmQpOwogICAgICBheGlvcy5wb3N0KCcvYXV0aGVudGljYXRlLycsIGZvcm1EYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoYXV0aFJlc3ApIHsKICAgICAgICBpZiAoYXV0aFJlc3AuZGF0YS50b2tlbikgewogICAgICAgICAgX3RoaXMyLmNoYW5nZVBhc3N3b3JkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5hbGVydEZhaWwgPSB0cnVlOwogICAgICAgICAgX3RoaXMyLmFsZXJ0TXNnID0gJ1dyb25nIE9sZCBQYXNzd29yZCc7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG9sZFBhc3N3b3JkRXJyb3JzOiBmdW5jdGlvbiBvbGRQYXNzd29yZEVycm9ycygpIHsKICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYub2xkUGFzc3dvcmQuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5vbGRQYXNzd29yZC5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnT2xkIFBhc3N3b3JkIGlzIHJlcXVpcmVkJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAogICAgcGFzc3dvcmRFcnJvcnM6IGZ1bmN0aW9uIHBhc3N3b3JkRXJyb3JzKCkgewogICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5wYXNzd29yZC4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LnBhc3N3b3JkLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdQYXNzd29yZCBpcyByZXF1aXJlZCcpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKICAgIHJldHlwZV9wYXNzd29yZEVycm9yczogZnVuY3Rpb24gcmV0eXBlX3Bhc3N3b3JkRXJyb3JzKCkgewogICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5yZXR5cGVfcGFzc3dvcmQuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5yZXR5cGVfcGFzc3dvcmQucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ1JlLXR5cGUgUGFzc3dvcmQnKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container>\n    <v-layout\n      row\n      wrap\n    >\n      <v-spacer />\n      <v-flex xs6>\n        <v-card\n          class=\"mx-auto\"\n          style=\"max-width: 500px;\"\n        >\n          <v-system-bar\n            color=\"deep-purple darken-4\"\n            dark\n          />\n          <v-toolbar\n            color=\"deep-purple accent-4\"\n            cards\n            dark\n            filled\n          >\n            <v-card-title class=\"title font-weight-regular\">Change Password</v-card-title>\n          </v-toolbar>\n          <v-form\n            ref=\"form\"\n            class=\"pa-3 pt-4\"\n          >\n            <v-text-field\n              required\n              @blur=\"$v.oldPassword.$touch()\"\n              @change=\"$v.oldPassword.$touch()\"\n              :error-messages=\"oldPasswordErrors\"\n              v-model=\"oldPassword\"\n              type=\"password\"\n              filled\n              color=\"deep-purple\"\n              label=\"Old Password\"\n            />\n            <v-text-field\n              required\n              @blur=\"$v.password.$touch()\"\n              @change=\"$v.password.$touch()\"\n              :error-messages=\"passwordErrors\"\n              v-model=\"password\"\n              type=\"password\"\n              filled\n              color=\"deep-purple\"\n              label=\"Password\"\n            />\n            <v-text-field\n              required\n              @blur=\"$v.retype_password.$touch()\"\n              @change=\"$v.retype_password.$touch()\"\n              :error-messages=\"retype_passwordErrors\"\n              v-model=\"retype_password\"\n              type=\"password\"\n              filled\n              color=\"deep-purple\"\n              label=\"Re-type Password\"\n            />\n          </v-form>\n          <v-divider />\n          <v-card-actions>\n            <v-btn\n              filled\n              @click=\"$store.state.baseRouterViewKey++\"\n            >\n              <v-icon>mdi-close</v-icon>Clear\n            </v-btn>\n            <v-spacer />\n            <v-btn\n              @click=\"verifyPassword()\"\n              :disabled=\"$v.$invalid\"\n              class=\"white--text\"\n              color=\"deep-purple accent-4\"\n              depressed\n            >\n              <v-icon left>mdi-find-replace</v-icon>Change\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-flex>\n      <v-spacer />\n    </v-layout>\n  </v-container>\n</template>\n<script>\nimport axios from 'axios'\nimport { required } from 'vuelidate/lib/validators'\n\nexport default {\n  validations: {\n    retype_password: { required },\n    password: { required },\n    oldPassword: { required }\n  },\n  data () {\n    return {\n      oldPassword: '',\n      password: '',\n      retype_password: ''\n    }\n  },\n  methods: {\n    changePassword () {\n      if (this.password !== this.retype_password) {\n        this.$store.state.dialogError = true\n        this.$store.state.errorTitle = 'Error'\n        this.$store.state.errorDescription = 'Password mismatch'\n        return\n      }\n      this.$store.state.dynamicProgress = true\n      this.$store.state.progressTitle = 'Changing Password'\n      let formData = new FormData()\n      formData.append('password', this.password)\n      formData.append('id', this.$store.state.auth.userID)\n      axios.post('/changePassword/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '500px'\n        this.$store.state.alert.msg = 'Password changed successfully!'\n        this.$store.state.alert.type = 'success'\n        // increment component key to force component reload\n        this.$store.state.baseRouterViewKey += 1\n      }).catch((err) => {\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '500px'\n        this.$store.state.alert.msg = 'Password change failed!'\n        this.$store.state.alert.type = 'error'\n        // increment component key to force component reload\n        this.$store.state.baseRouterViewKey += 1\n        console.log(err.response.data.error)\n      })\n    },\n    verifyPassword () {\n      let formData = new FormData()\n      formData.append('username', this.$store.state.auth.username)\n      formData.append('password', this.oldPassword)\n      axios.post('/authenticate/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then((authResp) => {\n        if (authResp.data.token) {\n          this.changePassword()\n        } else {\n          this.alertFail = true\n          this.alertMsg = 'Wrong Old Password'\n        }\n      }).catch((err) => {\n        console.log(JSON.stringify(err))\n      })\n    }\n  },\n  computed: {\n    oldPasswordErrors () {\n      const errors = []\n      if (!this.$v.oldPassword.$dirty) return errors\n      !this.$v.oldPassword.required && errors.push('Old Password is required')\n      return errors\n    },\n    passwordErrors () {\n      const errors = []\n      if (!this.$v.password.$dirty) return errors\n      !this.$v.password.required && errors.push('Password is required')\n      return errors\n    },\n    retype_passwordErrors () {\n      const errors = []\n      if (!this.$v.retype_password.$dirty) return errors\n      !this.$v.retype_password.required && errors.push('Re-type Password')\n      return errors\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components"}]}