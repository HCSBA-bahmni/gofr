{"remainingRequest":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/gofr-gui/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr/gofr-gui/src/main.js","dependencies":[{"path":"/home/ally/gofr/gofr-gui/src/main.js","mtime":1619335450912},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/gofr-gui/node_modules/eslint-loader/index.js","mtime":1619257191105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIvZ29mci1ndWkvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiL2hvbWUvYWxseS9nb2ZyL2dvZnItZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiL2hvbWUvYWxseS9nb2ZyL2dvZnItZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiL2hvbWUvYWxseS9nb2ZyL2dvZnItZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlL3N0b3JlJzsKaW1wb3J0IGkxOG4gZnJvbSAnLi9pMThuJzsKaW1wb3J0IHZ1ZXRpZnkgZnJvbSAnLi9wbHVnaW5zL3Z1ZXRpZnknOwppbXBvcnQgdnVlbGlkYXRlIGZyb20gJ3Z1ZWxpZGF0ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCAnd2hhdHdnLWZldGNoJzsKaW1wb3J0IGZoaXJwYXRoIGZyb20gImZoaXJwYXRoIjsKaW1wb3J0IGZoaXJ1dGlscyBmcm9tICIuL3BsdWdpbnMvZmhpcnV0aWxzIjsKaW1wb3J0IGd1aUNvbmZpZyBmcm9tICcuLi9jb25maWcvY29uZmlnLmpzb24nOwpPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRmaGlycGF0aCcsIHsKICB2YWx1ZTogZmhpcnBhdGgKfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGZoaXJ1dGlscycsIHsKICB2YWx1ZTogZmhpcnV0aWxzCn0pOwpWdWUudXNlKHZ1ZWxpZGF0ZSk7ClZ1ZS5jb25maWcucHJvZHVjdGlvblRpcCA9IGZhbHNlOwpleHBvcnQgdmFyIGV2ZW50QnVzID0gbmV3IFZ1ZSgpOwoKaWYgKGd1aUNvbmZpZy5CQUNLRU5EX0hPU1QgPT09ICcuJykgewogIGd1aUNvbmZpZy5CQUNLRU5EX0hPU1QgPSB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7CiAgZ3VpQ29uZmlnLkJBQ0tFTkRfUFJPVE9DT0wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wucmVwbGFjZSgnOicsICcnKTsKfQoKZ3VpQ29uZmlnLkJBQ0tFTkRfU0VSVkVSID0gZ3VpQ29uZmlnLkJBQ0tFTkRfUFJPVE9DT0wgKyAnOi8vJyArIGd1aUNvbmZpZy5CQUNLRU5EX0hPU1QgKyAnOicgKyBndWlDb25maWcuQkFDS0VORF9QT1JUOyAvLyBpZiBydW5uaW5nIGluc2lkZSBESElTMiB0aGVuIGdldCBhbnkgY29uZmlnIGRlZmluZWQgaW5zaWRlIHRoZSBkYXRhc3RvcmUKCmZ1bmN0aW9uIGdldERISVMyU3RvcmVDb25maWcoY2FsbGJhY2spIHsKICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2FwaScpOwoKICBpZiAoaHJlZi5sZW5ndGggPj0gMikgewogICAgdmFyIGRoaXMyVVJMID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnYXBpJykuc2hpZnQoKTsKICAgIGF4aW9zLmdldChkaGlzMlVSTCArICdhcGkvZGF0YVN0b3JlL0dPRlIvY29uZmlnJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY2FsbGJhY2socmVzcG9uc2UuZGF0YSk7IC8vIGlmIEJBQ0tFTkRfVVJMIGlzIG1pc3NpbmcgdGhlbiBzZXQgaXQKCiAgICAgIGlmICghcmVzcG9uc2UuZGF0YS5CQUNLRU5EX1NFUlZFUikgewogICAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUiB8fCBndWlDb25maWcuQkFDS0VORF9TRVJWRVI7CiAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgIEJBQ0tFTkRfU0VSVkVSOiB1cmwKICAgICAgICB9OwogICAgICAgIGFkZERISVMyU3RvcmVDb25maWcoY29uZmlnKTsKICAgICAgfQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnIpKTsKICAgICAgdmFyIHJlc3AgPSBmYWxzZTsKICAgICAgdmFyIHVybCA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSIHx8IGd1aUNvbmZpZy5CQUNLRU5EX1NFUlZFUjsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBCQUNLRU5EX1NFUlZFUjogdXJsCiAgICAgIH07CiAgICAgIGFkZERISVMyU3RvcmVDb25maWcoY29uZmlnKTsKICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3ApOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIHZhciByZXNwID0gZmFsc2U7CiAgICByZXR1cm4gY2FsbGJhY2socmVzcCk7CiAgfQp9CgpmdW5jdGlvbiBhZGRESElTMlN0b3JlQ29uZmlnKGNvbmZpZykgewogIHZhciBkaGlzMlVSTCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2FwaScpLnNoaWZ0KCk7CiAgYXhpb3MucG9zdChkaGlzMlVSTCArICdhcGkvZGF0YVN0b3JlL0dPRlIvY29uZmlnJywgY29uZmlnKTsKfQovKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi8KCgpnZXRESElTMlN0b3JlQ29uZmlnKGZ1bmN0aW9uIChzdG9yZUNvbmZpZykgewogIGlmIChzdG9yZUNvbmZpZyAmJiBzdG9yZUNvbmZpZy5CQUNLRU5EX1NFUlZFUikgewogICAgYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSIHx8IHN0b3JlQ29uZmlnLkJBQ0tFTkRfU0VSVkVSOwogIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVIpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUjsKICB9IGVsc2UgewogICAgYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IGd1aUNvbmZpZy5CQUNLRU5EX1NFUlZFUjsKICB9IC8vIGdldCBnZW5lcmFsIGNvbmZpZyBvZiBBcHAgYW5kIHBhc3MgaXQgdG8gdGhlIEFwcCBjb21wb25lbnQgYXMgcHJvcHMKCgogIHZhciBkZWZhdWx0R2VuZXJDb25maWcgPSBKU09OLnN0cmluZ2lmeShzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZyk7CiAgYXhpb3MuZ2V0KCcvZ2V0R2VuZXJhbENvbmZpZz9kZWZhdWx0R2VuZXJDb25maWc9JyArIGRlZmF1bHRHZW5lckNvbmZpZykudGhlbihmdW5jdGlvbiAoZ2VuQ29uZmlnKSB7CiAgICBpZiAoIWdlbkNvbmZpZykgewogICAgICBnZW5Db25maWcuZGF0YSA9IHt9OwogICAgfQoKICAgIG5ldyBWdWUoewogICAgICByb3V0ZXI6IHJvdXRlciwKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICBpMThuOiBpMThuLAogICAgICB2dWV0aWZ5OiB2dWV0aWZ5LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb25maWc6IGdlbkNvbmZpZy5kYXRhCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoY3JlYXRlRWxlbWVudCkgewogICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEFwcCwgewogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgZ2VuZXJhbENvbmZpZzogdGhpcy5jb25maWcKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSkuJG1vdW50KCcjYXBwJyk7CiAgfSk7Cn0pOw=="},{"version":3,"sources":["/home/ally/gofr/gofr-gui/src/main.js"],"names":["Vue","App","router","store","i18n","vuetify","vuelidate","axios","fhirpath","fhirutils","guiConfig","Object","defineProperty","prototype","value","use","config","productionTip","eventBus","BACKEND_HOST","window","location","hostname","BACKEND_PROTOCOL","protocol","replace","BACKEND_SERVER","BACKEND_PORT","getDHIS2StoreConfig","callback","href","split","length","dhis2URL","shift","get","then","response","data","url","process","env","addDHIS2StoreConfig","catch","err","console","log","JSON","stringify","resp","post","storeConfig","defaults","baseURL","defaultGenerConfig","state","generalConfig","genConfig","render","createElement","props","$mount"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,KAAR,QAAoB,eAApB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AAEAC,MAAM,CAACC,cAAP,CAAsBZ,GAAG,CAACa,SAA1B,EAAqC,WAArC,EAAkD;AAChDC,EAAAA,KAAK,EAAEN;AADyC,CAAlD;AAGAG,MAAM,CAACC,cAAP,CAAsBZ,GAAG,CAACa,SAA1B,EAAqC,YAArC,EAAmD;AACjDC,EAAAA,KAAK,EAAEL;AAD0C,CAAnD;AAIAT,GAAG,CAACe,GAAJ,CAAQT,SAAR;AAEAN,GAAG,CAACgB,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,OAAO,IAAMC,QAAQ,GAAG,IAAIlB,GAAJ,EAAjB;;AAEP,IAAIU,SAAS,CAACS,YAAV,KAA2B,GAA/B,EAAoC;AAClCT,EAAAA,SAAS,CAACS,YAAV,GAAyBC,MAAM,CAACC,QAAP,CAAgBC,QAAzC;AACAZ,EAAAA,SAAS,CAACa,gBAAV,GAA6BH,MAAM,CAACC,QAAP,CAAgBG,QAAhB,CAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,CAA7B;AACD;;AACDf,SAAS,CAACgB,cAAV,GAA2BhB,SAAS,CAACa,gBAAV,GAA6B,KAA7B,GAAqCb,SAAS,CAACS,YAA/C,GAA8D,GAA9D,GAAoET,SAAS,CAACiB,YAAzG,C,CACA;;AACA,SAASC,mBAAT,CAA8BC,QAA9B,EAAwC;AACtC,MAAIC,IAAI,GAAGT,QAAQ,CAACS,IAAT,CAAcC,KAAd,CAAoB,KAApB,CAAX;;AACA,MAAID,IAAI,CAACE,MAAL,IAAe,CAAnB,EAAsB;AACpB,QAAIC,QAAQ,GAAGZ,QAAQ,CAACS,IAAT,CAAcC,KAAd,CAAoB,KAApB,EAA2BG,KAA3B,EAAf;AACA3B,IAAAA,KAAK,CAAC4B,GAAN,CAAUF,QAAQ,GAAG,2BAArB,EAAkDG,IAAlD,CAAuD,UAACC,QAAD,EAAc;AACnER,MAAAA,QAAQ,CAACQ,QAAQ,CAACC,IAAV,CAAR,CADmE,CAEnE;;AACA,UAAI,CAACD,QAAQ,CAACC,IAAT,CAAcZ,cAAnB,EAAmC;AACjC,YAAIa,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYf,cAAZ,IAA8BhB,SAAS,CAACgB,cAAlD;AACA,YAAIV,MAAM,GAAG;AACXU,UAAAA,cAAc,EAAEa;AADL,SAAb;AAGAG,QAAAA,mBAAmB,CAAC1B,MAAD,CAAnB;AACD;AACF,KAVD,EAUG2B,KAVH,CAUS,UAACC,GAAD,EAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,GAAf,CAAZ;AACA,UAAIK,IAAI,GAAG,KAAX;AACA,UAAIV,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYf,cAAZ,IAA8BhB,SAAS,CAACgB,cAAlD;AACA,UAAIV,MAAM,GAAG;AACXU,QAAAA,cAAc,EAAEa;AADL,OAAb;AAGAG,MAAAA,mBAAmB,CAAC1B,MAAD,CAAnB;AACA,aAAOa,QAAQ,CAACoB,IAAD,CAAf;AACD,KAnBD;AAoBD,GAtBD,MAsBO;AACL,QAAIA,IAAI,GAAG,KAAX;AACA,WAAOpB,QAAQ,CAACoB,IAAD,CAAf;AACD;AACF;;AAED,SAASP,mBAAT,CAA8B1B,MAA9B,EAAsC;AACpC,MAAIiB,QAAQ,GAAGZ,QAAQ,CAACS,IAAT,CAAcC,KAAd,CAAoB,KAApB,EAA2BG,KAA3B,EAAf;AACA3B,EAAAA,KAAK,CAAC2C,IAAN,CAAWjB,QAAQ,GAAG,2BAAtB,EAAmDjB,MAAnD;AACD;AACD;;;AACAY,mBAAmB,CAAC,UAACuB,WAAD,EAAiB;AACnC,MAAIA,WAAW,IAAIA,WAAW,CAACzB,cAA/B,EAA+C;AAC7CnB,IAAAA,KAAK,CAAC6C,QAAN,CAAeC,OAAf,GAAyBb,OAAO,CAACC,GAAR,CAAYf,cAAZ,IAA8ByB,WAAW,CAACzB,cAAnE;AACD,GAFD,MAEO,IAAIc,OAAO,CAACC,GAAR,CAAYf,cAAhB,EAAgC;AACrCnB,IAAAA,KAAK,CAAC6C,QAAN,CAAeC,OAAf,GAAyBb,OAAO,CAACC,GAAR,CAAYf,cAArC;AACD,GAFM,MAEA;AACLnB,IAAAA,KAAK,CAAC6C,QAAN,CAAeC,OAAf,GAAyB3C,SAAS,CAACgB,cAAnC;AACD,GAPkC,CAQnC;;;AACA,MAAI4B,kBAAkB,GAAGP,IAAI,CAACC,SAAL,CAAe7C,KAAK,CAACoD,KAAN,CAAYvC,MAAZ,CAAmBwC,aAAlC,CAAzB;AACAjD,EAAAA,KAAK,CAAC4B,GAAN,CAAU,0CAA0CmB,kBAApD,EAAwElB,IAAxE,CAA6E,UAAAqB,SAAS,EAAI;AACxF,QAAI,CAACA,SAAL,EAAgB;AACdA,MAAAA,SAAS,CAACnB,IAAV,GAAiB,EAAjB;AACD;;AACD,QAAItC,GAAJ,CAAQ;AACNE,MAAAA,MAAM,EAANA,MADM;AAENC,MAAAA,KAAK,EAALA,KAFM;AAGNC,MAAAA,IAAI,EAAJA,IAHM;AAINC,MAAAA,OAAO,EAAPA,OAJM;AAKNiC,MAAAA,IALM,kBAKE;AACN,eAAO;AACLtB,UAAAA,MAAM,EAAEyC,SAAS,CAACnB;AADb,SAAP;AAGD,OATK;AAUNoB,MAAAA,MAAM,EAAE,gBAAUC,aAAV,EAAyB;AAC/B,eAAOA,aAAa,CAAC1D,GAAD,EAAM;AACxB2D,UAAAA,KAAK,EAAE;AACLJ,YAAAA,aAAa,EAAE,KAAKxC;AADf;AADiB,SAAN,CAApB;AAKD;AAhBK,KAAR,EAiBG6C,MAjBH,CAiBU,MAjBV;AAkBD,GAtBD;AAuBD,CAjCkB,CAAnB","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport {store} from './store/store'\nimport i18n from './i18n'\nimport vuetify from './plugins/vuetify';\nimport vuelidate from 'vuelidate'\nimport axios from 'axios'\nimport 'whatwg-fetch'\nimport fhirpath from \"fhirpath\"\nimport fhirutils from \"./plugins/fhirutils\"\nimport guiConfig from '../config/config.json'\n\nObject.defineProperty(Vue.prototype, '$fhirpath', {\n  value: fhirpath\n})\nObject.defineProperty(Vue.prototype, '$fhirutils', {\n  value: fhirutils\n})\n\nVue.use(vuelidate)\n\nVue.config.productionTip = false\n\nexport const eventBus = new Vue()\n\nif (guiConfig.BACKEND_HOST === '.') {\n  guiConfig.BACKEND_HOST = window.location.hostname\n  guiConfig.BACKEND_PROTOCOL = window.location.protocol.replace(':', '')\n}\nguiConfig.BACKEND_SERVER = guiConfig.BACKEND_PROTOCOL + '://' + guiConfig.BACKEND_HOST + ':' + guiConfig.BACKEND_PORT\n// if running inside DHIS2 then get any config defined inside the datastore\nfunction getDHIS2StoreConfig (callback) {\n  let href = location.href.split('api')\n  if (href.length >= 2) {\n    let dhis2URL = location.href.split('api').shift()\n    axios.get(dhis2URL + 'api/dataStore/GOFR/config').then((response) => {\n      callback(response.data)\n      // if BACKEND_URL is missing then set it\n      if (!response.data.BACKEND_SERVER) {\n        let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n        let config = {\n          BACKEND_SERVER: url\n        }\n        addDHIS2StoreConfig(config)\n      }\n    }).catch((err) => {\n      console.log(JSON.stringify(err))\n      let resp = false\n      let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n      let config = {\n        BACKEND_SERVER: url\n      }\n      addDHIS2StoreConfig(config)\n      return callback(resp)\n    })\n  } else {\n    let resp = false\n    return callback(resp)\n  }\n}\n\nfunction addDHIS2StoreConfig (config) {\n  let dhis2URL = location.href.split('api').shift()\n  axios.post(dhis2URL + 'api/dataStore/GOFR/config', config)\n}\n/* eslint-disable no-new */\ngetDHIS2StoreConfig((storeConfig) => {\n  if (storeConfig && storeConfig.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER || storeConfig.BACKEND_SERVER\n  } else if (process.env.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER\n  } else {\n    axios.defaults.baseURL = guiConfig.BACKEND_SERVER\n  }\n  // get general config of App and pass it to the App component as props\n  let defaultGenerConfig = JSON.stringify(store.state.config.generalConfig)\n  axios.get('/getGeneralConfig?defaultGenerConfig=' + defaultGenerConfig).then(genConfig => {\n    if (!genConfig) {\n      genConfig.data = {}\n    }\n    new Vue({\n      router,\n      store,\n      i18n,\n      vuetify,\n      data () {\n        return {\n          config: genConfig.data\n        }\n      },\n      render: function (createElement) {\n        return createElement(App, {\n          props: {\n            generalConfig: this.config\n          }\n        })\n      }\n    }).$mount('#app')\n  })\n})\n"]}]}