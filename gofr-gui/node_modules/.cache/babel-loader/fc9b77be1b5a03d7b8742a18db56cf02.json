{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/facility-recon-gui/src/components/DataSources/AddDataSources.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/components/DataSources/AddDataSources.vue","mtime":1619257194373},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEZhY2lsaXR5UmVjb25VcGxvYWQgZnJvbSAnLi9GYWNpbGl0eVJlY29uVXBsb2FkJzsKaW1wb3J0IEZhY2lsaXR5UmVjb25SZW1vdGVTb3VyY2VzIGZyb20gJy4vRmFjaWxpdHlSZWNvblJlbW90ZVNvdXJjZXMnOwppbXBvcnQgRGlhbG9ncyBmcm9tICcuL2RpYWxvZ3MnOwppbXBvcnQgeyBnZW5lcmFsTWl4aW4gfSBmcm9tICcuLi8uLi9taXhpbnMvZ2VuZXJhbE1peGluJzsKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICcuLi8uLi9tYWluJzsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2dlbmVyYWxNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlbHBEaWFsb2c6IGZhbHNlLAogICAgICBkYXRhc2V0TGltaXRXYXJuOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRDb21wb25lbnQ6ICcnLAogICAgICBkYXRhU291cmNlczogW3sKICAgICAgICB0ZXh0OiAnVXBsb2FkIENTVicsCiAgICAgICAgdmFsdWU6ICd1cGxvYWQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnUmVtb3RlIFNvdXJjZScsCiAgICAgICAgdmFsdWU6ICdyZW1vdGUnCiAgICAgIH1dLAogICAgICBkYXRhU291cmNlOiAnJywKICAgICAgYWRkRGF0YVNvdXJjZTogdHJ1ZSwKICAgICAgYWxlcnRTdWNjZXNzOiBmYWxzZSwKICAgICAgYWxlcnRFcnJvcjogZmFsc2UsCiAgICAgIGFsZXJ0TXNnOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxpbWl0V2FyblN0YXRlQ2hhbmdlOiBmdW5jdGlvbiBsaW1pdFdhcm5TdGF0ZUNoYW5nZShuZXdWYWwpIHsKICAgICAgdGhpcy5kYXRhc2V0TGltaXRXYXJuID0gbmV3VmFsOwogICAgfSwKICAgIHNvdXJjZVNlbGVjdGVkOiBmdW5jdGlvbiBzb3VyY2VTZWxlY3RlZChzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5hZGREYXRhU291cmNlID0gdHJ1ZTsKCiAgICAgIGlmIChzZWxlY3Rpb24gPT09ICd1cGxvYWQnKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudCA9ICdGYWNpbGl0eVJlY29uVXBsb2FkJzsKICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb24gPT09ICdyZW1vdGUnKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudCA9ICdGYWNpbGl0eVJlY29uUmVtb3RlU291cmNlcyc7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYW5Vc2VVcGxvYWRXYXk6IGZ1bmN0aW9uIGNhblVzZVVwbG9hZFdheSgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnLmRhdGFzZXRzQWRkaXRpb25XYXlzLmluZGV4T2YoJ0NTViBVcGxvYWQnKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBjYW5Vc2VSZW1vdGVXYXk6IGZ1bmN0aW9uIGNhblVzZVJlbW90ZVdheSgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnLmRhdGFzZXRzQWRkaXRpb25XYXlzLmluZGV4T2YoJ1JlbW90ZSBTZXJ2ZXJzIFN5bmMnKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgICdGYWNpbGl0eVJlY29uVXBsb2FkJzogRmFjaWxpdHlSZWNvblVwbG9hZCwKICAgICdGYWNpbGl0eVJlY29uUmVtb3RlU291cmNlcyc6IEZhY2lsaXR5UmVjb25SZW1vdGVTb3VyY2VzLAogICAgJ2FwcERpYWxvZ3MnOiBEaWFsb2dzCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBldmVudEJ1cy4kb24oJ2RhdGFTb3VyY2VTYXZlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuYWRkRGF0YVNvdXJjZSA9IGZhbHNlOwogICAgICBfdGhpcy5kYXRhU291cmNlID0gJyc7CiAgICB9KTsKICAgIGV2ZW50QnVzLiRvbignZGF0YVNvdXJjZUFkZGVkU3VjY2Vzc2Z1bGx5JywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5hbGVydFN1Y2Nlc3MgPSB0cnVlOwogICAgICBfdGhpcy5hbGVydE1zZyA9ICdEYXRhIFNvdXJjZSBBZGRlZCBTdWNjZXNzZnVsbHknOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5hbGVydFN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgfSwgMzAwMCk7CiAgICB9KTsKICAgIGV2ZW50QnVzLiRvbigncmVtb3RlU2VydmVyRmFpbGVkQWRkJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5hbGVydEVycm9yID0gdHJ1ZTsKICAgICAgX3RoaXMuYWxlcnRNc2cgPSAnRGF0YSBTb3VyY2UgRmFpbGVkIFRvIEJlIEFkZGVkJzsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["AddDataSources.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA,OAAA,mBAAA,MAAA,uBAAA;AACA,OAAA,0BAAA,MAAA,8BAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,SAAA,YAAA,QAAA,2BAAA;AACA,SAAA,QAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,YAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,gBAAA,EAAA,KAFA;AAGA,MAAA,iBAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,YAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,eAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,CAJA;AAQA,MAAA,UAAA,EAAA,EARA;AASA,MAAA,aAAA,EAAA,IATA;AAUA,MAAA,YAAA,EAAA,KAVA;AAWA,MAAA,UAAA,EAAA,KAXA;AAYA,MAAA,QAAA,EAAA;AAZA,KAAA;AAcA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,oBADA,gCACA,MADA,EACA;AACA,WAAA,gBAAA,GAAA,MAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,SAJA,EAIA;AACA,WAAA,aAAA,GAAA,IAAA;;AACA,UAAA,SAAA,KAAA,QAAA,EAAA;AACA,aAAA,iBAAA,GAAA,qBAAA;AACA,OAFA,MAEA,IAAA,SAAA,KAAA,QAAA,EAAA;AACA,aAAA,iBAAA,GAAA,4BAAA;AACA;AACA;AAXA,GAlBA;AA+BA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,aAAA,CAAA,oBAAA,CAAA,OAAA,CAAA,YAAA,MAAA,CAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA;AACA,eAAA,IAAA;AACA;AACA,KAPA;AAQA,IAAA,eARA,6BAQA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,aAAA,CAAA,oBAAA,CAAA,OAAA,CAAA,qBAAA,MAAA,CAAA,CAAA,EAAA;AACA,eAAA,KAAA;AACA,OAFA,MAEA;AACA,eAAA,IAAA;AACA;AACA;AAdA,GA/BA;AA+CA,EAAA,UAAA,EAAA;AACA,2BAAA,mBADA;AAEA,kCAAA,0BAFA;AAGA,kBAAA;AAHA,GA/CA;AAoDA,EAAA,OApDA,qBAoDA;AAAA;;AACA,IAAA,QAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,aAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AACA,KAHA;AAIA,IAAA,QAAA,CAAA,GAAA,CAAA,6BAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,gCAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KANA;AAOA,IAAA,QAAA,CAAA,GAAA,CAAA,uBAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,gCAAA;AACA,KAHA;AAIA;AApEA,CAAA","sourcesContent":["<template>\n  <v-container fluid>\n    <v-dialog\n      v-model=\"helpDialog\"\n      scrollable\n      persistent\n      :overlay=\"false\"\n      max-width=\"700px\"\n      transition=\"dialog-transition\"\n    >\n      <v-card>\n        <v-toolbar\n          color=\"primary\"\n          dark\n        >\n          <v-toolbar-title>\n            <v-icon>mdi-information</v-icon> About this page\n          </v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            icon\n            dark\n            @click.native=\"helpDialog = false\"\n          >\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <v-card-text>\n          This page let you load data from various sources into the app for reconciliation\n          <v-list>1. Select to add remote source if you have a DHIS2 or FHIR server that you want to use its data on this app</v-list>\n          <v-list>2. Select Upload CSV if you have a CSV file and want to upload its data on the app</v-list>\n          <v-list>3. The system requires CSV data to have atleast 2 levels above facility</v-list>\n          <v-list>4. Level 1 is the highest level on the hierarchy i.e Country</v-list>\n          <v-list>\n            5. Base URL under remote sources section refer to the URL i.e http://localhost:3447/fhir and not http://localhost:3447/fhir/Location.\n            Same applies to DHIS2 base URL\n          </v-list>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n    <v-alert\n      style=\"width: 500px\"\n      v-model=\"alertSuccess\"\n      type=\"success\"\n      dismissible\n      transition=\"scale-transition\"\n    >\n      {{alertMsg}}\n    </v-alert>\n    <v-alert\n      style=\"width: 500px\"\n      v-model=\"alertError\"\n      type=\"error\"\n      dismissible\n      transition=\"scale-transition\"\n    >\n      {{alertMsg}}\n    </v-alert>\n    <v-layout\n      row\n      wrap\n    >\n      <v-spacer></v-spacer>\n      <v-flex xs6>\n        <v-card>\n          <v-card-title primary-title>\n            <v-toolbar\n              color=\"white\"\n              style=\"font-weight: bold; font-size: 18px;\"\n            >\n              Choose way to add data source\n            </v-toolbar>\n            <v-spacer></v-spacer>\n          </v-card-title>\n          <v-card-text>\n            <v-radio-group\n              v-model=\"dataSource\"\n              row\n              @change=\"sourceSelected\"\n            >\n              <v-radio\n                v-if='canUseUploadWay'\n                :disabled=\"!canAddDataset\"\n                color=\"primary\"\n                label=\"Upload CSV\"\n                value=\"upload\"\n              ></v-radio>\n              <v-radio\n                v-if='canUseRemoteWay'\n                :disabled=\"!canAddDataset\"\n                color=\"primary\"\n                label=\"Remote Source\"\n                value=\"remote\"\n              ></v-radio>\n            </v-radio-group>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n      <v-spacer></v-spacer>\n      <v-flex\n        xs1\n        text-xs-right\n      >\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on }\">\n            <v-btn\n              class=\"mx-1\"\n              fab\n              dark\n              x-small\n              color=\"primary\"\n              @click=\"helpDialog = true\"\n              v-on=\"on\"\n            >\n              <v-icon>mdi-help</v-icon>\n            </v-btn>\n          </template>\n          <span>Help</span>\n        </v-tooltip>\n      </v-flex>\n      <v-flex xs12>\n        <component\n          :is=\"selectedComponent\"\n          v-if='addDataSource'\n        />\n      </v-flex>\n    </v-layout>\n    <appDialogs\n      :datasetLimitWarn=\"datasetLimitWarn\"\n      @limitWarnStateChange='limitWarnStateChange'\n    >\n    </appDialogs>\n  </v-container>\n</template>\n\n<script>\nimport FacilityReconUpload from './FacilityReconUpload'\nimport FacilityReconRemoteSources from './FacilityReconRemoteSources'\nimport Dialogs from './dialogs'\nimport { generalMixin } from '../../mixins/generalMixin'\nimport { eventBus } from '../../main'\nexport default {\n  mixins: [generalMixin],\n  data () {\n    return {\n      helpDialog: false,\n      datasetLimitWarn: false,\n      selectedComponent: '',\n      dataSources: [\n        { text: 'Upload CSV', value: 'upload' },\n        { text: 'Remote Source', value: 'remote' }\n      ],\n      dataSource: '',\n      addDataSource: true,\n      alertSuccess: false,\n      alertError: false,\n      alertMsg: ''\n    }\n  },\n  methods: {\n    limitWarnStateChange (newVal) {\n      this.datasetLimitWarn = newVal\n    },\n    sourceSelected (selection) {\n      this.addDataSource = true\n      if (selection === 'upload') {\n        this.selectedComponent = 'FacilityReconUpload'\n      } else if (selection === 'remote') {\n        this.selectedComponent = 'FacilityReconRemoteSources'\n      }\n    }\n  },\n  computed: {\n    canUseUploadWay () {\n      if (this.$store.state.config.generalConfig.datasetsAdditionWays.indexOf('CSV Upload') === -1) {\n        return false\n      } else {\n        return true\n      }\n    },\n    canUseRemoteWay () {\n      if (this.$store.state.config.generalConfig.datasetsAdditionWays.indexOf('Remote Servers Sync') === -1) {\n        return false\n      } else {\n        return true\n      }\n    }\n  },\n  components: {\n    'FacilityReconUpload': FacilityReconUpload,\n    'FacilityReconRemoteSources': FacilityReconRemoteSources,\n    'appDialogs': Dialogs\n  },\n  created () {\n    eventBus.$on('dataSourceSaved', () => {\n      this.addDataSource = false\n      this.dataSource = ''\n    })\n    eventBus.$on('dataSourceAddedSuccessfully', () => {\n      this.alertSuccess = true\n      this.alertMsg = 'Data Source Added Successfully'\n      setTimeout(() => {\n        this.alertSuccess = false\n      }, 3000)\n    })\n    eventBus.$on('remoteServerFailedAdd', () => {\n      this.alertError = true\n      this.alertMsg = 'Data Source Failed To Be Added'\n    })\n  }\n}\n</script>\n"],"sourceRoot":"src/components/DataSources"}]}