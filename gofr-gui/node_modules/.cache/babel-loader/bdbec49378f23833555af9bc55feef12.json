{"remainingRequest":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js!/home/ally/gofr2/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr2/src/main.js","dependencies":[{"path":"/home/ally/gofr2/src/main.js","mtime":1619070048582},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ally/gofr2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIi9ob21lL2FsbHkvZ29mcjIvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIyL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiL2hvbWUvYWxseS9nb2ZyMi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9zdG9yZS9zdG9yZSc7CmltcG9ydCBpMThuIGZyb20gJy4vaTE4bic7CmltcG9ydCB2dWV0aWZ5IGZyb20gJy4vcGx1Z2lucy92dWV0aWZ5JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGd1aUNvbmZpZyBmcm9tICcuLi9jb25maWcvY29uZmlnLmpzb24nOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKZXhwb3J0IHZhciBldmVudEJ1cyA9IG5ldyBWdWUoKTsgLy8gaWYgcnVubmluZyBpbnNpZGUgREhJUzIgdGhlbiBnZXQgYW55IGNvbmZpZyBkZWZpbmVkIGluc2lkZSB0aGUgZGF0YXN0b3JlCgpmdW5jdGlvbiBnZXRESElTMlN0b3JlQ29uZmlnKGNhbGxiYWNrKSB7CiAgdmFyIGhyZWYgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKTsKCiAgaWYgKGhyZWYubGVuZ3RoID49IDIpIHsKICAgIHZhciBkaGlzMlVSTCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2FwaScpLnNoaWZ0KCk7CiAgICBheGlvcy5nZXQoZGhpczJVUkwgKyAnYXBpL2RhdGFTdG9yZS9HT0ZSL2NvbmZpZycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLmRhdGEpOyAvLyBpZiBCQUNLRU5EX1VSTCBpcyBtaXNzaW5nIHRoZW4gc2V0IGl0CgogICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuQkFDS0VORF9TRVJWRVIpIHsKICAgICAgICB2YXIgdXJsID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVIgfHwgZ3VpQ29uZmlnLkJBQ0tFTkRfU0VSVkVSOwogICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICBCQUNLRU5EX1NFUlZFUjogdXJsCiAgICAgICAgfTsKICAgICAgICBhZGRESElTMlN0b3JlQ29uZmlnKGNvbmZpZyk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyKSk7CiAgICAgIHZhciByZXNwID0gZmFsc2U7CiAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUiB8fCBndWlDb25maWcuQkFDS0VORF9TRVJWRVI7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgQkFDS0VORF9TRVJWRVI6IHVybAogICAgICB9OwogICAgICBhZGRESElTMlN0b3JlQ29uZmlnKGNvbmZpZyk7CiAgICAgIHJldHVybiBjYWxsYmFjayhyZXNwKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICB2YXIgcmVzcCA9IGZhbHNlOwogICAgcmV0dXJuIGNhbGxiYWNrKHJlc3ApOwogIH0KfQoKZnVuY3Rpb24gYWRkREhJUzJTdG9yZUNvbmZpZyhjb25maWcpIHsKICB2YXIgZGhpczJVUkwgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKS5zaGlmdCgpOwogIGF4aW9zLnBvc3QoZGhpczJVUkwgKyAnYXBpL2RhdGFTdG9yZS9HT0ZSL2NvbmZpZycsIGNvbmZpZyk7Cn0KLyogZXNsaW50LWRpc2FibGUgbm8tbmV3ICovCgoKZ2V0REhJUzJTdG9yZUNvbmZpZyhmdW5jdGlvbiAoc3RvcmVDb25maWcpIHsKICBpZiAoc3RvcmVDb25maWcgJiYgc3RvcmVDb25maWcuQkFDS0VORF9TRVJWRVIpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUiB8fCBzdG9yZUNvbmZpZy5CQUNLRU5EX1NFUlZFUjsKICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSKSB7CiAgICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVI7CiAgfSBlbHNlIHsKICAgIGlmIChndWlDb25maWcuQkFDS0VORF9IT1NUID09PSAnLicpIHsKICAgICAgZ3VpQ29uZmlnLkJBQ0tFTkRfSE9TVCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsKICAgICAgZ3VpQ29uZmlnLkJBQ0tFTkRfUFJPVE9DT0wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wucmVwbGFjZSgnOicsICcnKTsKICAgIH0KCiAgICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gZ3VpQ29uZmlnLkJBQ0tFTkRfUFJPVE9DT0wgKyAnOi8vJyArIGd1aUNvbmZpZy5CQUNLRU5EX0hPU1QgKyAnOicgKyBndWlDb25maWcuQkFDS0VORF9QT1JUOwogIH0gLy8gZ2V0IGdlbmVyYWwgY29uZmlnIG9mIEFwcCBhbmQgcGFzcyBpdCB0byB0aGUgQXBwIGNvbXBvbmVudCBhcyBwcm9wcwoKCiAgdmFyIGRlZmF1bHRHZW5lckNvbmZpZyA9IEpTT04uc3RyaW5naWZ5KHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnKTsKICBheGlvcy5nZXQoJy9nZXRHZW5lcmFsQ29uZmlnP2RlZmF1bHRHZW5lckNvbmZpZz0nICsgZGVmYXVsdEdlbmVyQ29uZmlnKS50aGVuKGZ1bmN0aW9uIChnZW5Db25maWcpIHsKICAgIGlmICghZ2VuQ29uZmlnKSB7CiAgICAgIGdlbkNvbmZpZy5kYXRhID0ge307CiAgICB9CgogICAgbmV3IFZ1ZSh7CiAgICAgIHJvdXRlcjogcm91dGVyLAogICAgICBzdG9yZTogc3RvcmUsCiAgICAgIGkxOG46IGkxOG4sCiAgICAgIHZ1ZXRpZnk6IHZ1ZXRpZnksCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNvbmZpZzogZ2VuQ29uZmlnLmRhdGEKICAgICAgICB9OwogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihjcmVhdGVFbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQXBwLCB7CiAgICAgICAgICBwcm9wczogewogICAgICAgICAgICBnZW5lcmFsQ29uZmlnOiB0aGlzLmNvbmZpZwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KS4kbW91bnQoJyNhcHAnKTsKICB9KTsKfSk7"},{"version":3,"sources":["/home/ally/gofr2/src/main.js"],"names":["Vue","App","router","store","i18n","vuetify","axios","guiConfig","config","productionTip","eventBus","getDHIS2StoreConfig","callback","href","location","split","length","dhis2URL","shift","get","then","response","data","BACKEND_SERVER","url","process","env","addDHIS2StoreConfig","catch","err","console","log","JSON","stringify","resp","post","storeConfig","defaults","baseURL","BACKEND_HOST","window","hostname","BACKEND_PROTOCOL","protocol","replace","BACKEND_PORT","defaultGenerConfig","state","generalConfig","genConfig","render","createElement","props","$mount"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport {store} from './store/store'\nimport i18n from './i18n'\nimport vuetify from './plugins/vuetify';\nimport axios from 'axios'\nimport guiConfig from '../config/config.json'\n\nVue.config.productionTip = false\n\nexport const eventBus = new Vue()\n\n// if running inside DHIS2 then get any config defined inside the datastore\nfunction getDHIS2StoreConfig (callback) {\n  let href = location.href.split('api')\n  if (href.length >= 2) {\n    let dhis2URL = location.href.split('api').shift()\n    axios.get(dhis2URL + 'api/dataStore/GOFR/config').then((response) => {\n      callback(response.data)\n      // if BACKEND_URL is missing then set it\n      if (!response.data.BACKEND_SERVER) {\n        let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n        let config = {\n          BACKEND_SERVER: url\n        }\n        addDHIS2StoreConfig(config)\n      }\n    }).catch((err) => {\n      console.log(JSON.stringify(err))\n      let resp = false\n      let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n      let config = {\n        BACKEND_SERVER: url\n      }\n      addDHIS2StoreConfig(config)\n      return callback(resp)\n    })\n  } else {\n    let resp = false\n    return callback(resp)\n  }\n}\n\nfunction addDHIS2StoreConfig (config) {\n  let dhis2URL = location.href.split('api').shift()\n  axios.post(dhis2URL + 'api/dataStore/GOFR/config', config)\n}\n/* eslint-disable no-new */\ngetDHIS2StoreConfig((storeConfig) => {\n  if (storeConfig && storeConfig.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER || storeConfig.BACKEND_SERVER\n  } else if (process.env.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER\n  } else {\n    if (guiConfig.BACKEND_HOST === '.') {\n      guiConfig.BACKEND_HOST = window.location.hostname\n      guiConfig.BACKEND_PROTOCOL = window.location.protocol.replace(':', '')\n    }\n    axios.defaults.baseURL = guiConfig.BACKEND_PROTOCOL + '://' + guiConfig.BACKEND_HOST + ':' + guiConfig.BACKEND_PORT\n  }\n  // get general config of App and pass it to the App component as props\n  let defaultGenerConfig = JSON.stringify(store.state.config.generalConfig)\n  axios.get('/getGeneralConfig?defaultGenerConfig=' + defaultGenerConfig).then(genConfig => {\n    if (!genConfig) {\n      genConfig.data = {}\n    }\n    new Vue({\n      router,\n      store,\n      i18n,\n      vuetify,\n      data () {\n        return {\n          config: genConfig.data\n        }\n      },\n      render: function (createElement) {\n        return createElement(App, {\n          props: {\n            generalConfig: this.config\n          }\n        })\n      }\n    }).$mount('#app')\n  })\n})\n"]}]}