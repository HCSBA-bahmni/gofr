{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/facility-recon-gui/src/components/fhir/fhir-coding.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/components/fhir/fhir-coding.vue","mtime":1619771013235},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBJaHJpc0VsZW1lbnQgZnJvbSAiLi4vaWhyaXMvaWhyaXMtZWxlbWVudC52dWUiOwovKgpjb25zdCBpdGVtU29ydCA9IChhLGIpID0+IHsKICByZXR1cm4gKGEuZGlzcGxheSA9PT0gYi5kaXNwbGF5ID8gKGEuY29kZSA9PT0gYi5jb2RlID8gMCA6IChhLmNvZGUgPCBiLmNvZGUgPyAtMTogMSkpIDogKGEuZGlzcGxheSA8IGIuZGlzcGxheSA/IC0xIDogMSkgKQp9CiovCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImZoaXItY29kaW5nIiwKICBwcm9wczogWyJmaWVsZCIsICJsYWJlbCIsICJzbGljZU5hbWUiLCAidGFyZ2V0cHJvZmlsZSIsICJtaW4iLCAibWF4IiwgImJhc2UtbWluIiwgImJhc2UtbWF4IiwgInNsb3RQcm9wcyIsICJwYXRoIiwgImJpbmRpbmciLCAiZWRpdCIsICJyZWFkT25seUlmU2V0IiwgImNvbnN0cmFpbnRzIl0sCiAgY29tcG9uZW50czogewogICAgSWhyaXNFbGVtZW50OiBJaHJpc0VsZW1lbnQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogewogICAgICAgIHN5c3RlbTogIiIsCiAgICAgICAgY29kZTogIiIsCiAgICAgICAgZGlzcGxheTogIiIKICAgICAgfSwKICAgICAgdmFsdWVDb2RlOiAiIiwKICAgICAgdmFsdWVEaXNwbGF5OiAiIiwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgLy9lcnJvcjogZmFsc2UsCiAgICAgIGl0ZW1zOiBbXSwKICAgICAgc291cmNlOiB7CiAgICAgICAgcGF0aDogIiIsCiAgICAgICAgZGF0YToge30sCiAgICAgICAgYmluZGluZzogdGhpcy5iaW5kaW5nCiAgICAgIH0sCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgbG9ja1dhdGNoOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldHVwRGF0YSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHNsb3RQcm9wczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIC8vY29uc29sZS5sb2coIldBVENIIENPRElORyIsdGhpcy5wYXRoLHRoaXMuc2xvdFByb3BzKQogICAgICAgIGlmICghdGhpcy5sb2NrV2F0Y2gpIHsKICAgICAgICAgIHRoaXMuc2V0dXBEYXRhKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgdmFsdWVDb2RlOiBmdW5jdGlvbiB2YWx1ZUNvZGUoY29kZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXRlbXMpIHsKICAgICAgICB2YXIgZmluZFZhbHVlID0gdGhpcy5pdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jb2RlID09PSBjb2RlOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZmluZFZhbHVlKSB7CiAgICAgICAgICB0aGlzLnZhbHVlID0gZmluZFZhbHVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMudmFsdWUuc3lzdGVtICYmIHRoaXMudmFsdWUuY29kZSkgewogICAgICAgIHRoaXMuJGZoaXJ1dGlscy5jb2RlTG9va3VwKHRoaXMudmFsdWUuc3lzdGVtLCB0aGlzLnZhbHVlLmNvZGUsIHRoaXMuYmluZGluZyB8fCB0aGlzLnNvdXJjZS5iaW5kaW5nKS50aGVuKGZ1bmN0aW9uIChkaXNwbGF5KSB7CiAgICAgICAgICBfdGhpcy52YWx1ZURpc3BsYXkgPSBkaXNwbGF5OwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXR1cERhdGE6IGZ1bmN0aW9uIHNldHVwRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5zbG90UHJvcHMgJiYgdGhpcy5zbG90UHJvcHMuc291cmNlKSB7CiAgICAgICAgdGhpcy5zb3VyY2UgPSB7CiAgICAgICAgICBwYXRoOiB0aGlzLnNsb3RQcm9wcy5zb3VyY2UucGF0aCArICIuIiArIHRoaXMuZmllbGQsCiAgICAgICAgICBkYXRhOiB7fSwKICAgICAgICAgIGJpbmRpbmc6IHRoaXMuYmluZGluZyB8fCB0aGlzLnNsb3RQcm9wcy5zb3VyY2UuYmluZGluZwogICAgICAgIH07CgogICAgICAgIGlmICh0aGlzLnNsb3RQcm9wcy5zb3VyY2UuZnJvbUFycmF5KSB7CiAgICAgICAgICB0aGlzLnNvdXJjZS5kYXRhID0gdGhpcy5zbG90UHJvcHMuc291cmNlLmRhdGE7IC8vIE5lZWQgdG8gc2VlIGlmIHRoaXMgd29ya3MgYW5kIGZpZ3VyZSBvdXQgd2hhdCBpdCBuZWVkcyB0byBiZQoKICAgICAgICAgIGlmICh0aGlzLnNvdXJjZS5kYXRhKSB7CiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnNvdXJjZS5kYXRhOwogICAgICAgICAgICB0aGlzLnZhbHVlQ29kZSA9IHRoaXMudmFsdWUuY29kZTsKICAgICAgICAgICAgdGhpcy5sb2NrV2F0Y2ggPSB0cnVlOyAvL2NvbnNvbGUubG9nKCJzZXQiLHRoaXMudmFsdWUsdGhpcy52YWx1ZUNvZGUpCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBleHByZXNzaW9uID0gdGhpcy4kZmhpcnV0aWxzLnBhdGhGaWVsZEV4cHJlc3Npb24odGhpcy5maWVsZCk7CiAgICAgICAgICB0aGlzLnNvdXJjZS5kYXRhID0gdGhpcy4kZmhpcnBhdGguZXZhbHVhdGUodGhpcy5zbG90UHJvcHMuc291cmNlLmRhdGEsIGV4cHJlc3Npb24pOyAvL2NvbnNvbGUubG9nKCJGUEFUSCBpbmZvIix0aGlzLnBhdGgsdGhpcy5zbG90UHJvcHMpCiAgICAgICAgICAvL2NvbnNvbGUubG9nKCJGUEFUSCBzZXR0aW5nIHZhbHVlIHRvIix0aGlzLmZpZWxkLHRoaXMuc291cmNlLmRhdGFbMF0sZXhwcmVzc2lvbix0aGlzLnNsb3RQcm9wcy5zb3VyY2UuZGF0YSkKCiAgICAgICAgICBpZiAodGhpcy5zb3VyY2UuZGF0YVswXSkgewogICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zb3VyY2UuZGF0YVswXTsKICAgICAgICAgICAgdGhpcy52YWx1ZUNvZGUgPSB0aGlzLnZhbHVlLmNvZGU7CiAgICAgICAgICAgIHRoaXMubG9ja1dhdGNoID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLnJlYWRPbmx5SWZTZXQgJiYgISF0aGlzLnZhbHVlQ29kZTsKICAgICAgfQoKICAgICAgdmFyIGJpbmRpbmcgPSB0aGlzLmJpbmRpbmcgfHwgdGhpcy5zbG90UHJvcHMuc291cmNlLmJpbmRpbmc7CiAgICAgIHRoaXMuJGZoaXJ1dGlscy5leHBhbmQoYmluZGluZykudGhlbihmdW5jdGlvbiAoaXRlbXMpIHsKICAgICAgICBfdGhpczIuaXRlbXMgPSBpdGVtczsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy90aGlzLmVycm9yID0gdHJ1ZQoKICAgICAgICBfdGhpczIuZXJyb3JzID0gZXJyLm1lc3NhZ2U7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7IC8vY29uc29sZS5sb2coIkNPRElORyIsYmluZGluZykKCiAgICAgIC8qCiAgICAgIGxldCBsYXN0U2xhc2ggPSBiaW5kaW5nLmxhc3RJbmRleE9mKCcvJykKICAgICAgbGV0IGxhc3RQaXBlID0gYmluZGluZy5sYXN0SW5kZXhPZignfCcpCiAgICAgIGxldCB2YWx1ZVNldElkID0gYmluZGluZy5zbGljZShsYXN0U2xhc2grMSwgKGxhc3RQaXBlICE9PSAtMSA/IGxhc3RQaXBlIDogYmluZGluZy5sZW5ndGggKSkKICAgICAgLy9jb25zb2xlLmxvZygiQ09ESU5HIixsYXN0U2xhc2gsbGFzdFBpcGUsdmFsdWVTZXRJZCkKICAgICAgZmV0Y2goIi9maGlyL1ZhbHVlU2V0LyIrdmFsdWVTZXRJZCsiLyRleHBhbmQiKS50aGVuKHJlc3BvbnNlPT4gewogICAgICAgIGlmKCByZXNwb25zZS5vayApIHsKICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGRhdGE9PnsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBpZiAoIGRhdGEuZXhwYW5zaW9uLmNvbnRhaW5zICYmIGRhdGEuZXhwYW5zaW9uLmNvbnRhaW5zLmxlbmd0aCA+IDAgKSB7CiAgICAgICAgICAgICAgICBpZiAoIGRhdGEuZXhwYW5zaW9uLmNvbnRhaW5zWzBdLmhhc093blByb3BlcnR5KCJkaXNwbGF5IikgKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSBkYXRhLmV4cGFuc2lvbi5jb250YWlucwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICggZGF0YS5jb21wb3NlICYmIGRhdGEuY29tcG9zZS5pbmNsdWRlICkgewogICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gZGF0YS5leHBhbnNpb24uY29udGFpbnMubWFwKCBjb2RlID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgaW5jbHVkZSA9IGRhdGEuY29tcG9zZS5pbmNsdWRlLmZpbmQoIGluYyA9PiBpbmMuc3lzdGVtID09PSBjb2RlLnN5c3RlbSApCiAgICAgICAgICAgICAgICAgICAgaWYgKCBpbmNsdWRlICYmIGluY2x1ZGUuY29uY2VwdCApIHsKICAgICAgICAgICAgICAgICAgICAgIGxldCBkaXNwbGF5ID0gaW5jbHVkZS5jb25jZXB0LmZpbmQoIGNvbmNlcHQgPT4gY29uY2VwdC5jb2RlID09PSBjb2RlLmNvZGUgKQogICAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXNwbGF5ICkgewogICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmRpc3BsYXkgPSBkaXNwbGF5LmRpc3BsYXkKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUKICAgICAgICAgICAgICAgICAgfSApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuaXRlbXMuc29ydCggaXRlbVNvcnQgKQogICAgICAgICAgICB9IGNhdGNoKGVycikgewogICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlCiAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSAiSW52YWxpZCByZXNwb25zZSBmcm9tIHNlcnZlci4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0pLmNhdGNoKGVycj0+ewogICAgICAgICAgICB0aGlzLmVycm9ycyA9IGVyci5tZXNzYWdlCiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBUcnkgbG9hZGluZyB2YWx1ZXNldCB3aXRob3V0IGV4cGFuc2lvbiBpZiBleHBhbmQgZmFpbGVkLgogICAgICAgICAgY29uc29sZS5sb2coIkZhaWxlZCB0byBnZXQgVmFsdWVTZXQgRXhwYW5zaW9uIGZvciAiK3ZhbHVlU2V0SWQpCiAgICAgICAgICBmZXRjaCgiL2ZoaXIvVmFsdWVTZXQvIit2YWx1ZVNldElkKS50aGVuKHJlc3BvbnNlPT4gewogICAgICAgICAgICBpZiAoIHJlc3BvbnNlLm9rICkgewogICAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGRhdGE9PiB7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gW10KICAgICAgICAgICAgICAgIGlmICggZGF0YS5jb21wb3NlICYmIGRhdGEuY29tcG9zZS5pbmNsdWRlICkgewogICAgICAgICAgICAgICAgICBmb3IoIGxldCBpbmNsdWRlIG9mIGRhdGEuY29tcG9zZS5pbmNsdWRlICkgewogICAgICAgICAgICAgICAgICAgIGlmICggaW5jbHVkZS5jb25jZXB0ICkgewogICAgICAgICAgICAgICAgICAgICAgZm9yICggbGV0IGNvbmNlcHQgb2YgaW5jbHVkZS5jb25jZXB0ICkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25jZXB0LnN5c3RlbSA9IGluY2x1ZGUuc3lzdGVtCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCggY29uY2VwdCApCiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5pdGVtcy5wdXNoKCB7IHN5c3RlbTogaW5jbHVkZS5zeXN0ZW0sIC4uLmNvbmNlcHQgfSApCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLnNvcnQoIGl0ZW1Tb3J0ICkKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycyA9IGVyci5tZXNzYWdlCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlCiAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSAiSW52YWxpZCByZXNwb25zZSBmcm9tIHNlcnZlci4iCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gZXJyLm1lc3NhZ2UKICAgICAgICAgICAgdGhpcy5lcnJvciA9IHRydWUKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0pCiAgICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnIubWVzc2FnZQogICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgICAgKi8KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbmRleDogZnVuY3Rpb24gaW5kZXgoKSB7CiAgICAgIGlmICh0aGlzLnNsb3RQcm9wcyAmJiB0aGlzLnNsb3RQcm9wcy5pbnB1dCkgcmV0dXJuIHRoaXMuc2xvdFByb3BzLmlucHV0LmluZGV4O2Vsc2UgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0sCiAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KCkgewogICAgICBpZiAodGhpcy5zbG90UHJvcHMgJiYgdGhpcy5zbG90UHJvcHMuaW5wdXQpIHJldHVybiB0aGlzLnNsb3RQcm9wcy5pbnB1dC5sYWJlbDtlbHNlIHJldHVybiB0aGlzLmxhYmVsOwogICAgfSwKICAgIHJlcXVpcmVkOiBmdW5jdGlvbiByZXF1aXJlZCgpIHsKICAgICAgcmV0dXJuICh0aGlzLmluZGV4IHx8IDApIDwgdGhpcy5taW47CiAgICB9LAogICAgcnVsZXM6IGZ1bmN0aW9uIHJ1bGVzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnJlcXVpcmVkKSB7CiAgICAgICAgcmV0dXJuIFtmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuICEhdiB8fCBfdGhpczMuZGlzcGxheSArICIgaXMgcmVxdWlyZWQiOwogICAgICAgIH1dOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogICAgLyoKICAgIGRpc3BsYXlWYWx1ZTogZnVuY3Rpb24oKSB7CiAgICAgIGxldCBmb3VuZCA9IHRoaXMuaXRlbXMuZmluZCggaXRlbSA9PiBpdGVtLmNvZGUgPT09IHRoaXMudmFsdWVDb2RlICkKICAgICAgaWYgKCBmb3VuZCApIHsKICAgICAgICByZXR1cm4gZm91bmQuZGlzcGxheQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIgogICAgICB9CiAgICB9CiAgICAqLwoKICB9Cn07"},{"version":3,"sources":["fhir-coding.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ihris-element :edit=\"edit\" :loading=\"loading\">\n    <template #form>\n      <v-select \n        :loading=\"loading\" \n        :label=\"display\" \n        v-model=\"valueCode\" \n        :items=\"items\" \n        outlined \n        hide-details=\"auto\" \n        :error-messages=\"errors\"\n        item-text=\"display\"\n        item-value=\"code\"\n        :disabled=\"disabled\"\n        :rules=\"rules\"\n        dense\n        @change=\"errors = []\"\n      >\n        <template #label>{{display}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n      </v-select>\n    </template>\n    <template #header>\n      {{display}}\n    </template>\n    <template #value>\n      {{valueDisplay || value.display || \"\"}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\n\n/*\nconst itemSort = (a,b) => {\n  return (a.display === b.display ? (a.code === b.code ? 0 : (a.code < b.code ? -1: 1)) : (a.display < b.display ? -1 : 1) )\n}\n*/\nexport default {\n  name: \"fhir-coding\",\n  props: [\"field\",\"label\",\"sliceName\",\"targetprofile\",\"min\",\"max\",\"base-min\",\"base-max\",\"slotProps\",\"path\",\"binding\",\"edit\",\"readOnlyIfSet\",\n    \"constraints\"],\n  components: {\n    IhrisElement\n  },\n  data: function() {\n    return {\n      value: { system: \"\", code: \"\", display: \"\" },\n      valueCode: \"\",\n      valueDisplay: \"\",\n      loading: true,\n      errors: [],\n      //error: false,\n      items: [],\n      source: { path: \"\", data: {}, binding: this.binding },\n      disabled: false,\n      lockWatch: false\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH CODING\",this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    },\n    valueCode: function( code ) {\n      if ( this.items ) {\n        let findValue = this.items.find( item => item.code === code )\n        if ( findValue ) {\n          this.value = findValue\n        }\n      }\n      if ( this.value.system && this.value.code ) {\n        this.$fhirutils.codeLookup( this.value.system, this.value.code, this.binding || this.source.binding ).then( display => {\n          this.valueDisplay = display\n        } )\n      }\n    }\n  },\n  methods: {\n    setupData: function() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {}, \n          binding: this.binding || this.slotProps.source.binding }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          // Need to see if this works and figure out what it needs to be\n          if ( this.source.data ) {\n            this.value = this.source.data\n            this.valueCode = this.value.code\n            this.lockWatch = true\n            //console.log(\"set\",this.value,this.valueCode)\n          }\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"FPATH info\",this.path,this.slotProps)\n          //console.log(\"FPATH setting value to\",this.field,this.source.data[0],expression,this.slotProps.source.data)\n          if ( this.source.data[0] ) {\n            this.value = this.source.data[0]\n            this.valueCode = this.value.code\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.valueCode)\n      }\n      let binding = this.binding || this.slotProps.source.binding\n      this.$fhirutils.expand( binding ).then( items => {\n        this.items = items \n        this.loading = false\n      } ).catch( err => {\n        console.log(err)\n        //this.error = true\n        this.errors = err.message\n        this.loading = false\n      } )\n      //console.log(\"CODING\",binding)\n      /*\n      let lastSlash = binding.lastIndexOf('/')\n      let lastPipe = binding.lastIndexOf('|')\n      let valueSetId = binding.slice(lastSlash+1, (lastPipe !== -1 ? lastPipe : binding.length ))\n      //console.log(\"CODING\",lastSlash,lastPipe,valueSetId)\n      fetch(\"/fhir/ValueSet/\"+valueSetId+\"/$expand\").then(response=> {\n        if( response.ok ) {\n          response.json().then(data=>{\n            try {\n              if ( data.expansion.contains && data.expansion.contains.length > 0 ) {\n                if ( data.expansion.contains[0].hasOwnProperty(\"display\") ) {\n                  this.items = data.expansion.contains\n                } else if ( data.compose && data.compose.include ) {\n                  this.items = data.expansion.contains.map( code => {\n                    let include = data.compose.include.find( inc => inc.system === code.system )\n                    if ( include && include.concept ) {\n                      let display = include.concept.find( concept => concept.code === code.code )\n                      if ( display ) {\n                        code.display = display.display\n                      }\n                    }\n                    return code\n                  } )\n                }\n              }\n              this.items.sort( itemSort )\n            } catch(err) {\n              this.error = true\n              this.errors = \"Invalid response from server.\"\n            }\n            this.loading = false\n          }).catch(err=>{\n            this.errors = err.message\n            this.error = true\n            this.loading = false\n          })\n        } else {\n          // Try loading valueset without expansion if expand failed.\n          console.log(\"Failed to get ValueSet Expansion for \"+valueSetId)\n          fetch(\"/fhir/ValueSet/\"+valueSetId).then(response=> {\n            if ( response.ok ) {\n              response.json().then(data=> {\n                this.items = []\n                if ( data.compose && data.compose.include ) {\n                  for( let include of data.compose.include ) {\n                    if ( include.concept ) {\n                      for ( let concept of include.concept ) {\n                        concept.system = include.system\n                        this.items.push( concept )\n                        //this.items.push( { system: include.system, ...concept } )\n                      }\n                    }\n                  }\n                }\n                this.items.sort( itemSort )\n                this.loading = false\n              }).catch(err=>{\n                this.errors = err.message\n                this.error = true\n                this.loading = false\n              })\n            } else {\n              this.error = true\n              this.errors = \"Invalid response from server.\"\n              this.loading = false\n            }\n          }).catch(err=>{\n            this.errors = err.message\n            this.error = true\n            this.loading = false\n          })\n\n        }\n      }).catch(err=>{\n        this.errors = err.message\n        this.error = true\n        this.loading = false\n      })\n      */\n    }\n  },\n  computed: {\n    index: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.index\n      else return undefined\n    },\n    display: function() {\n      if ( this.slotProps && this.slotProps.input) return this.slotProps.input.label\n      else return this.label\n    },\n    required: function() {\n      return (this.index || 0) < this.min\n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.display+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n    /*\n    displayValue: function() {\n      let found = this.items.find( item => item.code === this.valueCode )\n      if ( found ) {\n        return found.display\n      } else {\n        return \"\"\n      }\n    }\n    */\n  }\n}\n</script>\n"],"sourceRoot":"src/components/fhir"}]}