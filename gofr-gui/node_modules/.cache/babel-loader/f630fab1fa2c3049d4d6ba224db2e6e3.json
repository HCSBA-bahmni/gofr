{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/facility-recon-gui/src/components/fhir/fhir-decimal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/components/fhir/fhir-decimal.vue","mtime":1619771031258},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IElocmlzRWxlbWVudCBmcm9tICIuLi9paHJpcy9paHJpcy1lbGVtZW50LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZmhpci1kZWNpbWFsIiwKICBwcm9wczogWyJmaWVsZCIsICJsYWJlbCIsICJtaW4iLCAibWF4IiwgImlkIiwgInBhdGgiLCAic2xvdFByb3BzIiwgInNsaWNlTmFtZSIsICJiYXNlLW1pbiIsICJiYXNlLW1heCIsICJlZGl0IiwgInJlYWRPbmx5SWZTZXQiLCAiY29uc3RyYWludHMiXSwKICBjb21wb25lbnRzOiB7CiAgICBJaHJpc0VsZW1lbnQ6IElocmlzRWxlbWVudAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvdXJjZTogewogICAgICAgIHBhdGg6ICIiLAogICAgICAgIGRhdGE6IHt9CiAgICAgIH0sCiAgICAgIHZhbHVlOiAiIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBlcnJvcnM6IFtdLAogICAgICBsb2NrV2F0Y2g6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vY29uc29sZS5sb2coIkNSRUFURSBJTlRFR0VSIix0aGlzLmZpZWxkLHRoaXMuc2xvdFByb3BzKQogICAgdGhpcy5zZXR1cERhdGEoKTsKICB9LAogIHdhdGNoOiB7CiAgICBzbG90UHJvcHM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCJXQVRDSCBJTlRFR0VSIix0aGlzLmZpZWxkLHRoaXMucGF0aCx0aGlzLnNsb3RQcm9wcykKICAgICAgICBpZiAoIXRoaXMubG9ja1dhdGNoKSB7CiAgICAgICAgICB0aGlzLnNldHVwRGF0YSgpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0dXBEYXRhOiBmdW5jdGlvbiBzZXR1cERhdGEoKSB7CiAgICAgIGlmICh0aGlzLnNsb3RQcm9wcyAmJiB0aGlzLnNsb3RQcm9wcy5zb3VyY2UpIHsKICAgICAgICB0aGlzLnNvdXJjZSA9IHsKICAgICAgICAgIHBhdGg6IHRoaXMuc2xvdFByb3BzLnNvdXJjZS5wYXRoICsgIi4iICsgdGhpcy5maWVsZCwKICAgICAgICAgIGRhdGE6IHt9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKHRoaXMuc2xvdFByb3BzLnNvdXJjZS5mcm9tQXJyYXkpIHsKICAgICAgICAgIHRoaXMuc291cmNlLmRhdGEgPSB0aGlzLnNsb3RQcm9wcy5zb3VyY2UuZGF0YTsKICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnNvdXJjZS5kYXRhOwogICAgICAgICAgdGhpcy5sb2NrV2F0Y2ggPSB0cnVlOyAvL2NvbnNvbGUubG9nKCJTRVQgdmFsdWUgdG8gIiwgdGhpcy5zb3VyY2UuZGF0YSwgdGhpcy5zbG90UHJvcHMuaW5wdXQpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBleHByZXNzaW9uID0gdGhpcy4kZmhpcnV0aWxzLnBhdGhGaWVsZEV4cHJlc3Npb24odGhpcy5maWVsZCk7CiAgICAgICAgICB0aGlzLnNvdXJjZS5kYXRhID0gdGhpcy4kZmhpcnBhdGguZXZhbHVhdGUodGhpcy5zbG90UHJvcHMuc291cmNlLmRhdGEsIGV4cHJlc3Npb24pOyAvL2NvbnNvbGUubG9nKCJTVFIgRkhJUlBBVEgiLCB0aGlzLnNsb3RQcm9wcy5zb3VyY2UuZGF0YSwgdGhpcy5maWVsZCkKCiAgICAgICAgICBpZiAodGhpcy5zb3VyY2UuZGF0YS5sZW5ndGggPT0gMSkgewogICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5zb3VyY2UuZGF0YVswXTsKICAgICAgICAgICAgdGhpcy5sb2NrV2F0Y2ggPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMucmVhZE9ubHlJZlNldCAmJiAhIXRoaXMudmFsdWU7IC8vY29uc29sZS5sb2codGhpcy5zb3VyY2UpCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbmRleDogZnVuY3Rpb24gaW5kZXgoKSB7CiAgICAgIGlmICh0aGlzLnNsb3RQcm9wcykgcmV0dXJuIHRoaXMuc2xvdFByb3BzLmlucHV0O2Vsc2UgcmV0dXJuIHVuZGVmaW5lZDsKICAgIH0sCiAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KCkgewogICAgICBpZiAodGhpcy5zbG90UHJvcHMgJiYgdGhpcy5zbG90UHJvcHMuaW5wdXQpIHJldHVybiB0aGlzLnNsb3RQcm9wcy5pbnB1dC5sYWJlbDtlbHNlIHJldHVybiB0aGlzLmxhYmVsOwogICAgfSwKICAgIHJlcXVpcmVkOiBmdW5jdGlvbiByZXF1aXJlZCgpIHsKICAgICAgcmV0dXJuICh0aGlzLmluZGV4IHx8IDApIDwgdGhpcy5taW47CiAgICB9LAogICAgcnVsZXM6IGZ1bmN0aW9uIHJ1bGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG51bV9jaGVjayA9IGZ1bmN0aW9uIG51bV9jaGVjayh2KSB7CiAgICAgICAgLy9sZXQgbnVtID0gTnVtYmVyKHYpCiAgICAgICAgcmV0dXJuIHYgIT0gTWF0aC5mbG9vcih2KSB8fCBfdGhpcy5kaXNwbGF5ICsgIiBtdXN0IGJlIGFuIERlY2ltYWwiOwogICAgICB9OwoKICAgICAgdmFyIHJ1bGVzID0gW251bV9jaGVja107CgogICAgICBpZiAodGhpcy5yZXF1aXJlZCkgewogICAgICAgIHJ1bGVzLnB1c2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiAhIXYgfHwgX3RoaXMuZGlzcGxheSArICIgaXMgcmVxdWlyZWQiOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gcnVsZXM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["fhir-decimal.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ihris-element :edit=\"edit\" :loading=\"false\">\n    <template #form>\n      <v-text-field :error-messages=\"errors\" @change=\"errors = []\" :label=\"display\" :disabled=\"disabled\" :name=\"field\" v-model.number=\"value\" outlined hide-details=\"auto\" :rules=\"rules\" dense>\n        <template #label>{{display}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n      </v-text-field>\n    </template>\n    <template #header>\n      {{display}}\n    </template>\n    <template #value>\n      {{value}}\n    </template>\n  </ihris-element>\n</template>\n\n<script>\nimport IhrisElement from \"../ihris/ihris-element.vue\"\n\nexport default {\n  name: \"fhir-decimal\",\n  props: [\"field\", \"label\", \"min\", \"max\", \"id\", \"path\", \"slotProps\", \"sliceName\",\"base-min\",\"base-max\", \"edit\", \"readOnlyIfSet\",\n    \"constraints\"],\n  components: {\n    IhrisElement\n  },\n  data: function() {\n    return {\n      source: { path: \"\", data: {} },\n      value: \"\",\n      disabled: false,\n      errors: [],\n      lockWatch: false\n    }\n  },\n  created: function() {\n    //console.log(\"CREATE INTEGER\",this.field,this.slotProps)\n    this.setupData()\n  },\n  watch: {\n    slotProps: {\n      handler() {\n        //console.log(\"WATCH INTEGER\",this.field,this.path,this.slotProps)\n        if ( !this.lockWatch ) {\n          this.setupData()\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    setupData() {\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.slotProps.source.path+\".\"+this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n          this.value = this.source.data\n          this.lockWatch = true\n          //console.log(\"SET value to \", this.source.data, this.slotProps.input)\n        } else {\n          let expression = this.$fhirutils.pathFieldExpression( this.field )\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, expression )\n          //console.log(\"STR FHIRPATH\", this.slotProps.source.data, this.field)\n          if ( this.source.data.length == 1 ) {\n            this.value = this.source.data[0]\n            this.lockWatch = true\n          }\n        }\n        this.disabled = this.readOnlyIfSet && (!!this.value)\n        //console.log(this.source)\n      }\n    }\n  },\n  computed: {\n    index: function() {\n      if ( this.slotProps ) return this.slotProps.input\n      else return undefined\n    },\n    display: function() {\n      if ( this.slotProps && this.slotProps.input ) return this.slotProps.input.label\n      else return this.label\n    },\n    required: function() {\n      return (this.index || 0) < this.min\n    },\n    rules: function() {\n      const num_check = v => {\n        //let num = Number(v)\n        return (v != Math.floor(v)) || this.display+\" must be an Decimal\"\n      }\n      let rules = [ num_check ]\n      if ( this.required ) {\n        rules.push ( v => !!v || this.display+\" is required\" )\n      }\n      return rules\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/fhir"}]}