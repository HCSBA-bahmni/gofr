{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/facility-recon-gui/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr/facility-recon-gui/src/components/DataSourcesPair/dataSourcePairMixin.js","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/components/DataSourcesPair/dataSourcePairMixin.js","mtime":1619257194373},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/eslint-loader/index.js","mtime":1619257191105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAnQC9tYWluJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IHZhciBkYXRhU291cmNlUGFpck1peGluID0gewogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZURhdGFzb3VyY2VQYWlyOiBmdW5jdGlvbiBjcmVhdGVEYXRhc291cmNlUGFpcihzb3VyY2UxLCBzb3VyY2UyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoT2JqZWN0LmtleXMoc291cmNlMSkubGVuZ3RoID09PSAwIHx8IE9iamVjdC5rZXlzKHNvdXJjZTIpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZ0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvclRpdGxlID0gJ0luZm8nOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnUGxlYXNlIHNlbGVjdCBkYXRhIHNvdXJjZSc7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoc291cmNlMS5uYW1lID09PSBzb3VyY2UyLm5hbWUgJiYgc291cmNlMS5zb3VyY2UgPT09IHNvdXJjZTIuc291cmNlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSB0cnVlOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yVGl0bGUgPSAnRXJyb3InOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnRGF0YSBzb3VyY2UgcGFpciBvZiB0aGUgc2FtZSBkYXRhIHNvdXJjZSBpcyBub3QgYWxsb3dlZCwgY2hhbmdlIG9uZSBvZiB0aGUgc291cmNlJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnByb2dyZXNzVGl0bGUgPSAnQ3JlYXRpbmcgRGF0YSBTb3VyY2UgUGFpcic7CiAgICAgIHZhciBhY3RpdmVQYWlySUQgPSBudWxsOwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuaGFzT3duUHJvcGVydHkoJ3NoYXJlZCcpICYmIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc2hhcmVkLmhhc093blByb3BlcnR5KCdhY3RpdmVVc2VycycpICYmIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc2hhcmVkLmFjdGl2ZVVzZXJzLmluZGV4T2YodGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQpICE9PSAtMSkgewogICAgICAgIGFjdGl2ZVBhaXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuX2lkOwogICAgICB9CgogICAgICB2YXIgc2luZ2xlUGFpciA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZCAmJiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5yZWNvbmNpbGlhdGlvbi5zaW5nbGVQYWlyKSB7CiAgICAgICAgc2luZ2xlUGFpciA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmICghYWN0aXZlUGFpcklEKSB7CiAgICAgICAgYWN0aXZlUGFpcklEID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3NvdXJjZTEnLCBKU09OLnN0cmluZ2lmeShzb3VyY2UxKSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc291cmNlMicsIEpTT04uc3RyaW5naWZ5KHNvdXJjZTIpKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VySUQnLCB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnb3JnSWQnLCB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3NpbmdsZVBhaXInLCBzaW5nbGVQYWlyKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdhY3RpdmVQYWlySUQnLCBhY3RpdmVQYWlySUQpOwogICAgICBheGlvcy5wb3N0KCcvYWRkRGF0YVNvdXJjZVBhaXInLCBmb3JtRGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmxldmVsTWFwcGluZy5zb3VyY2UxID0gSlNPTi5wYXJzZShyZXNwb25zZS5kYXRhKS5sZXZlbE1hcHBpbmcxOwogICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmcuc291cmNlMiA9IEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YSkubGV2ZWxNYXBwaW5nMjsKICAgICAgICBldmVudEJ1cy4kZW1pdCgnZ2V0RGF0YVNvdXJjZVBhaXInKTsgLy8gdGhpcy5hbGVydFN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgLy8gdGhpcy5hbGVydE1zZyA9ICdEYXRhIFNvdXJjZSBQYWlyIFNhdmVkIFN1Y2Nlc3NmdWxseScKCiAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpcy5hbGVydEVycm9yID0gdHJ1ZTsKICAgICAgICBfdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSB0cnVlOwoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcikgewogICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICAgICAgX3RoaXMuJHN0b3JlLnN0YXRlLmVycm9yVGl0bGUgPSAnUGFpciB3YXMgbm90IGNyZWF0ZWQnOwogICAgICAgICAgX3RoaXMuYWxlcnRNc2cgPSBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5hbGVydE1zZyA9ICdTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBzYXZpbmcgZGF0YSBzb3VyY2UgcGFpcnMuJzsKICAgICAgICB9CgogICAgICAgIF90aGlzLiRzdG9yZS5zdGF0ZS5keW5hbWljUHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFjdGl2YXRlU2hhcmVkUGFpcjogZnVuY3Rpb24gYWN0aXZhdGVTaGFyZWRQYWlyKHBhaXJJRCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnByb2dyZXNzVGl0bGUgPSAnQWN0aXZhdGluZyBTaGFyZWQgRGF0YSBTb3VyY2UgUGFpcic7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3BhaXJJRCcsIHBhaXJJRCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcklEJywgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQpOwogICAgICBheGlvcy5wb3N0KCcvYWN0aXZhdGVTaGFyZWRQYWlyJywgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBldmVudEJ1cy4kZW1pdCgnZ2V0RGF0YVNvdXJjZVBhaXInKTsgLy8gdGhpcy5hbGVydFN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgLy8gdGhpcy5hbGVydE1zZyA9ICdEYXRhIFNvdXJjZSBQYWlyIEFjdGl2YXRlZCBTdWNjZXNzZnVsbHknCgogICAgICAgIF90aGlzMi4kc3RvcmUuc3RhdGUuZHluYW1pY1Byb2dyZXNzID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5hbGVydEVycm9yID0gdHJ1ZTsKICAgICAgICBfdGhpczIuYWxlcnRNc2cgPSAnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgYWN0aXZhdGluZyBkYXRhIHNvdXJjZSBwYWlyJzsKICAgICAgICBfdGhpczIuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBhY3RpdmF0ZVBhaXI6IGZ1bmN0aW9uIGFjdGl2YXRlUGFpcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5hY3RpdmVEYXRhU291cmNlUGFpci51c2VySUQuX2lkICE9PSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCkgewogICAgICAgIHRoaXMuYWN0aXZhdGVTaGFyZWRQYWlyKHRoaXMuYWN0aXZlRGF0YVNvdXJjZVBhaXIuX2lkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNvdXJjZTEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcy5maW5kKGZ1bmN0aW9uIChkYXRhU291cmNlKSB7CiAgICAgICAgICByZXR1cm4gZGF0YVNvdXJjZS5faWQgPT09IF90aGlzMy5hY3RpdmVEYXRhU291cmNlUGFpci5zb3VyY2UxLl9pZDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnNvdXJjZTIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcy5maW5kKGZ1bmN0aW9uIChkYXRhU291cmNlKSB7CiAgICAgICAgICByZXR1cm4gZGF0YVNvdXJjZS5faWQgPT09IF90aGlzMy5hY3RpdmVEYXRhU291cmNlUGFpci5zb3VyY2UyLl9pZDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmNyZWF0ZURhdGFzb3VyY2VQYWlyKHRoaXMuc291cmNlMSwgdGhpcy5zb3VyY2UyKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/ally/gofr/facility-recon-gui/src/components/DataSourcesPair/dataSourcePairMixin.js"],"names":["eventBus","axios","dataSourcePairMixin","methods","createDatasourcePair","source1","source2","Object","keys","length","$store","state","dialogError","errorTitle","errorDescription","name","source","dynamicProgress","progressTitle","activePairID","activePair","hasOwnProperty","shared","activeUsers","indexOf","auth","userID","_id","singlePair","dhis","user","orgId","config","generalConfig","reconciliation","formData","FormData","append","JSON","stringify","post","headers","then","response","levelMapping","parse","data","levelMapping1","levelMapping2","$emit","catch","error","alertError","alertMsg","console","log","activateSharedPair","pairID","activatePair","activeDataSourcePair","dataSources","find","dataSource"],"mappings":"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","sourcesContent":["import {\n  eventBus\n} from '@/main'\nimport axios from 'axios'\nexport const dataSourcePairMixin = {\n  methods: {\n    createDatasourcePair (source1, source2) {\n      if (Object.keys(source1).length === 0 || Object.keys(source2).length === 0) {\n        this.$store.state.dialogError = true\n        this.$store.state.errorTitle = 'Info'\n        this.$store.state.errorDescription = 'Please select data source'\n        return\n      }\n      if (source1.name === source2.name && source1.source === source2.source) {\n        this.$store.state.dialogError = true\n        this.$store.state.errorTitle = 'Error'\n        this.$store.state.errorDescription = 'Data source pair of the same data source is not allowed, change one of the source'\n        return\n      }\n\n      this.$store.state.dynamicProgress = true\n      this.$store.state.progressTitle = 'Creating Data Source Pair'\n      let activePairID = null\n      if (this.$store.state.activePair.hasOwnProperty('shared') &&\n        this.$store.state.activePair.shared.hasOwnProperty('activeUsers') &&\n        this.$store.state.activePair.shared.activeUsers.indexOf(this.$store.state.auth.userID) !== -1\n      ) {\n        activePairID = this.$store.state.activePair._id\n      }\n      let singlePair = false\n      if (this.$store.state.dhis.user.orgId && this.$store.state.config.generalConfig.reconciliation.singlePair) {\n        singlePair = true\n      }\n      if (!activePairID) {\n        activePairID = false\n      }\n      let formData = new FormData()\n      formData.append('source1', JSON.stringify(source1))\n      formData.append('source2', JSON.stringify(source2))\n      formData.append('userID', this.$store.state.auth.userID)\n      formData.append('orgId', this.$store.state.dhis.user.orgId)\n      formData.append('singlePair', singlePair)\n      formData.append('activePairID', activePairID)\n      axios.post('/addDataSourcePair', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then((response) => {\n        this.$store.state.levelMapping.source1 = JSON.parse(response.data).levelMapping1\n        this.$store.state.levelMapping.source2 = JSON.parse(response.data).levelMapping2\n        eventBus.$emit('getDataSourcePair')\n        // this.alertSuccess = true\n        // this.alertMsg = 'Data Source Pair Saved Successfully'\n        this.$store.state.dynamicProgress = false\n      }).catch((error) => {\n        this.alertError = true\n        this.$store.state.dialogError = true\n        if (error.response.data.error) {\n          this.$store.state.errorDescription = error.response.data.error\n          this.$store.state.errorTitle = 'Pair was not created'\n          this.alertMsg = error.response.data.error\n        } else {\n          this.alertMsg = 'Something went wrong while saving data source pairs.'\n        }\n        this.$store.state.dynamicProgress = false\n        console.log(error)\n      })\n    },\n    activateSharedPair (pairID) {\n      this.$store.state.dynamicProgress = true\n      this.$store.state.progressTitle = 'Activating Shared Data Source Pair'\n      let formData = new FormData()\n      formData.append('pairID', pairID)\n      formData.append('userID', this.$store.state.auth.userID)\n      axios.post('/activateSharedPair', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        eventBus.$emit('getDataSourcePair')\n        // this.alertSuccess = true\n        // this.alertMsg = 'Data Source Pair Activated Successfully'\n        this.$store.state.dynamicProgress = false\n      }).catch((error) => {\n        this.alertError = true\n        this.alertMsg = 'Something went wrong while activating data source pair'\n        this.$store.state.dynamicProgress = false\n        console.log(error.response.data)\n      })\n    },\n    activatePair () {\n      if (this.activeDataSourcePair.userID._id !== this.$store.state.auth.userID) {\n        this.activateSharedPair(this.activeDataSourcePair._id)\n      } else {\n        this.source1 = this.$store.state.dataSources.find((dataSource) => {\n          return dataSource._id === this.activeDataSourcePair.source1._id\n        })\n        this.source2 = this.$store.state.dataSources.find((dataSource) => {\n          return dataSource._id === this.activeDataSourcePair.source2._id\n        })\n        this.createDatasourcePair(this.source1, this.source2)\n      }\n    }\n  }\n}\n"]}]}