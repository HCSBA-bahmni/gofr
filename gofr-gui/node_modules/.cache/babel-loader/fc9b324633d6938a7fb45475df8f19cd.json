{"remainingRequest":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/gofr-gui/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr/gofr-gui/src/mixins/generalMixin.js","dependencies":[{"path":"/home/ally/gofr/gofr-gui/src/mixins/generalMixin.js","mtime":1619257194373},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/gofr-gui/node_modules/eslint-loader/index.js","mtime":1619257191105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2FsbHkvZ29mci9nb2ZyLWd1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gJ0AvbWFpbic7CmV4cG9ydCB2YXIgZ2VuZXJhbE1peGluID0gewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb2xlczogW10sCiAgICAgIHRhc2tzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYW5BZGREYXRhc2V0OiBmdW5jdGlvbiBjYW5BZGREYXRhc2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5yZWNvbmNpbGlhdGlvbi5zaW5nbGVEYXRhU291cmNlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHRvdGFsRHRTcmNzID0gMDsKCiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VzKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHsKICAgICAgICAgICAgdmFyIHNvdXJjZSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgaWYgKHNvdXJjZS5faWQgPT09IF90aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5yZWNvbmNpbGlhdGlvbi5maXhTb3VyY2UyVG8pIHsKICAgICAgICAgICAgICByZXR1cm4gImNvbnRpbnVlIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIHVzZXJJRCA9IF90aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRDsKICAgICAgICAgICAgdmFyIG9yZ0lkID0gX3RoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZDsKICAgICAgICAgICAgdmFyIHNoYXJlZFRvTWUgPSBzb3VyY2Uuc2hhcmVkLnVzZXJzLmZpbmQoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICByZXR1cm4gdXNlci5faWQgPT09IHVzZXJJRDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBpdHNNaW5lID0gc291cmNlLm93bmVyLmlkID09PSB1c2VySUQ7CiAgICAgICAgICAgIHZhciBzaGFyZWRUb0FsbCA9IHNvdXJjZS5zaGFyZVRvQWxsLmFjdGl2YXRlZCA9PT0gdHJ1ZTsKICAgICAgICAgICAgdmFyIHNhbWVPcmdJZCA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKHNvdXJjZS5vd25lci5vcmdJZCAmJiBzb3VyY2Uub3duZXIub3JnSWQgPT09IG9yZ0lkKSB7CiAgICAgICAgICAgICAgc2FtZU9yZ0lkID0gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFpdHNNaW5lICYmICFzaGFyZWRUb01lICYmICFzaGFyZWRUb0FsbCAmJiAhc2FtZU9yZ0lkKSB7CiAgICAgICAgICAgICAgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRvdGFsRHRTcmNzKys7CiAgICAgICAgICB9OwoKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBfcmV0ID0gX2xvb3AoKTsKCiAgICAgICAgICAgIGlmIChfcmV0ID09PSAiY29udGludWUiKSBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodG90YWxEdFNyY3MgPj0gMSkgewogICAgICAgICAgdGhpcy5kYXRhc2V0TGltaXRXYXJuID0gdHJ1ZTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb2RlU3lzdGVtOiBmdW5jdGlvbiBnZXRDb2RlU3lzdGVtKGNvZGVTeXN0ZW1UeXBlLCBjYWxsYmFjaykgewogICAgICBheGlvcy5nZXQoJy9GUi9nZXRDb2RlU3lzdGVtJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgY29kZVN5c3RlbVR5cGU6IGNvZGVTeXN0ZW1UeXBlCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFRyZWU6IGZ1bmN0aW9uIGdldFRyZWUoaW5jbHVkZUJ1aWxkaW5nKSB7CiAgICAgIHZhciByZWN1cnNpdmUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICBheGlvcy5nZXQoJy9GUi9nZXRUcmVlJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaW5jbHVkZUJ1aWxkaW5nOiBpbmNsdWRlQnVpbGRpbmcsCiAgICAgICAgICByZWN1cnNpdmU6IHJlY3Vyc2l2ZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoaGllcmFyY2h5KSB7CiAgICAgICAgaWYgKGhpZXJhcmNoeS5kYXRhKSB7CiAgICAgICAgICB2YXIgZXJyID0gZmFsc2U7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCBoaWVyYXJjaHkuZGF0YSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgW10pOwogICAgICB9KTsKICAgIH0sCiAgICBjbGVhclByb2dyZXNzOiBmdW5jdGlvbiBjbGVhclByb2dyZXNzKHR5cGUpIHsKICAgICAgYXhpb3MuZ2V0KCcvY2xlYXJQcm9ncmVzcy8nICsgdHlwZSArICcvJyArIHRoaXMuJHN0b3JlLnN0YXRlLmNsaWVudElkKTsKICAgIH0sCiAgICBnZXRHZW5lcmFsQ29uZmlnOiBmdW5jdGlvbiBnZXRHZW5lcmFsQ29uZmlnKGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRlZmF1bHRHZW5lckNvbmZpZyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnKTsKICAgICAgYXhpb3MuZ2V0KCcvZ2V0R2VuZXJhbENvbmZpZz9kZWZhdWx0R2VuZXJDb25maWc9JyArIGRlZmF1bHRHZW5lckNvbmZpZykudGhlbihmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgaWYgKGNvbmZpZykgewogICAgICAgICAgX3RoaXMyLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZyA9IGNvbmZpZy5kYXRhOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9UaXRsZUNhc2U6IGZ1bmN0aW9uIHRvVGl0bGVDYXNlKHN0cikgewogICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHdvcmQpIHsKICAgICAgICByZXR1cm4gd29yZC5yZXBsYWNlKHdvcmRbMF0sIHdvcmRbMF0udG9VcHBlckNhc2UoKSk7CiAgICAgIH0pLmpvaW4oJycpLnRvTG93ZXJDYXNlKCk7CiAgICB9LAogICAgdHJhbnNsYXRlRGF0YUhlYWRlcjogZnVuY3Rpb24gdHJhbnNsYXRlRGF0YUhlYWRlcihzb3VyY2UsIGxldmVsKSB7CiAgICAgIHZhciB1c2VDU1ZIZWFkZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcudXNlckNvbmZpZy5yZWNvbmNpbGlhdGlvbi51c2VDU1ZIZWFkZXI7CiAgICAgIHZhciBsZXZlbE1hcHBpbmcgPSB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmc7CiAgICAgIC8qKgogICAgICAgKiBpZiB0aGUgdXNlIG9mIENTViBIZWFkZXJzIGlzIG5vdCBlbmFibGVkIG9yIGNzdiBoZWFkZXIgZW5hYmxlZCBidXQgbGV2ZWwgbWFwcGluZyB3ZXJlIG5vdCBhdmFpbGFibGUKICAgICAgICogYW5kIGluc3RlYWQgdGhlIGFwcCBtYW51YWxseSBtYXBwZWQgaS5lIGxldmVsMSB0byBsZXZlbDEsIGxldmVsMiB0byBsZXZlbDIgLi4uLiBmYWNpbGl0eSB0byBsZXZlbDUKICAgICAgICovCgogICAgICBpZiAoIXVzZUNTVkhlYWRlciB8fCB1c2VDU1ZIZWFkZXIgJiYgbGV2ZWxNYXBwaW5nW3NvdXJjZV1bJ2xldmVsJyArIGxldmVsXSA9PT0gJ2xldmVsJyArIGxldmVsKSB7CiAgICAgICAgcmV0dXJuICdMZXZlbCAnICsgbGV2ZWw7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmdbc291cmNlXSkubGVuZ3RoID4gMCkgewogICAgICAgIC8vIGdldCBsZXZlbCBhZGp1c3RtZW50IGZvciBzaGFyZWQgc291cmNlcyB3aXRoIGxpbWl0ZWQgb3JnIHVuaXRzCiAgICAgICAgdmFyIF9sZXZlbE1hcHBpbmcgPSB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmdbc291cmNlXTsKICAgICAgICB2YXIgY291bnRMZXZlbE1hcHBpbmcgPSAxOwoKICAgICAgICBmb3IgKHZhciBfbGV2ZWwgaW4gX2xldmVsTWFwcGluZykgewogICAgICAgICAgaWYgKF9sZXZlbC5pbmRleE9mKCdsZXZlbCcpID09PSAwKSB7CiAgICAgICAgICAgIGNvdW50TGV2ZWxNYXBwaW5nKys7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgdG90YWxMZXZlbHM7CgogICAgICAgIGlmIChzb3VyY2UgPT09ICdzb3VyY2UxJykgewogICAgICAgICAgdG90YWxMZXZlbHMgPSB0aGlzLiRzdG9yZS5zdGF0ZS50b3RhbFNvdXJjZTFMZXZlbHM7CiAgICAgICAgfQoKICAgICAgICBpZiAoc291cmNlID09PSAnc291cmNlMicpIHsKICAgICAgICAgIHRvdGFsTGV2ZWxzID0gdGhpcy4kc3RvcmUuc3RhdGUudG90YWxTb3VyY2UyTGV2ZWxzOwogICAgICAgIH0KCiAgICAgICAgdG90YWxMZXZlbHMtLTsKICAgICAgICB2YXIgbGV2ZWxBZGp1c3RtZW50ID0gY291bnRMZXZlbE1hcHBpbmcgLSB0b3RhbExldmVsczsKICAgICAgICBsZXZlbCA9IGxldmVsICsgbGV2ZWxBZGp1c3RtZW50OyAvLyBlbmQgb2YgZ2V0dGluZyBsZXZlbCBhZGp1c3RtZW50cwoKICAgICAgICB2YXIgbGV2ZWxWYWx1ZSA9IHRoaXMuJHN0b3JlLnN0YXRlLmxldmVsTWFwcGluZ1tzb3VyY2VdWydsZXZlbCcgKyBsZXZlbF07CgogICAgICAgIGlmIChsZXZlbFZhbHVlICYmIGxldmVsVmFsdWUgIT09ICdudWxsJyAmJiBsZXZlbFZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiBsZXZlbFZhbHVlICE9PSAnZmFsc2UnKSB7CiAgICAgICAgICByZXR1cm4gbGV2ZWxWYWx1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmxldmVsTWFwcGluZ1tzb3VyY2VdWydmYWNpbGl0eSddOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ0xldmVsICcgKyBsZXZlbDsKICAgICAgfQogICAgfSwKICAgIGdldEFjdGl2ZURhdGFTb3VyY2VQYWlyOiBmdW5jdGlvbiBnZXRBY3RpdmVEYXRhU291cmNlUGFpcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgc2hhcmVkOwogICAgICB2YXIgYWN0aXZlRGF0YVNvdXJjZVBhaXIgPSB7fTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZVBhaXJzLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHsKICAgICAgICBpZiAocGFpci51c2VySUQuX2lkID09PSBfdGhpczMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEICYmIHBhaXIuc3RhdHVzID09PSAnYWN0aXZlJykgewogICAgICAgICAgYWN0aXZlRGF0YVNvdXJjZVBhaXIgPSBwYWlyOwogICAgICAgIH0KCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2ZURhdGFTb3VyY2VQYWlyKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBzaGFyZWQgPSB1bmRlZmluZWQ7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAocGFpci51c2VySUQuX2lkICE9PSBfdGhpczMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEICYmIHBhaXIuc2hhcmVkLmFjdGl2ZVVzZXJzLmluZGV4T2YoX3RoaXMzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCkgIT09IC0xKSB7CiAgICAgICAgICBzaGFyZWQgPSBwYWlyOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAoc2hhcmVkKSB7CiAgICAgICAgYWN0aXZlRGF0YVNvdXJjZVBhaXIgPSBzaGFyZWQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBhY3RpdmVEYXRhU291cmNlUGFpcjsKICAgIH0sCiAgICBnZXREYXRhc291cmNlT3duZXI6IGZ1bmN0aW9uIGdldERhdGFzb3VyY2VPd25lcigpIHsKICAgICAgdmFyIHNvdXJjZU93bmVyID0gewogICAgICAgIHNvdXJjZTFPd25lcjogJycsCiAgICAgICAgc291cmNlMk93bmVyOiAnJwogICAgICB9OwoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMS5oYXNPd25Qcm9wZXJ0eSgndXNlcklEJykpIHsKICAgICAgICBzb3VyY2VPd25lci5zb3VyY2UxT3duZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEudXNlcklEOwogICAgICB9CgogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyLmhhc093blByb3BlcnR5KCd1c2VySUQnKSkgewogICAgICAgIHNvdXJjZU93bmVyLnNvdXJjZTJPd25lciA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi51c2VySUQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBzb3VyY2VPd25lcjsKICAgIH0sCiAgICBnZXRMaW1pdE9yZ0lkT25BY3RpdmVQYWlyOiBmdW5jdGlvbiBnZXRMaW1pdE9yZ0lkT25BY3RpdmVQYWlyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBzb3VyY2VMaW1pdE9yZ0lkID0gewogICAgICAgIHNvdXJjZTFMaW1pdE9yZ0lkOiAnJywKICAgICAgICBzb3VyY2UyTGltaXRPcmdJZDogJycKICAgICAgfTsKICAgICAgdmFyIGR0U3JjMSA9IHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VzLmZpbmQoZnVuY3Rpb24gKGR0U3JjKSB7CiAgICAgICAgcmV0dXJuIGR0U3JjLl9pZCA9PT0gX3RoaXM0LiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEuaWQ7CiAgICAgIH0pOwogICAgICB2YXIgZHRTcmMyID0gdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZXMuZmluZChmdW5jdGlvbiAoZHRTcmMpIHsKICAgICAgICByZXR1cm4gZHRTcmMuX2lkID09PSBfdGhpczQuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi5pZDsKICAgICAgfSk7CgogICAgICBpZiAoZHRTcmMxICYmIGR0U3JjMS5oYXNPd25Qcm9wZXJ0eSgndXNlcklEJykgJiYgZHRTcmMxLnVzZXJJRC5faWQgIT09IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEKSB7CiAgICAgICAgdmFyIGxpbWl0ID0gZHRTcmMxLnNoYXJlZExvY2F0aW9uLmZpbmQoZnVuY3Rpb24gKHNoYXJlZExvY2F0aW9uKSB7CiAgICAgICAgICByZXR1cm4gc2hhcmVkTG9jYXRpb24udXNlciA9PT0gX3RoaXM0LiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRDsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGxpbWl0KSB7CiAgICAgICAgICBzb3VyY2VMaW1pdE9yZ0lkLnNvdXJjZTFMaW1pdE9yZ0lkID0gbGltaXQubG9jYXRpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChkdFNyYzEuc2hhcmVUb0FsbC5hY3RpdmF0ZWQgJiYgZHRTcmMxLnNoYXJlVG9BbGwubGltaXRCeVVzZXJMb2NhdGlvbikgewogICAgICAgICAgICBzb3VyY2VMaW1pdE9yZ0lkLnNvdXJjZTFMaW1pdE9yZ0lkID0gdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy51c2VyLm9yZ0lkOwoKICAgICAgICAgICAgaWYgKCFzb3VyY2VMaW1pdE9yZ0lkLnNvdXJjZTFMaW1pdE9yZ0lkKSB7CiAgICAgICAgICAgICAgc291cmNlTGltaXRPcmdJZC5zb3VyY2UxTGltaXRPcmdJZCA9ICd1bmRlZmluZWQnOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZHRTcmMyICYmIGR0U3JjMi5oYXNPd25Qcm9wZXJ0eSgndXNlcklEJykgJiYgZHRTcmMyLnVzZXJJRC5faWQgIT09IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEKSB7CiAgICAgICAgdmFyIF9saW1pdCA9IGR0U3JjMi5zaGFyZWRMb2NhdGlvbi5maW5kKGZ1bmN0aW9uIChzaGFyZWRMb2NhdGlvbikgewogICAgICAgICAgcmV0dXJuIHNoYXJlZExvY2F0aW9uLnVzZXIgPT09IF90aGlzNC4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChfbGltaXQpIHsKICAgICAgICAgIHNvdXJjZUxpbWl0T3JnSWQuc291cmNlMkxpbWl0T3JnSWQgPSBfbGltaXQubG9jYXRpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChkdFNyYzIuc2hhcmVUb0FsbC5hY3RpdmF0ZWQgJiYgZHRTcmMyLnNoYXJlVG9BbGwubGltaXRCeVVzZXJMb2NhdGlvbikgewogICAgICAgICAgICBzb3VyY2VMaW1pdE9yZ0lkLnNvdXJjZTJMaW1pdE9yZ0lkID0gdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy51c2VyLm9yZ0lkOwoKICAgICAgICAgICAgaWYgKCFzb3VyY2VMaW1pdE9yZ0lkLnNvdXJjZTJMaW1pdE9yZ0lkKSB7CiAgICAgICAgICAgICAgc291cmNlTGltaXRPcmdJZC5zb3VyY2UyTGltaXRPcmdJZCA9ICd1bmRlZmluZWQnOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc291cmNlTGltaXRPcmdJZDsKICAgIH0sCiAgICBnZXRMaW1pdE9yZ0lkT25EYXRhU291cmNlOiBmdW5jdGlvbiBnZXRMaW1pdE9yZ0lkT25EYXRhU291cmNlKGRhdGFTb3VyY2UpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgbGltaXRPcmdJZDsKCiAgICAgIGlmIChkYXRhU291cmNlICYmIGRhdGFTb3VyY2UuaGFzT3duUHJvcGVydHkoJ3VzZXJJRCcpICYmIGRhdGFTb3VyY2UudXNlcklELl9pZCAhPT0gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQpIHsKICAgICAgICB2YXIgbGltaXQgPSBkYXRhU291cmNlLnNoYXJlZExvY2F0aW9uLmZpbmQoZnVuY3Rpb24gKHNoYXJlZExvY2F0aW9uKSB7CiAgICAgICAgICByZXR1cm4gc2hhcmVkTG9jYXRpb24udXNlciA9PT0gX3RoaXM1LiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRDsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGxpbWl0KSB7CiAgICAgICAgICBsaW1pdE9yZ0lkID0gbGltaXQubG9jYXRpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChkYXRhU291cmNlLnNoYXJlVG9BbGwuYWN0aXZhdGVkICYmIGRhdGFTb3VyY2Uuc2hhcmVUb0FsbC5saW1pdEJ5VXNlckxvY2F0aW9uKSB7CiAgICAgICAgICAgIGxpbWl0T3JnSWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQ7CgogICAgICAgICAgICBpZiAoIWxpbWl0T3JnSWQpIHsKICAgICAgICAgICAgICBsaW1pdE9yZ0lkID0gJ3VuZGVmaW5lZCc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBsaW1pdE9yZ0lkOwogICAgfSwKICAgIGdldFJvbGVzOiBmdW5jdGlvbiBnZXRSb2xlcygpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJy9nZXRSb2xlcycpLnRoZW4oZnVuY3Rpb24gKHJvbGVzKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyb2xlcy5kYXRhKSwKICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHJvbGUgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgICBfdGhpczYucm9sZXMucHVzaCh7CiAgICAgICAgICAgICAgdGV4dDogcm9sZS5uYW1lLAogICAgICAgICAgICAgIHZhbHVlOiByb2xlLl9pZCwKICAgICAgICAgICAgICB0YXNrczogcm9sZS50YXNrcwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRUYXNrczogZnVuY3Rpb24gZ2V0VGFza3MoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCcvZ2V0VGFza3MnKS50aGVuKGZ1bmN0aW9uICh0YXNrcykgewogICAgICAgIF90aGlzNy50YXNrcyA9IHRhc2tzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlQ29uZmlndXJhdGlvbjogZnVuY3Rpb24gc2F2ZUNvbmZpZ3VyYXRpb24oY29uZmlnTGV2ZWwsIGNvbmZpZ05hbWUpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgdXNlcklEID0gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQ7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbmZpZycsIEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZykpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJJRCcsIHVzZXJJRCk7CiAgICAgIHZhciBlbmRQb2ludDsKCiAgICAgIGlmIChjb25maWdMZXZlbCA9PT0gJ2dlbmVyYWxDb25maWcnKSB7CiAgICAgICAgZW5kUG9pbnQgPSAnL3VwZGF0ZUdlbmVyYWxDb25maWcnOwogICAgICB9IGVsc2UgewogICAgICAgIGVuZFBvaW50ID0gJy91cGRhdGVVc2VyQ29uZmlnJzsKICAgICAgfQoKICAgICAgYXhpb3MucG9zdChlbmRQb2ludCwgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY29uZmlnTmFtZSA9PT0gJ3VzZUNTVkhlYWRlcicpIHsKICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCdjaGFuZ2VDU1ZIZWFkZXJOYW1lcycpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbmZpZ05hbWUgPT09ICdhdXRoRGlzYWJsZWQnKSB7CiAgICAgICAgICBfdGhpczguJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ0xvZ291dCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2V0REhJUzJDcmVkZW50aWFsczogZnVuY3Rpb24gc2V0REhJUzJDcmVkZW50aWFscygpIHsKICAgICAgLy8gdGVsbCB0aGUgYmFja2VuZCB0aGF0IGF1dGggaXMgZGlzYWJsZWQKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC50b2tlbiA9ICcnOwoKICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHsKICAgICAgICB2YXIgaHJlZiA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2FwaScpOwoKICAgICAgICBpZiAoaHJlZi5sZW5ndGggPCAyKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLmhvc3QgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKS5zaGlmdCgpOwogICAgICAgIGF4aW9zLmRlZmF1bHRzLnBhcmFtcyA9IHsKICAgICAgICAgIGF1dGhEaXNhYmxlZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLmhvc3QgPSAnaHR0cHM6Ly90ZXN0Lmdlb2FsaWduLmRhdGltLm9yZy8nOwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMuZGV2LmF1dGgudXNlcm5hbWUgPSAnQWxpY2lhX01PSF9EYXRhSW1wb3J0JzsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLmRldi5hdXRoLnBhc3N3b3JkID0gJ1BAJCR3MHJkQDEnOwogICAgICAgIGF4aW9zLmRlZmF1bHRzLnBhcmFtcyA9IHsKICAgICAgICAgIGF1dGhEaXNhYmxlZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/ally/gofr/gofr-gui/src/mixins/generalMixin.js"],"names":["axios","eventBus","generalMixin","data","roles","tasks","computed","canAddDataset","$store","state","config","generalConfig","reconciliation","singleDataSource","totalDtSrcs","dataSources","source","_id","fixSource2To","userID","auth","orgId","dhis","user","sharedToMe","shared","users","find","itsMine","owner","id","sharedToAll","shareToAll","activated","sameOrgId","datasetLimitWarn","methods","getCodeSystem","codeSystemType","callback","get","params","then","response","catch","err","console","log","getTree","includeBuilding","recursive","hierarchy","clearProgress","type","clientId","getGeneralConfig","defaultGenerConfig","JSON","stringify","toTitleCase","str","toLowerCase","split","map","word","replace","toUpperCase","join","translateDataHeader","level","useCSVHeader","userConfig","levelMapping","Object","keys","length","countLevelMapping","indexOf","totalLevels","totalSource1Levels","totalSource2Levels","levelAdjustment","levelValue","getActiveDataSourcePair","activeDataSourcePair","dataSourcePairs","forEach","pair","status","undefined","activeUsers","getDatasourceOwner","sourceOwner","source1Owner","source2Owner","activePair","source1","hasOwnProperty","source2","getLimitOrgIdOnActivePair","sourceLimitOrgId","source1LimitOrgId","source2LimitOrgId","dtSrc1","dtSrc","dtSrc2","limit","sharedLocation","location","limitByUserLocation","getLimitOrgIdOnDataSource","dataSource","limitOrgId","getRoles","role","push","text","name","value","getTasks","saveConfiguration","configLevel","configName","formData","FormData","append","endPoint","post","headers","$emit","$router","setDHIS2Credentials","token","process","env","NODE_ENV","href","host","shift","defaults","authDisabled","dev","username","password"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {\n  eventBus\n} from '@/main'\nexport const generalMixin = {\n  data () {\n    return {\n      roles: [],\n      tasks: []\n    }\n  },\n  computed: {\n    canAddDataset () {\n      if (\n        !this.$store.state.config.generalConfig.reconciliation.singleDataSource\n      ) {\n        return true\n      } else {\n        let totalDtSrcs = 0\n        for (let source of this.$store.state.dataSources) {\n          if (\n            source._id ===\n            this.$store.state.config.generalConfig.reconciliation.fixSource2To\n          ) {\n            continue\n          }\n          let userID = this.$store.state.auth.userID\n          let orgId = this.$store.state.dhis.user.orgId\n          let sharedToMe = source.shared.users.find(user => {\n            return user._id === userID\n          })\n          let itsMine = source.owner.id === userID\n          let sharedToAll = source.shareToAll.activated === true\n          let sameOrgId = false\n          if (source.owner.orgId && source.owner.orgId === orgId) {\n            sameOrgId = true\n          }\n          if (!itsMine && !sharedToMe && !sharedToAll && !sameOrgId) {\n            continue\n          }\n          totalDtSrcs++\n        }\n        if (totalDtSrcs >= 1) {\n          this.datasetLimitWarn = true\n          return false\n        } else {\n          return true\n        }\n      }\n    }\n  },\n  methods: {\n    getCodeSystem (codeSystemType, callback) {\n      axios\n        .get('/FR/getCodeSystem', {\n          params: {\n            codeSystemType\n          }\n        })\n        .then(response => {\n          return callback(null, response.data)\n        })\n        .catch(err => {\n          console.log(err)\n          return callback(err, null)\n        })\n    },\n    getTree (includeBuilding, recursive = true, callback) {\n      axios.get('/FR/getTree', {\n        params: {\n          includeBuilding,\n          recursive\n        }\n      }).then((hierarchy) => {\n        if (hierarchy.data) {\n          let err = false\n          return callback(err, hierarchy.data)\n        }\n      }).catch((err) => {\n        return callback(err, [])\n      })\n    },\n    clearProgress (type) {\n      axios.get(\n        '/clearProgress/' +\n        type +\n        '/' +\n        this.$store.state.clientId\n      )\n    },\n    getGeneralConfig (callback) {\n      let defaultGenerConfig = JSON.stringify(\n        this.$store.state.config.generalConfig\n      )\n      axios.get('/getGeneralConfig?defaultGenerConfig=' + defaultGenerConfig).then(config => {\n        if (config) {\n          this.$store.state.config.generalConfig = config.data\n        }\n        return callback()\n      })\n      .catch(() => {\n        return callback()\n      })\n    },\n    toTitleCase (str) {\n      return str\n        .toLowerCase()\n        .split(' ')\n        .map(word => word.replace(word[0], word[0].toUpperCase()))\n        .join('')\n        .toLowerCase()\n    },\n\n    translateDataHeader (source, level) {\n      let useCSVHeader = this.$store.state.config.userConfig.reconciliation.useCSVHeader\n      let levelMapping = this.$store.state.levelMapping\n      /**\n       * if the use of CSV Headers is not enabled or csv header enabled but level mapping were not available\n       * and instead the app manually mapped i.e level1 to level1, level2 to level2 .... facility to level5\n       */\n      if (!useCSVHeader || (useCSVHeader && levelMapping[source]['level' + level] === 'level' + level)) {\n        return 'Level ' + level\n      }\n      if (Object.keys(this.$store.state.levelMapping[source]).length > 0) {\n        // get level adjustment for shared sources with limited org units\n        let levelMapping = this.$store.state.levelMapping[source]\n        let countLevelMapping = 1\n        for (let level in levelMapping) {\n          if (level.indexOf('level') === 0) {\n            countLevelMapping++\n          }\n        }\n        let totalLevels\n        if (source === 'source1') {\n          totalLevels = this.$store.state.totalSource1Levels\n        }\n        if (source === 'source2') {\n          totalLevels = this.$store.state.totalSource2Levels\n        }\n        totalLevels--\n        let levelAdjustment = countLevelMapping - totalLevels\n        level = level + levelAdjustment\n        // end of getting level adjustments\n\n        let levelValue = this.$store.state.levelMapping[source]['level' + level]\n        if (\n          levelValue &&\n          levelValue !== 'null' &&\n          levelValue !== 'undefined' &&\n          levelValue !== 'false'\n        ) {\n          return levelValue\n        } else {\n          return this.$store.state.levelMapping[source]['facility']\n        }\n      } else {\n        return 'Level ' + level\n      }\n    },\n    getActiveDataSourcePair () {\n      let shared\n      let activeDataSourcePair = {}\n      this.$store.state.dataSourcePairs.forEach(pair => {\n        if (\n          pair.userID._id === this.$store.state.auth.userID &&\n          pair.status === 'active'\n        ) {\n          activeDataSourcePair = pair\n        }\n        if (Object.keys(activeDataSourcePair).length > 0) {\n          shared = undefined\n          return\n        }\n        if (\n          pair.userID._id !== this.$store.state.auth.userID &&\n          pair.shared.activeUsers.indexOf(this.$store.state.auth.userID) !== -1\n        ) {\n          shared = pair\n        }\n      })\n      if (shared) {\n        activeDataSourcePair = shared\n      }\n      return activeDataSourcePair\n    },\n    getDatasourceOwner () {\n      let sourceOwner = {\n        source1Owner: '',\n        source2Owner: ''\n      }\n      if (this.$store.state.activePair.source1.hasOwnProperty('userID')) {\n        sourceOwner.source1Owner = this.$store.state.activePair.source1.userID\n      }\n      if (this.$store.state.activePair.source2.hasOwnProperty('userID')) {\n        sourceOwner.source2Owner = this.$store.state.activePair.source2.userID\n      }\n      return sourceOwner\n    },\n    getLimitOrgIdOnActivePair () {\n      let sourceLimitOrgId = {\n        source1LimitOrgId: '',\n        source2LimitOrgId: ''\n      }\n      let dtSrc1 = this.$store.state.dataSources.find(dtSrc => {\n        return dtSrc._id === this.$store.state.activePair.source1.id\n      })\n      let dtSrc2 = this.$store.state.dataSources.find(dtSrc => {\n        return dtSrc._id === this.$store.state.activePair.source2.id\n      })\n\n      if (dtSrc1 && dtSrc1.hasOwnProperty('userID') && dtSrc1.userID._id !== this.$store.state.auth.userID) {\n        let limit = dtSrc1.sharedLocation.find(sharedLocation => {\n          return sharedLocation.user === this.$store.state.auth.userID\n        })\n        if (limit) {\n          sourceLimitOrgId.source1LimitOrgId = limit.location\n        } else {\n          if (\n            dtSrc1.shareToAll.activated &&\n            dtSrc1.shareToAll.limitByUserLocation\n          ) {\n            sourceLimitOrgId.source1LimitOrgId = this.$store.state.dhis.user.orgId\n            if (!sourceLimitOrgId.source1LimitOrgId) {\n              sourceLimitOrgId.source1LimitOrgId = 'undefined'\n            }\n          }\n        }\n      }\n\n      if (dtSrc2 && dtSrc2.hasOwnProperty('userID') && dtSrc2.userID._id !== this.$store.state.auth.userID) {\n        let limit = dtSrc2.sharedLocation.find(sharedLocation => {\n          return sharedLocation.user === this.$store.state.auth.userID\n        })\n        if (limit) {\n          sourceLimitOrgId.source2LimitOrgId = limit.location\n        } else {\n          if (\n            dtSrc2.shareToAll.activated &&\n            dtSrc2.shareToAll.limitByUserLocation\n          ) {\n            sourceLimitOrgId.source2LimitOrgId = this.$store.state.dhis.user.orgId\n            if (!sourceLimitOrgId.source2LimitOrgId) {\n              sourceLimitOrgId.source2LimitOrgId = 'undefined'\n            }\n          }\n        }\n      }\n      return sourceLimitOrgId\n    },\n    getLimitOrgIdOnDataSource (dataSource) {\n      let limitOrgId\n      if (dataSource && dataSource.hasOwnProperty('userID') && dataSource.userID._id !== this.$store.state.auth.userID) {\n        let limit = dataSource.sharedLocation.find(sharedLocation => {\n          return sharedLocation.user === this.$store.state.auth.userID\n        })\n        if (limit) {\n          limitOrgId = limit.location\n        } else {\n          if (\n            dataSource.shareToAll.activated &&\n            dataSource.shareToAll.limitByUserLocation\n          ) {\n            limitOrgId = this.$store.state.dhis.user.orgId\n            if (!limitOrgId) {\n              limitOrgId = 'undefined'\n            }\n          }\n        }\n      }\n      return limitOrgId\n    },\n    getRoles () {\n      axios\n        .get('/getRoles')\n        .then(roles => {\n          for (let role of roles.data) {\n            this.roles.push({\n              text: role.name,\n              value: role._id,\n              tasks: role.tasks\n            })\n          }\n        })\n        .catch(err => {\n          console.log(err.response)\n        })\n    },\n    getTasks () {\n      axios\n        .get('/getTasks')\n        .then(tasks => {\n          this.tasks = tasks.data\n        })\n        .catch(err => {\n          console.log(err.response)\n        })\n    },\n    saveConfiguration (configLevel, configName) {\n      let userID = this.$store.state.auth.userID\n      let formData = new FormData()\n      formData.append('config', JSON.stringify(this.$store.state.config))\n      formData.append('userID', userID)\n      let endPoint\n      if (configLevel === 'generalConfig') {\n        endPoint = '/updateGeneralConfig'\n      } else {\n        endPoint = '/updateUserConfig'\n      }\n      axios\n        .post(endPoint, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        })\n        .then(() => {\n          if (configName === 'useCSVHeader') {\n            eventBus.$emit('changeCSVHeaderNames')\n          }\n          if (configName === 'authDisabled') {\n            this.$router.push({\n              name: 'Logout'\n            })\n          }\n        })\n    },\n    setDHIS2Credentials () {\n      // tell the backend that auth is disabled\n      this.$store.state.auth.token = ''\n      if (process.env.NODE_ENV === 'production') {\n        let href = location.href.split('api')\n        if (href.length < 2) {\n          return false\n        }\n        this.$store.state.dhis.host = location.href.split('api').shift()\n        axios.defaults.params = {\n          authDisabled: true\n        }\n        return true\n      } else if (process.env.NODE_ENV === 'development') {\n        this.$store.state.dhis.host = 'https://test.geoalign.datim.org/'\n        this.$store.state.dhis.dev.auth.username = 'Alicia_MOH_DataImport'\n        this.$store.state.dhis.dev.auth.password = 'P@$$w0rd@1'\n        axios.defaults.params = {\n          authDisabled: true\n        }\n        return true\n      }\n    }\n  }\n}\n"]}]}