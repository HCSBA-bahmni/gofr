{"remainingRequest":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/gofr-gui/src/components/ihris/ihris-secondary.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/gofr-gui/src/components/ihris/ihris-secondary.vue","mtime":1620114035917},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2FsbHkvZ29mci9nb2ZyLWd1aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9hbGx5L2dvZnIvZ29mci1ndWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKdmFyIGlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7CiAgcmV0dXJuICEhb2JqICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpaHJpcy1zZWNvbmRhcnkiLAogIHByb3BzOiBbInRpdGxlIiwgImZpZWxkIiwgInByb2ZpbGUiLCAic2xvdFByb3BzIiwgImxpbmstaWQiLCAibGluay1maWVsZCIsICJzZWFyY2gtZmllbGQiLCAiZWRpdCIsICJjb2x1bW5zIiwgImFjdGlvbnMiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc291cmNlOiB7CiAgICAgICAgZGF0YToge30sCiAgICAgICAgcGF0aDogdGhpcy5maWVsZAogICAgICB9LAogICAgICBlbXB0eTogdHJ1ZSwKICAgICAgaXRlbXM6IFtdLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICB0b3BBY3Rpb25zOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldHVwRGF0YSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIC8qCiAgICBzbG90UHJvcHM6IHsKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLnNldHVwRGF0YSgpCiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICAgICovCiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXR1cERhdGE6IGZ1bmN0aW9uIHNldHVwRGF0YSgpIHsKICAgICAgLyoKICAgICAgaWYgKCB0aGlzLnNsb3RQcm9wcyAmJiB0aGlzLnNsb3RQcm9wcy5zb3VyY2UgKSB7CiAgICAgICAgdGhpcy5zb3VyY2UgPSB7IHBhdGg6IHRoaXMuZmllbGQsIGRhdGE6IHt9IH0KICAgICAgICBpZiAoIHRoaXMuc2xvdFByb3BzLnNvdXJjZS5mcm9tQXJyYXkgKSB7CiAgICAgICAgICB0aGlzLnNvdXJjZS5kYXRhID0gdGhpcy5zbG90UHJvcHMuc291cmNlLmRhdGEKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zb3VyY2UuZGF0YSA9IHRoaXMuJGZoaXJwYXRoLmV2YWx1YXRlKCB0aGlzLnNsb3RQcm9wcy5zb3VyY2UuZGF0YSwgdGhpcy5maWVsZCApCiAgICAgICAgfQogICAgICAgIC8vY29uc29sZS5sb2codGhpcy5zb3VyY2UpCiAgICAgIH0KICAgICAgKi8KICAgICAgdmFyIHVybCA9ICIvZmhpci8iICsgdGhpcy5maWVsZDsKICAgICAgdmFyIHF1ZXJ5U3RyID0gW107CgogICAgICBpZiAodGhpcy5wcm9maWxlKSB7CiAgICAgICAgcXVlcnlTdHIucHVzaCgiX3Byb2ZpbGU9IiArIHRoaXMucHJvZmlsZSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNlYXJjaEZpZWxkKSB7CiAgICAgICAgcXVlcnlTdHIucHVzaCh0aGlzLnNlYXJjaEZpZWxkICsgIj0iICsgdGhpcy5saW5rSWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHF1ZXJ5U3RyLnB1c2godGhpcy5saW5rRmllbGQuc3Vic3RyaW5nKHRoaXMubGlua0ZpZWxkLmluZGV4T2YoJy4nKSArIDEpICsgIj0iICsgdGhpcy5saW5rSWQpOwogICAgICB9CgogICAgICB1cmwgKz0gIj8iICsgcXVlcnlTdHIuam9pbigiJiIpOwogICAgICB0aGlzLml0ZW1zID0gW107CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuYWRkSXRlbXModXJsKTsKICAgIH0sCiAgICBhZGRJdGVtczogZnVuY3Rpb24gYWRkSXRlbXModXJsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQodXJsKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgZGF0YSwgX2l0ZXJhdG9yLCBfc3RlcCwgZW50cnksIHJvdywgX2l0ZXJhdG9yMiwgX3N0ZXAyLCBoZWFkZXIsIGNvbnRlbnQsIF9pdGVyYXRvcjMsIF9zdGVwMywgYWN0aW9uLCBtZWV0cywgX21lZXRzLCBfaXRlcmF0b3I0LCBfc3RlcDQsIF9hY3Rpb24sIG5leHQ7CgogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICAgIGlmICghKGRhdGEuZW50cnkgJiYgZGF0YS5lbnRyeS5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZGF0YS5lbnRyeSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwoKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnMoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBlbnRyeSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICByb3cgPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGVudHJ5LnJlc291cmNlLmlkCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5jb2x1bW5zKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CgogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnMoKTsKCiAgICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgICBpZiAoKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI3OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBoZWFkZXIgPSBfc3RlcDIudmFsdWU7CgogICAgICAgICAgICAgICAgICBpZiAoIShoZWFkZXIudmFsdWUgPT09ICJfYWN0aW9uIikpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoImNvbnRpbnVlIiwgMjUpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgICAgY29udGVudCA9IF90aGlzLiRmaGlycGF0aC5ldmFsdWF0ZShlbnRyeS5yZXNvdXJjZSwgaGVhZGVyLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucHJvY2Vzc0NvbnRlbnQoY29udGVudCk7CgogICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgICAgcm93W2hlYWRlci52YWx1ZV0gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxNSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI5OwogICAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDkpOwoKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKF9jb250ZXh0LnQxKTsKCiAgICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMzI7CgogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLmYoKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goMzIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgICAgIGlmICghcm93LmFjdGlvbnMpIHJvdy5hY3Rpb25zID0gW107CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5hY3Rpb25zKTsKCiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnJvdykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLmNvbmRpdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1lZXRzID0gX3RoaXMuJGZoaXJwYXRoLmV2YWx1YXRlKGVudHJ5LnJlc291cmNlLCBhY3Rpb24uY29uZGl0aW9uKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lZXRzLmV2ZXJ5KGZ1bmN0aW9uIChtZWV0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVldDsKICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LmFjdGlvbnMucHVzaChhY3Rpb24pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuYWN0aW9ucy5wdXNoKGFjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24uY29uZGl0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX21lZXRzID0gX3RoaXMuJGZoaXJwYXRoLmV2YWx1YXRlKGVudHJ5LnJlc291cmNlLCBhY3Rpb24uY29uZGl0aW9uKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbi5oYXNPd25Qcm9wZXJ0eSgibWVldHMiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm1lZXRzID0gYWN0aW9uLm1lZXRzICYmIF9tZWV0cy5ldmVyeShmdW5jdGlvbiAobWVldCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVldDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24ubWVldHMgPSBfbWVldHMuZXZlcnkoZnVuY3Rpb24gKG1lZXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lZXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLm1lZXRzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLml0ZW1zLnB1c2gocm93KTsKCiAgICAgICAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ2OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDM7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQyID0gX2NvbnRleHRbImNhdGNoIl0oMyk7CgogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShfY29udGV4dC50Mik7CgogICAgICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDQ2OwoKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goNDYpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDk6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA1MToKICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKF90aGlzLmFjdGlvbnMpOwoKICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNCA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbiA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hY3Rpb24ucm93KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24ubWVldHMgPSBfYWN0aW9uLmVtcHR5RGlzcGxheTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2FzZSA1MzoKICAgICAgICAgICAgICAgICAgX3RoaXMudG9wQWN0aW9ucyA9IF90aGlzLmFjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWFjdGlvbi5yb3cgJiYgYWN0aW9uLm1lZXRzOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmspIHsKICAgICAgICAgICAgICAgICAgICBuZXh0ID0gZGF0YS5saW5rLmZpbmQoZnVuY3Rpb24gKGxpbmspIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaW5rLnJlbGF0aW9uID09PSAibmV4dCI7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtcyhuZXh0LnVybCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY2FzZSA1NToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDQzLCA0NiwgNDldLCBbOSwgMjksIDMyLCAzNV0sIFsxNSwgMjJdXSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0oKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBwcm9jZXNzQ29udGVudDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3Byb2Nlc3NDb250ZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb250ZW50KSB7CiAgICAgICAgdmFyIG91dHB1dDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGNvbnRlbnQubWFwKHRoaXMucHJvY2Vzc0NvbnRlbnQpKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgb3V0cHV0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgb3V0cHV0LmpvaW4oIiAiKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QoY29udGVudCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoY29udGVudC5jb2RlICYmIGNvbnRlbnQuc3lzdGVtKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGZoaXJ1dGlscy5jb2RlTG9va3VwKGNvbnRlbnQuc3lzdGVtLCBjb250ZW50LmNvZGUpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGlmICghY29udGVudC5kaXNwbGF5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBjb250ZW50LmRpc3BsYXkpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgaWYgKCFjb250ZW50LmNvZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGNvbnRlbnQuY29kZSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQucmVmZXJlbmNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZmhpcnV0aWxzLnJlc291cmNlTG9va3VwKGNvbnRlbnQucmVmZXJlbmNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVW5hYmxlIHRvIHByb2Nlc3MgY29udGVudDoiLCBjb250ZW50KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAiVW5rbm93biIpOwoKICAgICAgICAgICAgICBjYXNlIDMwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGNvbnRlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDMzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcHJvY2Vzc0NvbnRlbnQoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9wcm9jZXNzQ29udGVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcHJvY2Vzc0NvbnRlbnQ7CiAgICB9KCksCiAgICBzZXR1cExpbms6IGZ1bmN0aW9uIHNldHVwTGluayhsaW5rLCBpdGVtKSB7CiAgICAgIHJldHVybiBsaW5rLnJlcGxhY2UoIklURU1JRCIsIGl0ZW0uaWQpLnJlcGxhY2UoIkZISVJJRCIsIHRoaXMubGlua0lkKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ihris-secondary.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-container class=\"my-3\" v-if=\"!edit\">\n    <v-data-table\n      :headers=\"columns\"\n      :items=\"items\"\n      item-key=\"id\"\n      :items-per-page=\"5\"\n      :loading=\"loading\"\n      class=\"elevation-1\"\n      dense\n    >\n\n      <template v-slot:top>\n        <v-toolbar flat color=\"white\">\n          <v-toolbar-title>\n            {{ title }}\n          </v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            v-for=\"action in topActions\"\n            :to=\"setupLink( action.link, {} )\"\n            :color=\"action.class\"\n            :key=\"action.text\"\n            small\n            >\n            {{ action.text }}\n          </v-btn>\n        </v-toolbar>\n      </template>\n      <template v-slot:item._action=\"{ item }\">\n        <v-btn\n          v-for=\"action in item.actions\"\n          :to=\"setupLink( action.link, item )\"\n          :color=\"action.class\"\n          :key=\"action.text\"\n          small\n          rounded\n          >\n          {{ action.text }}\n        </v-btn>\n      </template>\n    </v-data-table>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\nconst isObject = (obj) => {\n  return (!!obj) && (obj.constructor === Object)\n}\n\nexport default {\n  name: \"ihris-secondary\",\n  props: [\"title\", \"field\", \"profile\", \"slotProps\", \"link-id\", \"link-field\",\n    \"search-field\", \"edit\", \"columns\", \"actions\"],\n  data: function() {\n    return {\n      source: { data: {}, path: this.field },\n      empty: true,\n      items: [],\n      loading: true,\n      topActions: []\n    }\n  },\n  mounted: function() {\n    this.setupData()\n  },\n  watch: {\n    /*\n    slotProps: {\n      handler() {\n        this.setupData()\n      },\n      deep: true\n    }\n    */\n  },\n  methods: {\n    setupData: function() {\n      /*\n      if ( this.slotProps && this.slotProps.source ) {\n        this.source = { path: this.field, data: {} }\n        if ( this.slotProps.source.fromArray ) {\n          this.source.data = this.slotProps.source.data\n        } else {\n          this.source.data = this.$fhirpath.evaluate( this.slotProps.source.data, this.field )\n        }\n        //console.log(this.source)\n      }\n      */\n      let url = \"/fhir/\" + this.field\n      let queryStr = []\n      if ( this.profile ) {\n        queryStr.push( \"_profile=\"+this.profile )\n      }\n      if ( this.searchField ) {\n        queryStr.push( this.searchField+\"=\"+this.linkId )\n      } else {\n        queryStr.push( this.linkField.substring( this.linkField.indexOf('.') +1 ) +\"=\"+this.linkId )\n      }\n      url += \"?\" + queryStr.join(\"&\")\n      this.items = []\n      this.loading = true\n      this.addItems( url )\n    },\n    addItems: function (url) {\n      axios.get( url ).then( async (response) => {\n        let data = response.data\n        if ( data.entry && data.entry.length > 0 ) {\n          for( let entry of data.entry ) {\n            let row = { id: entry.resource.id }\n            for( let header of this.columns ) {\n              if ( header.value === \"_action\" ) continue\n              try {\n                let content = this.$fhirpath.evaluate( entry.resource, header.value )\n                row[header.value] = await this.processContent( content )\n              } catch ( err ) {\n                console.log(err)\n              }\n            }\n            if ( !row.actions ) row.actions = []\n            for( let action of this.actions ) {\n              if ( action.row ) {\n                if ( action.condition ) {\n                  let meets = this.$fhirpath.evaluate( entry.resource, action.condition )\n                  if ( meets.every( meet => meet ) ) {\n                    row.actions.push( action )\n                  }\n                } else {\n                  row.actions.push( action )\n                }\n              } else {\n                if ( action.condition ) {\n                  let meets = this.$fhirpath.evaluate( entry.resource, action.condition )\n                  if ( action.hasOwnProperty(\"meets\") ) {\n                    action.meets = action.meets && meets.every( meet => meet )\n                  } else {\n                    action.meets = meets.every( meet => meet )\n                  }\n                } else {\n                  action.meets = true\n                }\n              }\n            }\n            this.items.push( row )\n          }\n        } else {\n          for( let action of this.actions ) {\n            if ( !action.row ) {\n              action.meets = action.emptyDisplay\n            }\n          }\n        }\n        this.topActions = this.actions.filter( action => !action.row && action.meets )\n\n\n        if ( data.link ) {\n          let next = data.link.find( link => link.relation === \"next\" )\n          if ( next ) {\n            this.addItems( next.url )\n          } else {\n            this.loading = false\n          }\n        } else {\n          this.loading = false\n        }\n      } ).catch( err => {\n        this.loading = false\n        console.log(err)\n      } )\n\n    },\n    processContent: async function( content ) {\n      if ( Array.isArray( content ) ) {\n        let output = await Promise.all(content.map( this.processContent ))\n        return output.join(\" \")\n      } else if ( isObject( content ) ) {\n        if ( content.code && content.system ) {\n          return await this.$fhirutils.codeLookup( content.system, content.code )\n        } else if ( content.display ) {\n          return content.display\n        } else if ( content.code ) {\n          return content.code\n        } else if ( content.reference ) {\n          return await this.$fhirutils.resourceLookup( content.reference)\n        } else {\n          console.log(\"Unable to process content:\",content)\n          return \"Unknown\"\n        }\n      } else {\n        return content\n      }\n    },\n    setupLink( link, item ) {\n      return link.replace( \"ITEMID\", item.id ).replace( \"FHIRID\", this.linkId )\n    }\n  }\n}\n\n</script>\n"],"sourceRoot":"src/components/ihris"}]}