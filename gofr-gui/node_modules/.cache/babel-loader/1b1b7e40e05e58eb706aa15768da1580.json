{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js!/home/ally/gofr/facility-recon-gui/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr/facility-recon-gui/src/main.js","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/main.js","mtime":1619335450912},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/eslint-loader/index.js","mtime":1619257191105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIvZmFjaWxpdHktcmVjb24tZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgIi9ob21lL2FsbHkvZ29mci9mYWNpbGl0eS1yZWNvbi1ndWkvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICIvaG9tZS9hbGx5L2dvZnIvZmFjaWxpdHktcmVjb24tZ3VpL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiL2hvbWUvYWxseS9nb2ZyL2ZhY2lsaXR5LXJlY29uLWd1aS9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnByb21pc2UuZmluYWxseS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9zdG9yZS9zdG9yZSc7CmltcG9ydCBpMThuIGZyb20gJy4vaTE4bic7CmltcG9ydCB2dWV0aWZ5IGZyb20gJy4vcGx1Z2lucy92dWV0aWZ5JzsKaW1wb3J0IHZ1ZWxpZGF0ZSBmcm9tICd2dWVsaWRhdGUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgJ3doYXR3Zy1mZXRjaCc7CmltcG9ydCBmaGlycGF0aCBmcm9tICJmaGlycGF0aCI7CmltcG9ydCBmaGlydXRpbHMgZnJvbSAiLi9wbHVnaW5zL2ZoaXJ1dGlscyI7CmltcG9ydCBndWlDb25maWcgZnJvbSAnLi4vY29uZmlnL2NvbmZpZy5qc29uJzsKT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckZmhpcnBhdGgnLCB7CiAgdmFsdWU6IGZoaXJwYXRoCn0pOwpPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRmaGlydXRpbHMnLCB7CiAgdmFsdWU6IGZoaXJ1dGlscwp9KTsKVnVlLnVzZSh2dWVsaWRhdGUpOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKZXhwb3J0IHZhciBldmVudEJ1cyA9IG5ldyBWdWUoKTsKCmlmIChndWlDb25maWcuQkFDS0VORF9IT1NUID09PSAnLicpIHsKICBndWlDb25maWcuQkFDS0VORF9IT1NUID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogIGd1aUNvbmZpZy5CQUNLRU5EX1BST1RPQ09MID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sLnJlcGxhY2UoJzonLCAnJyk7Cn0KCmd1aUNvbmZpZy5CQUNLRU5EX1NFUlZFUiA9IGd1aUNvbmZpZy5CQUNLRU5EX1BST1RPQ09MICsgJzovLycgKyBndWlDb25maWcuQkFDS0VORF9IT1NUICsgJzonICsgZ3VpQ29uZmlnLkJBQ0tFTkRfUE9SVDsgLy8gaWYgcnVubmluZyBpbnNpZGUgREhJUzIgdGhlbiBnZXQgYW55IGNvbmZpZyBkZWZpbmVkIGluc2lkZSB0aGUgZGF0YXN0b3JlCgpmdW5jdGlvbiBnZXRESElTMlN0b3JlQ29uZmlnKGNhbGxiYWNrKSB7CiAgdmFyIGhyZWYgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKTsKCiAgaWYgKGhyZWYubGVuZ3RoID49IDIpIHsKICAgIHZhciBkaGlzMlVSTCA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJ2FwaScpLnNoaWZ0KCk7CiAgICBheGlvcy5nZXQoZGhpczJVUkwgKyAnYXBpL2RhdGFTdG9yZS9HT0ZSL2NvbmZpZycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLmRhdGEpOyAvLyBpZiBCQUNLRU5EX1VSTCBpcyBtaXNzaW5nIHRoZW4gc2V0IGl0CgogICAgICBpZiAoIXJlc3BvbnNlLmRhdGEuQkFDS0VORF9TRVJWRVIpIHsKICAgICAgICB2YXIgdXJsID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVIgfHwgZ3VpQ29uZmlnLkJBQ0tFTkRfU0VSVkVSOwogICAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgICBCQUNLRU5EX1NFUlZFUjogdXJsCiAgICAgICAgfTsKICAgICAgICBhZGRESElTMlN0b3JlQ29uZmlnKGNvbmZpZyk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZXJyKSk7CiAgICAgIHZhciByZXNwID0gZmFsc2U7CiAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUiB8fCBndWlDb25maWcuQkFDS0VORF9TRVJWRVI7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgQkFDS0VORF9TRVJWRVI6IHVybAogICAgICB9OwogICAgICBhZGRESElTMlN0b3JlQ29uZmlnKGNvbmZpZyk7CiAgICAgIHJldHVybiBjYWxsYmFjayhyZXNwKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICB2YXIgcmVzcCA9IGZhbHNlOwogICAgcmV0dXJuIGNhbGxiYWNrKHJlc3ApOwogIH0KfQoKZnVuY3Rpb24gYWRkREhJUzJTdG9yZUNvbmZpZyhjb25maWcpIHsKICB2YXIgZGhpczJVUkwgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKS5zaGlmdCgpOwogIGF4aW9zLnBvc3QoZGhpczJVUkwgKyAnYXBpL2RhdGFTdG9yZS9HT0ZSL2NvbmZpZycsIGNvbmZpZyk7Cn0KLyogZXNsaW50LWRpc2FibGUgbm8tbmV3ICovCgoKZ2V0REhJUzJTdG9yZUNvbmZpZyhmdW5jdGlvbiAoc3RvcmVDb25maWcpIHsKICBpZiAoc3RvcmVDb25maWcgJiYgc3RvcmVDb25maWcuQkFDS0VORF9TRVJWRVIpIHsKICAgIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUiB8fCBzdG9yZUNvbmZpZy5CQUNLRU5EX1NFUlZFUjsKICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52LkJBQ0tFTkRfU0VSVkVSKSB7CiAgICBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVI7CiAgfSBlbHNlIHsKICAgIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSBndWlDb25maWcuQkFDS0VORF9TRVJWRVI7CiAgfSAvLyBnZXQgZ2VuZXJhbCBjb25maWcgb2YgQXBwIGFuZCBwYXNzIGl0IHRvIHRoZSBBcHAgY29tcG9uZW50IGFzIHByb3BzCgoKICB2YXIgZGVmYXVsdEdlbmVyQ29uZmlnID0gSlNPTi5zdHJpbmdpZnkoc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcpOwogIGF4aW9zLmdldCgnL2dldEdlbmVyYWxDb25maWc/ZGVmYXVsdEdlbmVyQ29uZmlnPScgKyBkZWZhdWx0R2VuZXJDb25maWcpLnRoZW4oZnVuY3Rpb24gKGdlbkNvbmZpZykgewogICAgaWYgKCFnZW5Db25maWcpIHsKICAgICAgZ2VuQ29uZmlnLmRhdGEgPSB7fTsKICAgIH0KCiAgICBuZXcgVnVlKHsKICAgICAgcm91dGVyOiByb3V0ZXIsCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgaTE4bjogaTE4biwKICAgICAgdnVldGlmeTogdnVldGlmeSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY29uZmlnOiBnZW5Db25maWcuZGF0YQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGNyZWF0ZUVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChBcHAsIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIGdlbmVyYWxDb25maWc6IHRoaXMuY29uZmlnCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pLiRtb3VudCgnI2FwcCcpOwogIH0pOwp9KTs="},{"version":3,"sources":["/home/ally/gofr/facility-recon-gui/src/main.js"],"names":["Vue","App","router","store","i18n","vuetify","vuelidate","axios","fhirpath","fhirutils","guiConfig","Object","defineProperty","prototype","value","use","config","productionTip","eventBus","BACKEND_HOST","window","location","hostname","BACKEND_PROTOCOL","protocol","replace","BACKEND_SERVER","BACKEND_PORT","getDHIS2StoreConfig","callback","href","split","length","dhis2URL","shift","get","then","response","data","url","process","env","addDHIS2StoreConfig","catch","err","console","log","JSON","stringify","resp","post","storeConfig","defaults","baseURL","defaultGenerConfig","state","generalConfig","genConfig","render","createElement","props","$mount"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAAQC,KAAR,QAAoB,eAApB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,qBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AAEAC,MAAM,CAACC,cAAP,CAAsBZ,GAAG,CAACa,SAA1B,EAAqC,WAArC,EAAkD;AAChDC,EAAAA,KAAK,EAAEN;AADyC,CAAlD;AAGAG,MAAM,CAACC,cAAP,CAAsBZ,GAAG,CAACa,SAA1B,EAAqC,YAArC,EAAmD;AACjDC,EAAAA,KAAK,EAAEL;AAD0C,CAAnD;AAIAT,GAAG,CAACe,GAAJ,CAAQT,SAAR;AAEAN,GAAG,CAACgB,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEA,OAAO,IAAMC,QAAQ,GAAG,IAAIlB,GAAJ,EAAjB;;AAEP,IAAIU,SAAS,CAACS,YAAV,KAA2B,GAA/B,EAAoC;AAClCT,EAAAA,SAAS,CAACS,YAAV,GAAyBC,MAAM,CAACC,QAAP,CAAgBC,QAAzC;AACAZ,EAAAA,SAAS,CAACa,gBAAV,GAA6BH,MAAM,CAACC,QAAP,CAAgBG,QAAhB,CAAyBC,OAAzB,CAAiC,GAAjC,EAAsC,EAAtC,CAA7B;AACD;;AACDf,SAAS,CAACgB,cAAV,GAA2BhB,SAAS,CAACa,gBAAV,GAA6B,KAA7B,GAAqCb,SAAS,CAACS,YAA/C,GAA8D,GAA9D,GAAoET,SAAS,CAACiB,YAAzG,C,CACA;;AACA,SAASC,mBAAT,CAA8BC,QAA9B,EAAwC;AACtC,MAAIC,IAAI,GAAGT,QAAQ,CAACS,IAAT,CAAcC,KAAd,CAAoB,KAApB,CAAX;;AACA,MAAID,IAAI,CAACE,MAAL,IAAe,CAAnB,EAAsB;AACpB,QAAIC,QAAQ,GAAGZ,QAAQ,CAACS,IAAT,CAAcC,KAAd,CAAoB,KAApB,EAA2BG,KAA3B,EAAf;AACA3B,IAAAA,KAAK,CAAC4B,GAAN,CAAUF,QAAQ,GAAG,2BAArB,EAAkDG,IAAlD,CAAuD,UAACC,QAAD,EAAc;AACnER,MAAAA,QAAQ,CAACQ,QAAQ,CAACC,IAAV,CAAR,CADmE,CAEnE;;AACA,UAAI,CAACD,QAAQ,CAACC,IAAT,CAAcZ,cAAnB,EAAmC;AACjC,YAAIa,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYf,cAAZ,IAA8BhB,SAAS,CAACgB,cAAlD;AACA,YAAIV,MAAM,GAAG;AACXU,UAAAA,cAAc,EAAEa;AADL,SAAb;AAGAG,QAAAA,mBAAmB,CAAC1B,MAAD,CAAnB;AACD;AACF,KAVD,EAUG2B,KAVH,CAUS,UAACC,GAAD,EAAS;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,GAAf,CAAZ;AACA,UAAIK,IAAI,GAAG,KAAX;AACA,UAAIV,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYf,cAAZ,IAA8BhB,SAAS,CAACgB,cAAlD;AACA,UAAIV,MAAM,GAAG;AACXU,QAAAA,cAAc,EAAEa;AADL,OAAb;AAGAG,MAAAA,mBAAmB,CAAC1B,MAAD,CAAnB;AACA,aAAOa,QAAQ,CAACoB,IAAD,CAAf;AACD,KAnBD;AAoBD,GAtBD,MAsBO;AACL,QAAIA,IAAI,GAAG,KAAX;AACA,WAAOpB,QAAQ,CAACoB,IAAD,CAAf;AACD;AACF;;AAED,SAASP,mBAAT,CAA8B1B,MAA9B,EAAsC;AACpC,MAAIiB,QAAQ,GAAGZ,QAAQ,CAACS,IAAT,CAAcC,KAAd,CAAoB,KAApB,EAA2BG,KAA3B,EAAf;AACA3B,EAAAA,KAAK,CAAC2C,IAAN,CAAWjB,QAAQ,GAAG,2BAAtB,EAAmDjB,MAAnD;AACD;AACD;;;AACAY,mBAAmB,CAAC,UAACuB,WAAD,EAAiB;AACnC,MAAIA,WAAW,IAAIA,WAAW,CAACzB,cAA/B,EAA+C;AAC7CnB,IAAAA,KAAK,CAAC6C,QAAN,CAAeC,OAAf,GAAyBb,OAAO,CAACC,GAAR,CAAYf,cAAZ,IAA8ByB,WAAW,CAACzB,cAAnE;AACD,GAFD,MAEO,IAAIc,OAAO,CAACC,GAAR,CAAYf,cAAhB,EAAgC;AACrCnB,IAAAA,KAAK,CAAC6C,QAAN,CAAeC,OAAf,GAAyBb,OAAO,CAACC,GAAR,CAAYf,cAArC;AACD,GAFM,MAEA;AACLnB,IAAAA,KAAK,CAAC6C,QAAN,CAAeC,OAAf,GAAyB3C,SAAS,CAACgB,cAAnC;AACD,GAPkC,CAQnC;;;AACA,MAAI4B,kBAAkB,GAAGP,IAAI,CAACC,SAAL,CAAe7C,KAAK,CAACoD,KAAN,CAAYvC,MAAZ,CAAmBwC,aAAlC,CAAzB;AACAjD,EAAAA,KAAK,CAAC4B,GAAN,CAAU,0CAA0CmB,kBAApD,EAAwElB,IAAxE,CAA6E,UAAAqB,SAAS,EAAI;AACxF,QAAI,CAACA,SAAL,EAAgB;AACdA,MAAAA,SAAS,CAACnB,IAAV,GAAiB,EAAjB;AACD;;AACD,QAAItC,GAAJ,CAAQ;AACNE,MAAAA,MAAM,EAANA,MADM;AAENC,MAAAA,KAAK,EAALA,KAFM;AAGNC,MAAAA,IAAI,EAAJA,IAHM;AAINC,MAAAA,OAAO,EAAPA,OAJM;AAKNiC,MAAAA,IALM,kBAKE;AACN,eAAO;AACLtB,UAAAA,MAAM,EAAEyC,SAAS,CAACnB;AADb,SAAP;AAGD,OATK;AAUNoB,MAAAA,MAAM,EAAE,gBAAUC,aAAV,EAAyB;AAC/B,eAAOA,aAAa,CAAC1D,GAAD,EAAM;AACxB2D,UAAAA,KAAK,EAAE;AACLJ,YAAAA,aAAa,EAAE,KAAKxC;AADf;AADiB,SAAN,CAApB;AAKD;AAhBK,KAAR,EAiBG6C,MAjBH,CAiBU,MAjBV;AAkBD,GAtBD;AAuBD,CAjCkB,CAAnB","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport {store} from './store/store'\nimport i18n from './i18n'\nimport vuetify from './plugins/vuetify';\nimport vuelidate from 'vuelidate'\nimport axios from 'axios'\nimport 'whatwg-fetch'\nimport fhirpath from \"fhirpath\"\nimport fhirutils from \"./plugins/fhirutils\"\nimport guiConfig from '../config/config.json'\n\nObject.defineProperty(Vue.prototype, '$fhirpath', {\n  value: fhirpath\n})\nObject.defineProperty(Vue.prototype, '$fhirutils', {\n  value: fhirutils\n})\n\nVue.use(vuelidate)\n\nVue.config.productionTip = false\n\nexport const eventBus = new Vue()\n\nif (guiConfig.BACKEND_HOST === '.') {\n  guiConfig.BACKEND_HOST = window.location.hostname\n  guiConfig.BACKEND_PROTOCOL = window.location.protocol.replace(':', '')\n}\nguiConfig.BACKEND_SERVER = guiConfig.BACKEND_PROTOCOL + '://' + guiConfig.BACKEND_HOST + ':' + guiConfig.BACKEND_PORT\n// if running inside DHIS2 then get any config defined inside the datastore\nfunction getDHIS2StoreConfig (callback) {\n  let href = location.href.split('api')\n  if (href.length >= 2) {\n    let dhis2URL = location.href.split('api').shift()\n    axios.get(dhis2URL + 'api/dataStore/GOFR/config').then((response) => {\n      callback(response.data)\n      // if BACKEND_URL is missing then set it\n      if (!response.data.BACKEND_SERVER) {\n        let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n        let config = {\n          BACKEND_SERVER: url\n        }\n        addDHIS2StoreConfig(config)\n      }\n    }).catch((err) => {\n      console.log(JSON.stringify(err))\n      let resp = false\n      let url = process.env.BACKEND_SERVER || guiConfig.BACKEND_SERVER\n      let config = {\n        BACKEND_SERVER: url\n      }\n      addDHIS2StoreConfig(config)\n      return callback(resp)\n    })\n  } else {\n    let resp = false\n    return callback(resp)\n  }\n}\n\nfunction addDHIS2StoreConfig (config) {\n  let dhis2URL = location.href.split('api').shift()\n  axios.post(dhis2URL + 'api/dataStore/GOFR/config', config)\n}\n/* eslint-disable no-new */\ngetDHIS2StoreConfig((storeConfig) => {\n  if (storeConfig && storeConfig.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER || storeConfig.BACKEND_SERVER\n  } else if (process.env.BACKEND_SERVER) {\n    axios.defaults.baseURL = process.env.BACKEND_SERVER\n  } else {\n    axios.defaults.baseURL = guiConfig.BACKEND_SERVER\n  }\n  // get general config of App and pass it to the App component as props\n  let defaultGenerConfig = JSON.stringify(store.state.config.generalConfig)\n  axios.get('/getGeneralConfig?defaultGenerConfig=' + defaultGenerConfig).then(genConfig => {\n    if (!genConfig) {\n      genConfig.data = {}\n    }\n    new Vue({\n      router,\n      store,\n      i18n,\n      vuetify,\n      data () {\n        return {\n          config: genConfig.data\n        }\n      },\n      render: function (createElement) {\n        return createElement(App, {\n          props: {\n            generalConfig: this.config\n          }\n        })\n      }\n    }).$mount('#app')\n  })\n})\n"]}]}