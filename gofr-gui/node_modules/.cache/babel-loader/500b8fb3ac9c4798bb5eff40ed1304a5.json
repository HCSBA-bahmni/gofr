{"remainingRequest":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js!/home/ally/gofr2/node_modules/eslint-loader/index.js??ref--13-0!/home/ally/gofr2/src/mixins/generalMixin.js","dependencies":[{"path":"/home/ally/gofr2/src/mixins/generalMixin.js","mtime":1619078497853},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ally/gofr2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2FsbHkvZ29mcjIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICdAL21haW4nOwpleHBvcnQgdmFyIGdlbmVyYWxNaXhpbiA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9sZXM6IFtdLAogICAgICB0YXNrczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2FuQWRkRGF0YXNldDogZnVuY3Rpb24gY2FuQWRkRGF0YXNldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcucmVjb25jaWxpYXRpb24uc2luZ2xlRGF0YVNvdXJjZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciB0b3RhbER0U3JjcyA9IDA7CgogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgIGlmIChzb3VyY2UuX2lkID09PSBfdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcucmVjb25jaWxpYXRpb24uZml4U291cmNlMlRvKSB7CiAgICAgICAgICAgICAgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciB1c2VySUQgPSBfdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQ7CiAgICAgICAgICAgIHZhciBvcmdJZCA9IF90aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQ7CiAgICAgICAgICAgIHZhciBzaGFyZWRUb01lID0gc291cmNlLnNoYXJlZC51c2Vycy5maW5kKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHVzZXIuX2lkID09PSB1c2VySUQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgaXRzTWluZSA9IHNvdXJjZS5vd25lci5pZCA9PT0gdXNlcklEOwogICAgICAgICAgICB2YXIgc2hhcmVkVG9BbGwgPSBzb3VyY2Uuc2hhcmVUb0FsbC5hY3RpdmF0ZWQgPT09IHRydWU7CiAgICAgICAgICAgIHZhciBzYW1lT3JnSWQgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmIChzb3VyY2Uub3duZXIub3JnSWQgJiYgc291cmNlLm93bmVyLm9yZ0lkID09PSBvcmdJZCkgewogICAgICAgICAgICAgIHNhbWVPcmdJZCA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghaXRzTWluZSAmJiAhc2hhcmVkVG9NZSAmJiAhc2hhcmVkVG9BbGwgJiYgIXNhbWVPcmdJZCkgewogICAgICAgICAgICAgIHJldHVybiAiY29udGludWUiOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0b3RhbER0U3JjcysrOwogICAgICAgICAgfTsKCiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgX3JldCA9IF9sb29wKCk7CgogICAgICAgICAgICBpZiAoX3JldCA9PT0gImNvbnRpbnVlIikgY29udGludWU7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRvdGFsRHRTcmNzID49IDEpIHsKICAgICAgICAgIHRoaXMuZGF0YXNldExpbWl0V2FybiA9IHRydWU7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q29kZVN5c3RlbTogZnVuY3Rpb24gZ2V0Q29kZVN5c3RlbShjb2RlU3lzdGVtVHlwZSwgY2FsbGJhY2spIHsKICAgICAgYXhpb3MuZ2V0KCcvRlIvZ2V0Q29kZVN5c3RlbScsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGNvZGVTeXN0ZW1UeXBlOiBjb2RlU3lzdGVtVHlwZQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIG51bGwpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRUcmVlOiBmdW5jdGlvbiBnZXRUcmVlKGluY2x1ZGVCdWlsZGluZykgewogICAgICB2YXIgcmVjdXJzaXZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlOwogICAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgYXhpb3MuZ2V0KCcvRlIvZ2V0VHJlZScsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGluY2x1ZGVCdWlsZGluZzogaW5jbHVkZUJ1aWxkaW5nLAogICAgICAgICAgcmVjdXJzaXZlOiByZWN1cnNpdmUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGhpZXJhcmNoeSkgewogICAgICAgIGlmIChoaWVyYXJjaHkuZGF0YSkgewogICAgICAgICAgdmFyIGVyciA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgaGllcmFyY2h5LmRhdGEpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIFtdKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJQcm9ncmVzczogZnVuY3Rpb24gY2xlYXJQcm9ncmVzcyh0eXBlKSB7CiAgICAgIGF4aW9zLmdldCgnL2NsZWFyUHJvZ3Jlc3MvJyArIHR5cGUgKyAnLycgKyB0aGlzLiRzdG9yZS5zdGF0ZS5jbGllbnRJZCk7CiAgICB9LAogICAgZ2V0R2VuZXJhbENvbmZpZzogZnVuY3Rpb24gZ2V0R2VuZXJhbENvbmZpZyhjYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBkZWZhdWx0R2VuZXJDb25maWcgPSBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZyk7CiAgICAgIGF4aW9zLmdldCgnL2dldEdlbmVyYWxDb25maWc/ZGVmYXVsdEdlbmVyQ29uZmlnPScgKyBkZWZhdWx0R2VuZXJDb25maWcpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZykgewogICAgICAgIGlmIChjb25maWcpIHsKICAgICAgICAgIF90aGlzMi4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcgPSBjb25maWcuZGF0YTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHRvVGl0bGVDYXNlOiBmdW5jdGlvbiB0b1RpdGxlQ2FzZShzdHIpIHsKICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uICh3b3JkKSB7CiAgICAgICAgcmV0dXJuIHdvcmQucmVwbGFjZSh3b3JkWzBdLCB3b3JkWzBdLnRvVXBwZXJDYXNlKCkpOwogICAgICB9KS5qb2luKCcnKS50b0xvd2VyQ2FzZSgpOwogICAgfSwKICAgIHRyYW5zbGF0ZURhdGFIZWFkZXI6IGZ1bmN0aW9uIHRyYW5zbGF0ZURhdGFIZWFkZXIoc291cmNlLCBsZXZlbCkgewogICAgICB2YXIgdXNlQ1NWSGVhZGVyID0gdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLnVzZXJDb25maWcucmVjb25jaWxpYXRpb24udXNlQ1NWSGVhZGVyOwogICAgICB2YXIgbGV2ZWxNYXBwaW5nID0gdGhpcy4kc3RvcmUuc3RhdGUubGV2ZWxNYXBwaW5nOwogICAgICAvKioKICAgICAgICogaWYgdGhlIHVzZSBvZiBDU1YgSGVhZGVycyBpcyBub3QgZW5hYmxlZCBvciBjc3YgaGVhZGVyIGVuYWJsZWQgYnV0IGxldmVsIG1hcHBpbmcgd2VyZSBub3QgYXZhaWxhYmxlCiAgICAgICAqIGFuZCBpbnN0ZWFkIHRoZSBhcHAgbWFudWFsbHkgbWFwcGVkIGkuZSBsZXZlbDEgdG8gbGV2ZWwxLCBsZXZlbDIgdG8gbGV2ZWwyIC4uLi4gZmFjaWxpdHkgdG8gbGV2ZWw1CiAgICAgICAqLwoKICAgICAgaWYgKCF1c2VDU1ZIZWFkZXIgfHwgdXNlQ1NWSGVhZGVyICYmIGxldmVsTWFwcGluZ1tzb3VyY2VdWydsZXZlbCcgKyBsZXZlbF0gPT09ICdsZXZlbCcgKyBsZXZlbCkgewogICAgICAgIHJldHVybiAnTGV2ZWwgJyArIGxldmVsOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy4kc3RvcmUuc3RhdGUubGV2ZWxNYXBwaW5nW3NvdXJjZV0pLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyBnZXQgbGV2ZWwgYWRqdXN0bWVudCBmb3Igc2hhcmVkIHNvdXJjZXMgd2l0aCBsaW1pdGVkIG9yZyB1bml0cwogICAgICAgIHZhciBfbGV2ZWxNYXBwaW5nID0gdGhpcy4kc3RvcmUuc3RhdGUubGV2ZWxNYXBwaW5nW3NvdXJjZV07CiAgICAgICAgdmFyIGNvdW50TGV2ZWxNYXBwaW5nID0gMTsKCiAgICAgICAgZm9yICh2YXIgX2xldmVsIGluIF9sZXZlbE1hcHBpbmcpIHsKICAgICAgICAgIGlmIChfbGV2ZWwuaW5kZXhPZignbGV2ZWwnKSA9PT0gMCkgewogICAgICAgICAgICBjb3VudExldmVsTWFwcGluZysrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHRvdGFsTGV2ZWxzOwoKICAgICAgICBpZiAoc291cmNlID09PSAnc291cmNlMScpIHsKICAgICAgICAgIHRvdGFsTGV2ZWxzID0gdGhpcy4kc3RvcmUuc3RhdGUudG90YWxTb3VyY2UxTGV2ZWxzOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNvdXJjZSA9PT0gJ3NvdXJjZTInKSB7CiAgICAgICAgICB0b3RhbExldmVscyA9IHRoaXMuJHN0b3JlLnN0YXRlLnRvdGFsU291cmNlMkxldmVsczsKICAgICAgICB9CgogICAgICAgIHRvdGFsTGV2ZWxzLS07CiAgICAgICAgdmFyIGxldmVsQWRqdXN0bWVudCA9IGNvdW50TGV2ZWxNYXBwaW5nIC0gdG90YWxMZXZlbHM7CiAgICAgICAgbGV2ZWwgPSBsZXZlbCArIGxldmVsQWRqdXN0bWVudDsgLy8gZW5kIG9mIGdldHRpbmcgbGV2ZWwgYWRqdXN0bWVudHMKCiAgICAgICAgdmFyIGxldmVsVmFsdWUgPSB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmdbc291cmNlXVsnbGV2ZWwnICsgbGV2ZWxdOwoKICAgICAgICBpZiAobGV2ZWxWYWx1ZSAmJiBsZXZlbFZhbHVlICE9PSAnbnVsbCcgJiYgbGV2ZWxWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbGV2ZWxWYWx1ZSAhPT0gJ2ZhbHNlJykgewogICAgICAgICAgcmV0dXJuIGxldmVsVmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmdbc291cmNlXVsnZmFjaWxpdHknXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdMZXZlbCAnICsgbGV2ZWw7CiAgICAgIH0KICAgIH0sCiAgICBnZXRBY3RpdmVEYXRhU291cmNlUGFpcjogZnVuY3Rpb24gZ2V0QWN0aXZlRGF0YVNvdXJjZVBhaXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHNoYXJlZDsKICAgICAgdmFyIGFjdGl2ZURhdGFTb3VyY2VQYWlyID0ge307CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VQYWlycy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7CiAgICAgICAgaWYgKHBhaXIudXNlcklELl9pZCA9PT0gX3RoaXMzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCAmJiBwYWlyLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHsKICAgICAgICAgIGFjdGl2ZURhdGFTb3VyY2VQYWlyID0gcGFpcjsKICAgICAgICB9CgogICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3RpdmVEYXRhU291cmNlUGFpcikubGVuZ3RoID4gMCkgewogICAgICAgICAgc2hhcmVkID0gdW5kZWZpbmVkOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHBhaXIudXNlcklELl9pZCAhPT0gX3RoaXMzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCAmJiBwYWlyLnNoYXJlZC5hY3RpdmVVc2Vycy5pbmRleE9mKF90aGlzMy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQpICE9PSAtMSkgewogICAgICAgICAgc2hhcmVkID0gcGFpcjsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKHNoYXJlZCkgewogICAgICAgIGFjdGl2ZURhdGFTb3VyY2VQYWlyID0gc2hhcmVkOwogICAgICB9CgogICAgICByZXR1cm4gYWN0aXZlRGF0YVNvdXJjZVBhaXI7CiAgICB9LAogICAgZ2V0RGF0YXNvdXJjZU93bmVyOiBmdW5jdGlvbiBnZXREYXRhc291cmNlT3duZXIoKSB7CiAgICAgIHZhciBzb3VyY2VPd25lciA9IHsKICAgICAgICBzb3VyY2UxT3duZXI6ICcnLAogICAgICAgIHNvdXJjZTJPd25lcjogJycKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEuaGFzT3duUHJvcGVydHkoJ3VzZXJJRCcpKSB7CiAgICAgICAgc291cmNlT3duZXIuc291cmNlMU93bmVyID0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxLnVzZXJJRDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi5oYXNPd25Qcm9wZXJ0eSgndXNlcklEJykpIHsKICAgICAgICBzb3VyY2VPd25lci5zb3VyY2UyT3duZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTIudXNlcklEOwogICAgICB9CgogICAgICByZXR1cm4gc291cmNlT3duZXI7CiAgICB9LAogICAgZ2V0TGltaXRPcmdJZE9uQWN0aXZlUGFpcjogZnVuY3Rpb24gZ2V0TGltaXRPcmdJZE9uQWN0aXZlUGFpcigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgc291cmNlTGltaXRPcmdJZCA9IHsKICAgICAgICBzb3VyY2UxTGltaXRPcmdJZDogJycsCiAgICAgICAgc291cmNlMkxpbWl0T3JnSWQ6ICcnCiAgICAgIH07CiAgICAgIHZhciBkdFNyYzEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcy5maW5kKGZ1bmN0aW9uIChkdFNyYykgewogICAgICAgIHJldHVybiBkdFNyYy5faWQgPT09IF90aGlzNC4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxLmlkOwogICAgICB9KTsKICAgICAgdmFyIGR0U3JjMiA9IHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VzLmZpbmQoZnVuY3Rpb24gKGR0U3JjKSB7CiAgICAgICAgcmV0dXJuIGR0U3JjLl9pZCA9PT0gX3RoaXM0LiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTIuaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGR0U3JjMSAmJiBkdFNyYzEuaGFzT3duUHJvcGVydHkoJ3VzZXJJRCcpICYmIGR0U3JjMS51c2VySUQuX2lkICE9PSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCkgewogICAgICAgIHZhciBsaW1pdCA9IGR0U3JjMS5zaGFyZWRMb2NhdGlvbi5maW5kKGZ1bmN0aW9uIChzaGFyZWRMb2NhdGlvbikgewogICAgICAgICAgcmV0dXJuIHNoYXJlZExvY2F0aW9uLnVzZXIgPT09IF90aGlzNC4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChsaW1pdCkgewogICAgICAgICAgc291cmNlTGltaXRPcmdJZC5zb3VyY2UxTGltaXRPcmdJZCA9IGxpbWl0LmxvY2F0aW9uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZHRTcmMxLnNoYXJlVG9BbGwuYWN0aXZhdGVkICYmIGR0U3JjMS5zaGFyZVRvQWxsLmxpbWl0QnlVc2VyTG9jYXRpb24pIHsKICAgICAgICAgICAgc291cmNlTGltaXRPcmdJZC5zb3VyY2UxTGltaXRPcmdJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZDsKCiAgICAgICAgICAgIGlmICghc291cmNlTGltaXRPcmdJZC5zb3VyY2UxTGltaXRPcmdJZCkgewogICAgICAgICAgICAgIHNvdXJjZUxpbWl0T3JnSWQuc291cmNlMUxpbWl0T3JnSWQgPSAndW5kZWZpbmVkJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGR0U3JjMiAmJiBkdFNyYzIuaGFzT3duUHJvcGVydHkoJ3VzZXJJRCcpICYmIGR0U3JjMi51c2VySUQuX2lkICE9PSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRCkgewogICAgICAgIHZhciBfbGltaXQgPSBkdFNyYzIuc2hhcmVkTG9jYXRpb24uZmluZChmdW5jdGlvbiAoc2hhcmVkTG9jYXRpb24pIHsKICAgICAgICAgIHJldHVybiBzaGFyZWRMb2NhdGlvbi51c2VyID09PSBfdGhpczQuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoX2xpbWl0KSB7CiAgICAgICAgICBzb3VyY2VMaW1pdE9yZ0lkLnNvdXJjZTJMaW1pdE9yZ0lkID0gX2xpbWl0LmxvY2F0aW9uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZHRTcmMyLnNoYXJlVG9BbGwuYWN0aXZhdGVkICYmIGR0U3JjMi5zaGFyZVRvQWxsLmxpbWl0QnlVc2VyTG9jYXRpb24pIHsKICAgICAgICAgICAgc291cmNlTGltaXRPcmdJZC5zb3VyY2UyTGltaXRPcmdJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZDsKCiAgICAgICAgICAgIGlmICghc291cmNlTGltaXRPcmdJZC5zb3VyY2UyTGltaXRPcmdJZCkgewogICAgICAgICAgICAgIHNvdXJjZUxpbWl0T3JnSWQuc291cmNlMkxpbWl0T3JnSWQgPSAndW5kZWZpbmVkJzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHNvdXJjZUxpbWl0T3JnSWQ7CiAgICB9LAogICAgZ2V0TGltaXRPcmdJZE9uRGF0YVNvdXJjZTogZnVuY3Rpb24gZ2V0TGltaXRPcmdJZE9uRGF0YVNvdXJjZShkYXRhU291cmNlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGxpbWl0T3JnSWQ7CgogICAgICBpZiAoZGF0YVNvdXJjZSAmJiBkYXRhU291cmNlLmhhc093blByb3BlcnR5KCd1c2VySUQnKSAmJiBkYXRhU291cmNlLnVzZXJJRC5faWQgIT09IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEKSB7CiAgICAgICAgdmFyIGxpbWl0ID0gZGF0YVNvdXJjZS5zaGFyZWRMb2NhdGlvbi5maW5kKGZ1bmN0aW9uIChzaGFyZWRMb2NhdGlvbikgewogICAgICAgICAgcmV0dXJuIHNoYXJlZExvY2F0aW9uLnVzZXIgPT09IF90aGlzNS4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQ7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChsaW1pdCkgewogICAgICAgICAgbGltaXRPcmdJZCA9IGxpbWl0LmxvY2F0aW9uOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZGF0YVNvdXJjZS5zaGFyZVRvQWxsLmFjdGl2YXRlZCAmJiBkYXRhU291cmNlLnNoYXJlVG9BbGwubGltaXRCeVVzZXJMb2NhdGlvbikgewogICAgICAgICAgICBsaW1pdE9yZ0lkID0gdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy51c2VyLm9yZ0lkOwoKICAgICAgICAgICAgaWYgKCFsaW1pdE9yZ0lkKSB7CiAgICAgICAgICAgICAgbGltaXRPcmdJZCA9ICd1bmRlZmluZWQnOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbGltaXRPcmdJZDsKICAgIH0sCiAgICBnZXRSb2xlczogZnVuY3Rpb24gZ2V0Um9sZXMoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCcvZ2V0Um9sZXMnKS50aGVuKGZ1bmN0aW9uIChyb2xlcykgewogICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocm9sZXMuZGF0YSksCiAgICAgICAgICAgIF9zdGVwMjsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciByb2xlID0gX3N0ZXAyLnZhbHVlOwoKICAgICAgICAgICAgX3RoaXM2LnJvbGVzLnB1c2goewogICAgICAgICAgICAgIHRleHQ6IHJvbGUubmFtZSwKICAgICAgICAgICAgICB2YWx1ZTogcm9sZS5faWQsCiAgICAgICAgICAgICAgdGFza3M6IHJvbGUudGFza3MKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VGFza3M6IGZ1bmN0aW9uIGdldFRhc2tzKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgnL2dldFRhc2tzJykudGhlbihmdW5jdGlvbiAodGFza3MpIHsKICAgICAgICBfdGhpczcudGFza3MgPSB0YXNrcy5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUNvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIHNhdmVDb25maWd1cmF0aW9uKGNvbmZpZ0xldmVsLCBjb25maWdOYW1lKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEOwogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb25maWcnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcpKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VySUQnLCB1c2VySUQpOwogICAgICB2YXIgZW5kUG9pbnQ7CgogICAgICBpZiAoY29uZmlnTGV2ZWwgPT09ICdnZW5lcmFsQ29uZmlnJykgewogICAgICAgIGVuZFBvaW50ID0gJy91cGRhdGVHZW5lcmFsQ29uZmlnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbmRQb2ludCA9ICcvdXBkYXRlVXNlckNvbmZpZyc7CiAgICAgIH0KCiAgICAgIGF4aW9zLnBvc3QoZW5kUG9pbnQsIGZvcm1EYXRhLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvbmZpZ05hbWUgPT09ICd1c2VDU1ZIZWFkZXInKSB7CiAgICAgICAgICBldmVudEJ1cy4kZW1pdCgnY2hhbmdlQ1NWSGVhZGVyTmFtZXMnKTsKICAgICAgICB9CgogICAgICAgIGlmIChjb25maWdOYW1lID09PSAnYXV0aERpc2FibGVkJykgewogICAgICAgICAgX3RoaXM4LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdMb2dvdXQnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldERISVMyQ3JlZGVudGlhbHM6IGZ1bmN0aW9uIHNldERISVMyQ3JlZGVudGlhbHMoKSB7CiAgICAgIC8vIHRlbGwgdGhlIGJhY2tlbmQgdGhhdCBhdXRoIGlzIGRpc2FibGVkCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudG9rZW4gPSAnJzsKCiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7CiAgICAgICAgdmFyIGhyZWYgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCdhcGknKTsKCiAgICAgICAgaWYgKGhyZWYubGVuZ3RoIDwgMikgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy5ob3N0ID0gbG9jYXRpb24uaHJlZi5zcGxpdCgnYXBpJykuc2hpZnQoKTsKICAgICAgICBheGlvcy5kZWZhdWx0cy5wYXJhbXMgPSB7CiAgICAgICAgICBhdXRoRGlzYWJsZWQ6IHRydWUKICAgICAgICB9OwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy5ob3N0ID0gJ2h0dHBzOi8vdGVzdC5nZW9hbGlnbi5kYXRpbS5vcmcvJzsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLmRldi5hdXRoLnVzZXJuYW1lID0gJ0FsaWNpYV9NT0hfRGF0YUltcG9ydCc7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy5kZXYuYXV0aC5wYXNzd29yZCA9ICdQQCQkdzByZEAxJzsKICAgICAgICBheGlvcy5kZWZhdWx0cy5wYXJhbXMgPSB7CiAgICAgICAgICBhdXRoRGlzYWJsZWQ6IHRydWUKICAgICAgICB9OwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/ally/gofr2/src/mixins/generalMixin.js"],"names":["axios","eventBus","generalMixin","data","roles","tasks","computed","canAddDataset","$store","state","config","generalConfig","reconciliation","singleDataSource","totalDtSrcs","dataSources","source","_id","fixSource2To","userID","auth","orgId","dhis","user","sharedToMe","shared","users","find","itsMine","owner","id","sharedToAll","shareToAll","activated","sameOrgId","datasetLimitWarn","methods","getCodeSystem","codeSystemType","callback","get","params","then","response","catch","err","console","log","getTree","includeBuilding","recursive","hierarchy","clearProgress","type","clientId","getGeneralConfig","defaultGenerConfig","JSON","stringify","toTitleCase","str","toLowerCase","split","map","word","replace","toUpperCase","join","translateDataHeader","level","useCSVHeader","userConfig","levelMapping","Object","keys","length","countLevelMapping","indexOf","totalLevels","totalSource1Levels","totalSource2Levels","levelAdjustment","levelValue","getActiveDataSourcePair","activeDataSourcePair","dataSourcePairs","forEach","pair","status","undefined","activeUsers","getDatasourceOwner","sourceOwner","source1Owner","source2Owner","activePair","source1","hasOwnProperty","source2","getLimitOrgIdOnActivePair","sourceLimitOrgId","source1LimitOrgId","source2LimitOrgId","dtSrc1","dtSrc","dtSrc2","limit","sharedLocation","location","limitByUserLocation","getLimitOrgIdOnDataSource","dataSource","limitOrgId","getRoles","role","push","text","name","value","getTasks","saveConfiguration","configLevel","configName","formData","FormData","append","endPoint","post","headers","$emit","$router","setDHIS2Credentials","token","process","env","NODE_ENV","href","host","shift","defaults","authDisabled","dev","username","password"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport {\n  eventBus\n} from '@/main'\nexport const generalMixin = {\n  data () {\n    return {\n      roles: [],\n      tasks: []\n    }\n  },\n  computed: {\n    canAddDataset () {\n      if (\n        !this.$store.state.config.generalConfig.reconciliation.singleDataSource\n      ) {\n        return true\n      } else {\n        let totalDtSrcs = 0\n        for (let source of this.$store.state.dataSources) {\n          if (\n            source._id ===\n            this.$store.state.config.generalConfig.reconciliation.fixSource2To\n          ) {\n            continue\n          }\n          let userID = this.$store.state.auth.userID\n          let orgId = this.$store.state.dhis.user.orgId\n          let sharedToMe = source.shared.users.find(user => {\n            return user._id === userID\n          })\n          let itsMine = source.owner.id === userID\n          let sharedToAll = source.shareToAll.activated === true\n          let sameOrgId = false\n          if (source.owner.orgId && source.owner.orgId === orgId) {\n            sameOrgId = true\n          }\n          if (!itsMine && !sharedToMe && !sharedToAll && !sameOrgId) {\n            continue\n          }\n          totalDtSrcs++\n        }\n        if (totalDtSrcs >= 1) {\n          this.datasetLimitWarn = true\n          return false\n        } else {\n          return true\n        }\n      }\n    }\n  },\n  methods: {\n    getCodeSystem (codeSystemType, callback) {\n      axios\n        .get('/FR/getCodeSystem', {\n          params: {\n            codeSystemType\n          }\n        })\n        .then(response => {\n          return callback(null, response.data)\n        })\n        .catch(err => {\n          console.log(err)\n          return callback(err, null)\n        })\n    },\n    getTree (includeBuilding, recursive = true, callback) {\n      axios.get('/FR/getTree', {\n        params: {\n          includeBuilding,\n          recursive\n        }\n      }).then((hierarchy) => {\n        if (hierarchy.data) {\n          let err = false\n          return callback(err, hierarchy.data)\n        }\n      }).catch((err) => {\n        return callback(err, [])\n      })\n    },\n    clearProgress (type) {\n      axios.get(\n        '/clearProgress/' +\n        type +\n        '/' +\n        this.$store.state.clientId\n      )\n    },\n    getGeneralConfig (callback) {\n      let defaultGenerConfig = JSON.stringify(\n        this.$store.state.config.generalConfig\n      )\n      axios.get('/getGeneralConfig?defaultGenerConfig=' + defaultGenerConfig).then(config => {\n        if (config) {\n          this.$store.state.config.generalConfig = config.data\n        }\n        return callback()\n      })\n      .catch(() => {\n        return callback()\n      })\n    },\n    toTitleCase (str) {\n      return str\n        .toLowerCase()\n        .split(' ')\n        .map(word => word.replace(word[0], word[0].toUpperCase()))\n        .join('')\n        .toLowerCase()\n    },\n\n    translateDataHeader (source, level) {\n      let useCSVHeader = this.$store.state.config.userConfig.reconciliation.useCSVHeader\n      let levelMapping = this.$store.state.levelMapping\n      /**\n       * if the use of CSV Headers is not enabled or csv header enabled but level mapping were not available\n       * and instead the app manually mapped i.e level1 to level1, level2 to level2 .... facility to level5\n       */\n      if (!useCSVHeader || (useCSVHeader && levelMapping[source]['level' + level] === 'level' + level)) {\n        return 'Level ' + level\n      }\n      if (Object.keys(this.$store.state.levelMapping[source]).length > 0) {\n        // get level adjustment for shared sources with limited org units\n        let levelMapping = this.$store.state.levelMapping[source]\n        let countLevelMapping = 1\n        for (let level in levelMapping) {\n          if (level.indexOf('level') === 0) {\n            countLevelMapping++\n          }\n        }\n        let totalLevels\n        if (source === 'source1') {\n          totalLevels = this.$store.state.totalSource1Levels\n        }\n        if (source === 'source2') {\n          totalLevels = this.$store.state.totalSource2Levels\n        }\n        totalLevels--\n        let levelAdjustment = countLevelMapping - totalLevels\n        level = level + levelAdjustment\n        // end of getting level adjustments\n\n        let levelValue = this.$store.state.levelMapping[source]['level' + level]\n        if (\n          levelValue &&\n          levelValue !== 'null' &&\n          levelValue !== 'undefined' &&\n          levelValue !== 'false'\n        ) {\n          return levelValue\n        } else {\n          return this.$store.state.levelMapping[source]['facility']\n        }\n      } else {\n        return 'Level ' + level\n      }\n    },\n    getActiveDataSourcePair () {\n      let shared\n      let activeDataSourcePair = {}\n      this.$store.state.dataSourcePairs.forEach(pair => {\n        if (\n          pair.userID._id === this.$store.state.auth.userID &&\n          pair.status === 'active'\n        ) {\n          activeDataSourcePair = pair\n        }\n        if (Object.keys(activeDataSourcePair).length > 0) {\n          shared = undefined\n          return\n        }\n        if (\n          pair.userID._id !== this.$store.state.auth.userID &&\n          pair.shared.activeUsers.indexOf(this.$store.state.auth.userID) !== -1\n        ) {\n          shared = pair\n        }\n      })\n      if (shared) {\n        activeDataSourcePair = shared\n      }\n      return activeDataSourcePair\n    },\n    getDatasourceOwner () {\n      let sourceOwner = {\n        source1Owner: '',\n        source2Owner: ''\n      }\n      if (this.$store.state.activePair.source1.hasOwnProperty('userID')) {\n        sourceOwner.source1Owner = this.$store.state.activePair.source1.userID\n      }\n      if (this.$store.state.activePair.source2.hasOwnProperty('userID')) {\n        sourceOwner.source2Owner = this.$store.state.activePair.source2.userID\n      }\n      return sourceOwner\n    },\n    getLimitOrgIdOnActivePair () {\n      let sourceLimitOrgId = {\n        source1LimitOrgId: '',\n        source2LimitOrgId: ''\n      }\n      let dtSrc1 = this.$store.state.dataSources.find(dtSrc => {\n        return dtSrc._id === this.$store.state.activePair.source1.id\n      })\n      let dtSrc2 = this.$store.state.dataSources.find(dtSrc => {\n        return dtSrc._id === this.$store.state.activePair.source2.id\n      })\n\n      if (dtSrc1 && dtSrc1.hasOwnProperty('userID') && dtSrc1.userID._id !== this.$store.state.auth.userID) {\n        let limit = dtSrc1.sharedLocation.find(sharedLocation => {\n          return sharedLocation.user === this.$store.state.auth.userID\n        })\n        if (limit) {\n          sourceLimitOrgId.source1LimitOrgId = limit.location\n        } else {\n          if (\n            dtSrc1.shareToAll.activated &&\n            dtSrc1.shareToAll.limitByUserLocation\n          ) {\n            sourceLimitOrgId.source1LimitOrgId = this.$store.state.dhis.user.orgId\n            if (!sourceLimitOrgId.source1LimitOrgId) {\n              sourceLimitOrgId.source1LimitOrgId = 'undefined'\n            }\n          }\n        }\n      }\n\n      if (dtSrc2 && dtSrc2.hasOwnProperty('userID') && dtSrc2.userID._id !== this.$store.state.auth.userID) {\n        let limit = dtSrc2.sharedLocation.find(sharedLocation => {\n          return sharedLocation.user === this.$store.state.auth.userID\n        })\n        if (limit) {\n          sourceLimitOrgId.source2LimitOrgId = limit.location\n        } else {\n          if (\n            dtSrc2.shareToAll.activated &&\n            dtSrc2.shareToAll.limitByUserLocation\n          ) {\n            sourceLimitOrgId.source2LimitOrgId = this.$store.state.dhis.user.orgId\n            if (!sourceLimitOrgId.source2LimitOrgId) {\n              sourceLimitOrgId.source2LimitOrgId = 'undefined'\n            }\n          }\n        }\n      }\n      return sourceLimitOrgId\n    },\n    getLimitOrgIdOnDataSource (dataSource) {\n      let limitOrgId\n      if (dataSource && dataSource.hasOwnProperty('userID') && dataSource.userID._id !== this.$store.state.auth.userID) {\n        let limit = dataSource.sharedLocation.find(sharedLocation => {\n          return sharedLocation.user === this.$store.state.auth.userID\n        })\n        if (limit) {\n          limitOrgId = limit.location\n        } else {\n          if (\n            dataSource.shareToAll.activated &&\n            dataSource.shareToAll.limitByUserLocation\n          ) {\n            limitOrgId = this.$store.state.dhis.user.orgId\n            if (!limitOrgId) {\n              limitOrgId = 'undefined'\n            }\n          }\n        }\n      }\n      return limitOrgId\n    },\n    getRoles () {\n      axios\n        .get('/getRoles')\n        .then(roles => {\n          for (let role of roles.data) {\n            this.roles.push({\n              text: role.name,\n              value: role._id,\n              tasks: role.tasks\n            })\n          }\n        })\n        .catch(err => {\n          console.log(err.response)\n        })\n    },\n    getTasks () {\n      axios\n        .get('/getTasks')\n        .then(tasks => {\n          this.tasks = tasks.data\n        })\n        .catch(err => {\n          console.log(err.response)\n        })\n    },\n    saveConfiguration (configLevel, configName) {\n      let userID = this.$store.state.auth.userID\n      let formData = new FormData()\n      formData.append('config', JSON.stringify(this.$store.state.config))\n      formData.append('userID', userID)\n      let endPoint\n      if (configLevel === 'generalConfig') {\n        endPoint = '/updateGeneralConfig'\n      } else {\n        endPoint = '/updateUserConfig'\n      }\n      axios\n        .post(endPoint, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        })\n        .then(() => {\n          if (configName === 'useCSVHeader') {\n            eventBus.$emit('changeCSVHeaderNames')\n          }\n          if (configName === 'authDisabled') {\n            this.$router.push({\n              name: 'Logout'\n            })\n          }\n        })\n    },\n    setDHIS2Credentials () {\n      // tell the backend that auth is disabled\n      this.$store.state.auth.token = ''\n      if (process.env.NODE_ENV === 'production') {\n        let href = location.href.split('api')\n        if (href.length < 2) {\n          return false\n        }\n        this.$store.state.dhis.host = location.href.split('api').shift()\n        axios.defaults.params = {\n          authDisabled: true\n        }\n        return true\n      } else if (process.env.NODE_ENV === 'development') {\n        this.$store.state.dhis.host = 'https://test.geoalign.datim.org/'\n        this.$store.state.dhis.dev.auth.username = 'Alicia_MOH_DataImport'\n        this.$store.state.dhis.dev.auth.password = 'P@$$w0rd@1'\n        axios.defaults.params = {\n          authDisabled: true\n        }\n        return true\n      }\n    }\n  }\n}\n"]}]}