{"remainingRequest":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr2/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr2/src/App.vue","mtime":1619066474686},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IE1lbnUgZnJvbSAnQC9jb21wb25lbnRzL21lbnUnCmltcG9ydCB7IHNjb3Jlc01peGluIH0gZnJvbSAnLi9taXhpbnMvc2NvcmVzTWl4aW4nCmltcG9ydCB7IGdlbmVyYWxNaXhpbiB9IGZyb20gJy4vbWl4aW5zL2dlbmVyYWxNaXhpbicKaW1wb3J0IHsgZGF0YVNvdXJjZVBhaXJNaXhpbiB9IGZyb20gJy4vY29tcG9uZW50cy9EYXRhU291cmNlc1BhaXIvZGF0YVNvdXJjZVBhaXJNaXhpbicKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICcuL21haW4nCmltcG9ydCB7IHV1aWQgfSBmcm9tICd2dWUtdXVpZCcKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAndnVlLWNvb2tpZXMnCmltcG9ydCB7CiAgdGFza3NWZXJpZmljYXRpb24KfSBmcm9tICcuL21vZHVsZXMvdGFza3NWZXJpZmljYXRpb24nCmNvbnN0IGJhY2tlbmRTZXJ2ZXIgPSBwcm9jZXNzLmVudi5CQUNLRU5EX1NFUlZFUgoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2RhdGFTb3VyY2VQYWlyTWl4aW4sIHNjb3Jlc01peGluLCBnZW5lcmFsTWl4aW5dLAogIHByb3BzOiBbJ2dlbmVyYWxDb25maWcnXSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiBbCiAgICAgICAgeyB0aXRsZTogJ0NsaWNrIE1lJyB9LAogICAgICAgIHsgdGl0bGU6ICdDbGljayBNZScgfSwKICAgICAgICB7IHRpdGxlOiAnQ2xpY2sgTWUnIH0sCiAgICAgICAgeyB0aXRsZTogJ0NsaWNrIE1lIDInIH0KICAgICAgXSwKICAgICAgZml4ZWQ6IGZhbHNlLAogICAgICB0aXRsZTogdGhpcy4kdCgnQXBwLnRpdGxlJyksCiAgICAgIGxvY2FsZTogJ2VuJywKICAgICAgbG9jYWxlczogWwogICAgICAgIHsgdGV4dDogJ0VuZ2xpc2gnLCB2YWx1ZTogJ2VuJyB9LAogICAgICAgIHsgdGV4dDogJ0ZyZW5jaCcsIHZhbHVlOiAnZnInIH0KICAgICAgXSwKICAgICAgYWN0aXZlRGF0YVNvdXJjZVBhaXI6IHt9LAogICAgICB0YXNrc1ZlcmlmaWNhdGlvbjogdGFza3NWZXJpZmljYXRpb24KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsb2NhbGUgKHZhbCkgewogICAgICB0aGlzLiRpMThuLmxvY2FsZSA9IHZhbAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VEaWFsb2dFcnJvciAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yQ29sb3IgPSAncHJpbWFyeScKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSBmYWxzZQogICAgfSwKICAgIHJlbmRlckluaXRpYWxQYWdlICgpIHsKICAgICAgbGV0IHNvdXJjZTEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEubmFtZQogICAgICBsZXQgc291cmNlMiA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi5uYW1lCiAgICAgIGlmICgKICAgICAgICAoIXNvdXJjZTEgfHwgIXNvdXJjZTIpICYmCiAgICAgICAgKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VzLmxlbmd0aCA+IDEgfHwKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VQYWlycy5sZW5ndGggPiAwKQogICAgICApIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdEYXRhU291cmNlc1BhaXInIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgaWYgKCFzb3VyY2UxIHx8ICFzb3VyY2UyKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnQWRkRGF0YVNvdXJjZXMnIH0pCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgc291cmNlMSA9IHRoaXMudG9UaXRsZUNhc2Uoc291cmNlMSkKICAgICAgc291cmNlMiA9IHRoaXMudG9UaXRsZUNhc2Uoc291cmNlMikKCiAgICAgIGxldCBzb3VyY2VzT3duZXIgPSB0aGlzLmdldERhdGFzb3VyY2VPd25lcigpCiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgKICAgICAgICAgIGJhY2tlbmRTZXJ2ZXIgKwogICAgICAgICAgJy91cGxvYWRBdmFpbGFibGUvJyArCiAgICAgICAgICBzb3VyY2UxICsKICAgICAgICAgICcvJyArCiAgICAgICAgICBzb3VyY2UyICsKICAgICAgICAgICcvJyArCiAgICAgICAgICBzb3VyY2VzT3duZXIuc291cmNlMU93bmVyICsKICAgICAgICAgICcvJyArCiAgICAgICAgICBzb3VyY2VzT3duZXIuc291cmNlMk93bmVyCiAgICAgICAgKQogICAgICAgIC50aGVuKHJlc3VsdHMgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuaW5pdGlhbGl6aW5nQXBwID0gZmFsc2UKICAgICAgICAgIGlmIChyZXN1bHRzLmRhdGEuZGF0YVVwbG9hZGVkKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY2FsY3VsYXRlU2NvcmVzID0gdHJ1ZQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdGYWNpbGl0eVJlY29uU2NvcmVzJyB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnQWRkRGF0YVNvdXJjZXMnIH0pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0FkZERhdGFTb3VyY2VzJyB9KQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0VG90YWxMZXZlbHMgKCkgewogICAgICBsZXQgc291cmNlMSA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMS5uYW1lCiAgICAgIGxldCBzb3VyY2UyID0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyLm5hbWUKICAgICAgaWYgKCFzb3VyY2UxIHx8ICFzb3VyY2UyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudG90YWxTb3VyY2UxTGV2ZWxzID0gNQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRvdGFsU291cmNlMkxldmVscyA9IDUKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5pbml0aWFsaXppbmdBcHAgPSBmYWxzZQogICAgICAgIHRoaXMucmVuZGVySW5pdGlhbFBhZ2UoKQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY29MZXZlbCA9IDIKICAgICAgICB0aGlzLmdldFJlY29TdGF0dXMoKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHNvdXJjZTEgPSB0aGlzLnRvVGl0bGVDYXNlKHNvdXJjZTEpCiAgICAgIHNvdXJjZTIgPSB0aGlzLnRvVGl0bGVDYXNlKHNvdXJjZTIpCiAgICAgIGxldCBzb3VyY2VzT3duZXIgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldERhdGFzb3VyY2VPd25lcigpKQogICAgICBsZXQgc291cmNlc0xpbWl0T3JnSWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldExpbWl0T3JnSWRPbkFjdGl2ZVBhaXIoKSkKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGJhY2tlbmRTZXJ2ZXIgKyAnL2NvdW50TGV2ZWxzLycgKyBzb3VyY2UxICsgJy8nICsgc291cmNlMiArICcvJyArIHNvdXJjZXNPd25lciArICcvJyArIHNvdXJjZXNMaW1pdE9yZ0lkKQogICAgICAgIC50aGVuKGxldmVscyA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmcuc291cmNlMSA9IGxldmVscy5kYXRhLmxldmVsTWFwcGluZy5sZXZlbE1hcHBpbmcxCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbE1hcHBpbmcuc291cmNlMiA9IGxldmVscy5kYXRhLmxldmVsTWFwcGluZy5sZXZlbE1hcHBpbmcyCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50b3RhbFNvdXJjZTFMZXZlbHMgPSBsZXZlbHMuZGF0YS50b3RhbFNvdXJjZTFMZXZlbHMKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRvdGFsU291cmNlMkxldmVscyA9IGxldmVscy5kYXRhLnRvdGFsU291cmNlMkxldmVscwogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucmVjb0xldmVsID0gMgogICAgICAgICAgdGhpcy5yZW5kZXJJbml0aWFsUGFnZSgpCiAgICAgICAgICB0aGlzLmdldFJlY29TdGF0dXMoKQogICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY29MZXZlbCA9IDIKICAgICAgICAgIHRoaXMucmVuZGVySW5pdGlhbFBhZ2UoKQogICAgICAgICAgdGhpcy5nZXRSZWNvU3RhdHVzKCkKICAgICAgICB9KQogICAgfSwKICAgIGdldFJlY29TdGF0dXMgKCkgewogICAgICBpZiAoCiAgICAgICAgT2JqZWN0LmtleXModGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxKS5sZW5ndGggPT09IDAgfHwKICAgICAgICBPYmplY3Qua2V5cyh0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTIpLmxlbmd0aCA9PT0gMAogICAgICApIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBsZXQgc291cmNlMSA9IHRoaXMudG9UaXRsZUNhc2UodGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxLm5hbWUpCiAgICAgIGxldCBzb3VyY2UyID0gdGhpcy50b1RpdGxlQ2FzZSh0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTIubmFtZSkKICAgICAgbGV0IHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIudXNlcklELl9pZAogICAgICBheGlvcwogICAgICAgIC5nZXQoCiAgICAgICAgICBiYWNrZW5kU2VydmVyICsKICAgICAgICAgICcvcmVjb1N0YXR1cy8nICsKICAgICAgICAgIHNvdXJjZTEgKwogICAgICAgICAgJy8nICsKICAgICAgICAgIHNvdXJjZTIgKwogICAgICAgICAgJy8nICsKICAgICAgICAgIHVzZXJJRAogICAgICAgICkKICAgICAgICAudGhlbihzdGF0dXMgPT4gewogICAgICAgICAgaWYgKHN0YXR1cy5kYXRhLnN0YXR1cykgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yZWNvU3RhdHVzID0gc3RhdHVzLmRhdGEuc3RhdHVzCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgIC5nZXQoCiAgICAgICAgICAgICAgICBiYWNrZW5kU2VydmVyICsKICAgICAgICAgICAgICAgICcvbWFya1JlY29VbkRvbmUvJyArCiAgICAgICAgICAgICAgICBzb3VyY2UxICsKICAgICAgICAgICAgICAgICcvJyArCiAgICAgICAgICAgICAgICBzb3VyY2UyICsKICAgICAgICAgICAgICAgICcvJyArCiAgICAgICAgICAgICAgICB1c2VySUQKICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgLnRoZW4oc3RhdHVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucmVjb1N0YXR1cyA9IHN0YXR1cy5kYXRhLnN0YXR1cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YS5lcnJvcikKICAgICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YS5lcnJvcikKICAgICAgICB9KQogICAgfSwKICAgIGdldERhdGFTb3VyY2VzICgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubG9hZGluZ1NlcnZlcnMgPSB0cnVlCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VzID0gW10KICAgICAgbGV0IHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklECiAgICAgIGxldCByb2xlID0gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5yb2xlCiAgICAgIGxldCBvcmdJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZAogICAgICBheGlvcwogICAgICAgIC5nZXQoYmFja2VuZFNlcnZlciArICcvZ2V0RGF0YVNvdXJjZXMvJyArIHVzZXJJRCArICcvJyArIHJvbGUgKyAnLycgKyBvcmdJZCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2FkaW5nU2VydmVycyA9IGZhbHNlCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcyA9IHJlc3BvbnNlLmRhdGEuc2VydmVycwogICAgICAgICAgdGhpcy5nZXREYXRhU291cmNlUGFpcigpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmdTZXJ2ZXJzID0gZmFsc2UKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycikpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRVc2VyQ29uZmlnICgpIHsKICAgICAgbGV0IHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklECiAgICAgIGF4aW9zCiAgICAgICAgLmdldChiYWNrZW5kU2VydmVyICsgJy9nZXRVc2VyQ29uZmlnLycgKyB1c2VySUQpCiAgICAgICAgLnRoZW4oY29uZmlnID0+IHsKICAgICAgICAgIGlmIChjb25maWcuZGF0YSkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcudXNlckNvbmZpZyA9IHsgLi4udGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLnVzZXJDb25maWcsIC4uLmNvbmZpZy5kYXRhIH0KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZ2V0R2VuZXJhbENvbmZpZygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZXMoKQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmdldEdlbmVyYWxDb25maWcoKCkgPT4gewogICAgICAgICAgICB0aGlzLmdldERhdGFTb3VyY2VzKCkKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXREYXRhU291cmNlUGFpciAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMSA9IHt9CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMiA9IHt9CiAgICAgIGxldCB1c2VySUQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRAogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLmluaXRpYWxpemluZ0FwcCkgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmluaXRpYWxpemluZ0FwcCA9IHRydWUKICAgICAgfQogICAgICBheGlvcwogICAgICAgIC5nZXQoYmFja2VuZFNlcnZlciArICcvZ2V0RGF0YVNvdXJjZVBhaXIvJyArIHVzZXJJRCArICcvJyArIHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlUGFpcnMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICBsZXQgYWN0aXZlU291cmNlID0gdGhpcy5nZXRBY3RpdmVEYXRhU291cmNlUGFpcigpCiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZlU291cmNlKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMS5pZCA9IGFjdGl2ZVNvdXJjZS5zb3VyY2UxLl9pZAogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEubmFtZSA9IGFjdGl2ZVNvdXJjZS5zb3VyY2UxLm5hbWUKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxLnVzZXJJRCA9IGFjdGl2ZVNvdXJjZS5zb3VyY2UxLnVzZXJJRAogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTIuaWQgPSBhY3RpdmVTb3VyY2Uuc291cmNlMi5faWQKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyLm5hbWUgPSBhY3RpdmVTb3VyY2Uuc291cmNlMi5uYW1lCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi51c2VySUQgPSBhY3RpdmVTb3VyY2Uuc291cmNlMi51c2VySUQKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5faWQgPSBhY3RpdmVTb3VyY2UuX2lkCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc2hhcmVkID0gYWN0aXZlU291cmNlLnNoYXJlZAogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnVzZXJJRCA9IGFjdGl2ZVNvdXJjZS51c2VySUQKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYXV0b0FjdGl2YXRlRGF0YXNvdXJjZVBhaXIoKGNyZWF0ZWQpID0+IHsKICAgICAgICAgICAgaWYgKCFjcmVhdGVkKSB7CiAgICAgICAgICAgICAgdGhpcy5hdXRvQ3JlYXRlRGF0YXNvdXJjZVBhaXIoKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5nZXRUb3RhbExldmVscygpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycikpCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaWFsb2dFcnJvciA9IHRydWUKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yVGl0bGUgPSAnRXJyb3InCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvckRlc2NyaXB0aW9uID0gJ0FuIGVycm9yIG9jY3VyZWQgd2hpbGUgZ2V0dGluZyBkYXRhIHNvdXJjZSBwYWlycywgcmVsb2FkIHRoZSBhcHAgdG8gcmV0cnknCiAgICAgICAgICB0aGlzLmdldFRvdGFsTGV2ZWxzKCkKICAgICAgICB9KQogICAgfSwKICAgIGF1dG9DcmVhdGVEYXRhc291cmNlUGFpciAoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5yZWNvbmNpbGlhdGlvbi5zaW5nbGVEYXRhU291cmNlKSB7CiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMSkubGVuZ3RoID4gMCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICAgIGxldCBmaXhlZFNvdXJjZTJUbyA9IHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnLnJlY29uY2lsaWF0aW9uLmZpeFNvdXJjZTJUbwogICAgICAgIGxldCBzb3VyY2UxID0ge30KICAgICAgICBsZXQgc291cmNlMiA9IHt9CiAgICAgICAgbGV0IHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklECiAgICAgICAgbGV0IG9yZ0lkID0gdGhpcy4kc3RvcmUuc3RhdGUuZGhpcy51c2VyLm9yZ0lkCiAgICAgICAgbGV0IGRhdGFzb3VyY2VzID0gW10KICAgICAgICBmb3IgKGxldCBzb3VyY2Ugb2YgdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZXMpIHsKICAgICAgICAgIGxldCBzaGFyZWRUb01lID0gc291cmNlLnNoYXJlZC51c2Vycy5maW5kKCh1c2VyKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB1c2VyLl9pZCA9PT0gdXNlcklECiAgICAgICAgICB9KQogICAgICAgICAgbGV0IGl0c01pbmUgPSBzb3VyY2Uub3duZXIuaWQgPT09IHVzZXJJRAogICAgICAgICAgbGV0IHNoYXJlZFRvQWxsID0gc291cmNlLnNoYXJlVG9BbGwuYWN0aXZhdGVkID09PSB0cnVlCiAgICAgICAgICBsZXQgc2FtZU9yZ0lkID0gZmFsc2UKICAgICAgICAgIGlmIChzb3VyY2Uub3duZXIub3JnSWQgJiYgc291cmNlLm93bmVyLm9yZ0lkID09PSBvcmdJZCkgewogICAgICAgICAgICBzYW1lT3JnSWQgPSB0cnVlCiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIWl0c01pbmUgJiYgIXNoYXJlZFRvTWUgJiYgIXNoYXJlZFRvQWxsICYmICFzYW1lT3JnSWQpIHsKICAgICAgICAgICAgY29udGludWUKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzb3VyY2UuX2lkID09PSBmaXhlZFNvdXJjZTJUbykgewogICAgICAgICAgICBzb3VyY2UyID0gc291cmNlCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzb3VyY2UxID0gc291cmNlCiAgICAgICAgICB9CiAgICAgICAgICBkYXRhc291cmNlcy5wdXNoKHNvdXJjZSkKICAgICAgICB9CiAgICAgICAgaWYgKGRhdGFzb3VyY2VzLmxlbmd0aCA+IDIgfHwgT2JqZWN0LmtleXMoc291cmNlMSkubGVuZ3RoID09PSAwIHx8IE9iamVjdC5rZXlzKHNvdXJjZTIpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICAgIHRoaXMuY3JlYXRlRGF0YXNvdXJjZVBhaXIoc291cmNlMSwgc291cmNlMikKICAgICAgfQogICAgfSwKICAgIGF1dG9BY3RpdmF0ZURhdGFzb3VyY2VQYWlyIChjYWxsYmFjaykgewogICAgICBpZiAoT2JqZWN0LmtleXModGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxKS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGV0IHZhbCA9IGZhbHNlCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHZhbCkKICAgICAgfQogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZVBhaXJzLmxlbmd0aCA+IDEgfHwgdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZVBhaXJzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGxldCB2YWwgPSBmYWxzZQogICAgICAgIHJldHVybiBjYWxsYmFjayh2YWwpCiAgICAgIH0KICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZCAmJiB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5yZWNvbmNpbGlhdGlvbi5zaW5nbGVQYWlyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZVBhaXJzLnN0YXR1cyA9ICdhY3RpdmUnCiAgICAgICAgdGhpcy5hY3RpdmVEYXRhU291cmNlUGFpciA9IHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VQYWlyc1swXQogICAgICAgIGxldCB2YWwgPSB0cnVlCiAgICAgICAgY2FsbGJhY2sodmFsKQogICAgICAgIHRoaXMuYWN0aXZhdGVQYWlyKCkKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgdmFsID0gZmFsc2UKICAgICAgICBjYWxsYmFjayh2YWwpCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaGlzTGluayAoKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnYXBwTWVudSc6IE1lbnUKICB9LAogIGNyZWF0ZWQgKCkgewogICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnQWRkRGF0YVNvdXJjZXMnIH0pCiAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZyA9IHRoaXMuZ2VuZXJhbENvbmZpZwogICAgaWYgKFZ1ZUNvb2tpZXMuZ2V0KCd0b2tlbicpICYmIFZ1ZUNvb2tpZXMuZ2V0KCd1c2VySUQnKSkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnRva2VuID0gVnVlQ29va2llcy5nZXQoJ3Rva2VuJykKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VySUQgPSBWdWVDb29raWVzLmdldCgndXNlcklEJykKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VybmFtZSA9IFZ1ZUNvb2tpZXMuZ2V0KCd1c2VybmFtZScpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgucm9sZSA9IFZ1ZUNvb2tpZXMuZ2V0KCdyb2xlJykKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC50YXNrcyA9IEpTT04ucGFyc2UoVnVlQ29va2llcy5nZXQoJ3Rhc2tzJykpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNpZ251cEZpZWxkcyA9IFZ1ZUNvb2tpZXMuZ2V0KCdzaWdudXBGaWVsZHMnKQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5jdXN0b21TaWdudXBGaWVsZHMgPSBWdWVDb29raWVzLmdldCgnY3VzdG9tU2lnbnVwRmllbGRzJykKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5hdXRoRGlzYWJsZWQpIHsKICAgICAgICBheGlvcy5nZXQoYmFja2VuZFNlcnZlciArICcvaXNUb2tlbkFjdGl2ZS8nKS50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIHdpbGwgY29tZSBoZXJlIG9ubHkgaWYgdGhlIHRva2VuIGlzIGFjdGl2ZQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2xpZW50SWQgPSB1dWlkLnY0KCkKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmluaXRpYWxpemluZ0FwcCA9IHRydWUKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRlbnlBY2Nlc3MgPSBmYWxzZQogICAgICAgICAgdGhpcy5nZXRVc2VyQ29uZmlnKCkKICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdsb2dpbicpCiAgICAgIH0KICAgIH0KCiAgICBldmVudEJ1cy4kb24oJ3JlZnJlc2hBcHAnLCAoKSA9PiB7CiAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZXMoKQogICAgfSkKICAgIGV2ZW50QnVzLiRvbigncmVjYWxjdWxhdGVTY29yZXMnLCAoKSA9PiB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY2FsY3VsYXRlU2NvcmVzID0gdHJ1ZQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdGYWNpbGl0eVJlY29uU2NvcmVzJyB9KQogICAgfSkKICAgIGV2ZW50QnVzLiRvbignZ2V0RGF0YVNvdXJjZXMnLCAoKSA9PiB7CiAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZXMoKQogICAgfSkKICAgIGV2ZW50QnVzLiRvbignZ2V0Q29uZmlnJywgKCkgPT4gewogICAgICB0aGlzLmdldFVzZXJDb25maWcoKQogICAgfSkKICAgIGV2ZW50QnVzLiRvbignZ2V0R2VuZXJhbENvbmZpZycsICgpID0+IHsKICAgICAgdGhpcy5nZXRHZW5lcmFsQ29uZmlnKCkKICAgIH0pCiAgICBldmVudEJ1cy4kb24oJ2dldERhdGFTb3VyY2VQYWlyJywgKCkgPT4gewogICAgICB0aGlzLmdldERhdGFTb3VyY2VQYWlyKCkKICAgIH0pCiAgfSwKICBuYW1lOiAnQXBwJwp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-toolbar\n      color=\"primary\"\n      dark\n      app\n    >\n      <v-toolbar-title v-text=\"title\"></v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items v-if=\"$store.state.auth.token || $store.state.config.generalConfig.authDisabled\">\n        <v-btn\n          flat\n          :href=\"dhisLink\"\n          v-if='dhisLink'\n        >\n          <img src=\"./assets/dhis2.png\" />\n        </v-btn>\n        <appMenu></appMenu>\n      </v-toolbar-items>\n      <v-spacer></v-spacer>\n      <v-toolbar-items>\n\n      </v-toolbar-items>\n    </v-toolbar>\n    <v-content>\n      <v-dialog\n        v-model=\"$store.state.dynamicProgress\"\n        persistent\n        width=\"300\"\n      >\n        <v-card\n          color=\"primary\"\n          dark\n        >\n          <v-card-text>\n            {{$store.state.progressTitle}}\n            <v-progress-linear\n              indeterminate\n              color=\"white\"\n              class=\"mb-0\"\n            ></v-progress-linear>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n        persistent\n        v-model=\"$store.state.dialogError\"\n        max-width=\"500px\"\n      >\n        <v-card>\n          <v-toolbar\n            :color=\"$store.state.errorColor\"\n            dark\n          >\n            <v-toolbar-title>\n              {{$store.state.errorTitle}}\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-btn\n              icon\n              dark\n              @click.native=\"$store.state.dialogError = false\"\n            >\n              <v-icon>close</v-icon>\n            </v-btn>\n          </v-toolbar>\n          <v-card-text>\n            {{$store.state.errorDescription}}\n          </v-card-text>\n          <v-card-actions>\n            <v-btn\n              color=\"primary\"\n              @click.native=\"closeDialogError\"\n            >Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n        v-model=\"$store.state.initializingApp\"\n        persistent\n        width=\"300\"\n      >\n        <v-card\n          color=\"primary\"\n          dark\n        >\n          <v-card-text>\n            {{ $t('App.initApp') }}\n            <v-progress-linear\n              indeterminate\n              color=\"white\"\n              class=\"mb-0\"\n            ></v-progress-linear>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n      <v-layout\n        row\n        wrap\n      >\n        <v-flex xs6>\n          <template v-if=\"Object.keys($store.state.activePair.source1).length > 0 && !$store.state.denyAccess\">\n            {{ $t('App.source') }} 1: <b>{{$store.state.activePair.source1.name}}</b>, &nbsp; &nbsp; {{ $t('App.source') }} 2: <b>{{$store.state.activePair.source2.name}}</b>,\n            &nbsp; &nbsp; Recon Status: <v-icon\n              small\n              v-if=\"$store.state.recoStatus === 'in-progress'\"\n            >lock_open</v-icon>\n            <v-icon\n              small\n              v-else\n            >lock</v-icon> <b>{{$store.state.recoStatus}}</b>\n          </template>\n        </v-flex>\n        <v-spacer></v-spacer>\n        <v-flex xs1>\n          <v-select\n            :items=\"locales\"\n            v-model=\"locale\"\n          ></v-select>\n        </v-flex>\n      </v-layout>\n      <v-alert\n        :style=\"{width: $store.state.alert.width}\"\n        v-model=\"$store.state.alert.show\"\n        :type=\"$store.state.alert.type\"\n        :dismissible=\"$store.state.alert.dismisible\"\n        :transition=\"$store.state.alert.transition\"\n      >\n        {{$store.state.alert.msg}}\n      </v-alert>\n      <router-view :key='\"baseRouterViewKey\" + $store.state.baseRouterViewKey'></router-view>\n    </v-content>\n    <v-footer\n      dark\n      color=\"primary\"\n      :fixed=\"fixed\"\n      app\n    >\n\n    </v-footer>\n  </v-app>\n</template>\n<script>\nimport axios from 'axios'\nimport Menu from '@/components/menu'\nimport { scoresMixin } from './mixins/scoresMixin'\nimport { generalMixin } from './mixins/generalMixin'\nimport { dataSourcePairMixin } from './components/DataSourcesPair/dataSourcePairMixin'\nimport { eventBus } from './main'\nimport { uuid } from 'vue-uuid'\nimport VueCookies from 'vue-cookies'\nimport {\n  tasksVerification\n} from './modules/tasksVerification'\nconst backendServer = process.env.BACKEND_SERVER\n\nexport default {\n  mixins: [dataSourcePairMixin, scoresMixin, generalMixin],\n  props: ['generalConfig'],\n  data () {\n    return {\n      items: [\n        { title: 'Click Me' },\n        { title: 'Click Me' },\n        { title: 'Click Me' },\n        { title: 'Click Me 2' }\n      ],\n      fixed: false,\n      title: this.$t('App.title'),\n      locale: 'en',\n      locales: [\n        { text: 'English', value: 'en' },\n        { text: 'French', value: 'fr' }\n      ],\n      activeDataSourcePair: {},\n      tasksVerification: tasksVerification\n    }\n  },\n  watch: {\n    locale (val) {\n      this.$i18n.locale = val\n    }\n  },\n  methods: {\n    closeDialogError () {\n      this.$store.state.errorColor = 'primary'\n      this.$store.state.dialogError = false\n    },\n    renderInitialPage () {\n      let source1 = this.$store.state.activePair.source1.name\n      let source2 = this.$store.state.activePair.source2.name\n      if (\n        (!source1 || !source2) &&\n        (this.$store.state.dataSources.length > 1 ||\n          this.$store.state.dataSourcePairs.length > 0)\n      ) {\n        this.$router.push({ name: 'DataSourcesPair' })\n        return\n      }\n      if (!source1 || !source2) {\n        this.$router.push({ name: 'AddDataSources' })\n        return\n      }\n      source1 = this.toTitleCase(source1)\n      source2 = this.toTitleCase(source2)\n\n      let sourcesOwner = this.getDatasourceOwner()\n      axios\n        .get(\n          backendServer +\n          '/uploadAvailable/' +\n          source1 +\n          '/' +\n          source2 +\n          '/' +\n          sourcesOwner.source1Owner +\n          '/' +\n          sourcesOwner.source2Owner\n        )\n        .then(results => {\n          this.$store.state.initializingApp = false\n          if (results.data.dataUploaded) {\n            this.$store.state.recalculateScores = true\n            this.$router.push({ name: 'FacilityReconScores' })\n          } else {\n            this.$router.push({ name: 'AddDataSources' })\n          }\n        })\n        .catch(err => {\n          console.log(err)\n          this.$router.push({ name: 'AddDataSources' })\n        })\n    },\n    getTotalLevels () {\n      let source1 = this.$store.state.activePair.source1.name\n      let source2 = this.$store.state.activePair.source2.name\n      if (!source1 || !source2) {\n        this.$store.state.totalSource1Levels = 5\n        this.$store.state.totalSource2Levels = 5\n        this.$store.state.initializingApp = false\n        this.renderInitialPage()\n        this.$store.state.recoLevel = 2\n        this.getRecoStatus()\n        return\n      }\n      source1 = this.toTitleCase(source1)\n      source2 = this.toTitleCase(source2)\n      let sourcesOwner = JSON.stringify(this.getDatasourceOwner())\n      let sourcesLimitOrgId = JSON.stringify(this.getLimitOrgIdOnActivePair())\n      axios\n        .get(backendServer + '/countLevels/' + source1 + '/' + source2 + '/' + sourcesOwner + '/' + sourcesLimitOrgId)\n        .then(levels => {\n          this.$store.state.levelMapping.source1 = levels.data.levelMapping.levelMapping1\n          this.$store.state.levelMapping.source2 = levels.data.levelMapping.levelMapping2\n          this.$store.state.totalSource1Levels = levels.data.totalSource1Levels\n          this.$store.state.totalSource2Levels = levels.data.totalSource2Levels\n          this.$store.state.recoLevel = 2\n          this.renderInitialPage()\n          this.getRecoStatus()\n        }).catch((err) => {\n          console.log(err)\n          this.$store.state.recoLevel = 2\n          this.renderInitialPage()\n          this.getRecoStatus()\n        })\n    },\n    getRecoStatus () {\n      if (\n        Object.keys(this.$store.state.activePair.source1).length === 0 ||\n        Object.keys(this.$store.state.activePair.source2).length === 0\n      ) {\n        return\n      }\n      let source1 = this.toTitleCase(this.$store.state.activePair.source1.name)\n      let source2 = this.toTitleCase(this.$store.state.activePair.source2.name)\n      let userID = this.$store.state.activePair.userID._id\n      axios\n        .get(\n          backendServer +\n          '/recoStatus/' +\n          source1 +\n          '/' +\n          source2 +\n          '/' +\n          userID\n        )\n        .then(status => {\n          if (status.data.status) {\n            this.$store.state.recoStatus = status.data.status\n          } else {\n            axios\n              .get(\n                backendServer +\n                '/markRecoUnDone/' +\n                source1 +\n                '/' +\n                source2 +\n                '/' +\n                userID\n              )\n              .then(status => {\n                if (status.data.status) {\n                  this.$store.state.recoStatus = status.data.status\n                }\n              })\n              .catch(err => {\n                console.log(err.response.data.error)\n              })\n          }\n        })\n        .catch(err => {\n          console.log(err.response.data.error)\n        })\n    },\n    getDataSources () {\n      this.$store.state.loadingServers = true\n      this.$store.state.dataSources = []\n      let userID = this.$store.state.auth.userID\n      let role = this.$store.state.auth.role\n      let orgId = this.$store.state.dhis.user.orgId\n      axios\n        .get(backendServer + '/getDataSources/' + userID + '/' + role + '/' + orgId)\n        .then(response => {\n          this.$store.state.loadingServers = false\n          this.$store.state.dataSources = response.data.servers\n          this.getDataSourcePair()\n        })\n        .catch(err => {\n          this.$store.state.loadingServers = false\n          console.log(JSON.stringify(err))\n        })\n    },\n    getUserConfig () {\n      let userID = this.$store.state.auth.userID\n      axios\n        .get(backendServer + '/getUserConfig/' + userID)\n        .then(config => {\n          if (config.data) {\n            this.$store.state.config.userConfig = { ...this.$store.state.config.userConfig, ...config.data }\n          }\n          this.getGeneralConfig(() => {\n            this.getDataSources()\n          })\n        })\n        .catch(() => {\n          this.getGeneralConfig(() => {\n            this.getDataSources()\n          })\n        })\n    },\n    getDataSourcePair () {\n      this.$store.state.activePair.source1 = {}\n      this.$store.state.activePair.source2 = {}\n      let userID = this.$store.state.auth.userID\n      if (!this.$store.state.initializingApp) {\n        this.$store.state.initializingApp = true\n      }\n      axios\n        .get(backendServer + '/getDataSourcePair/' + userID + '/' + this.$store.state.dhis.user.orgId)\n        .then(response => {\n          this.$store.state.dataSourcePairs = response.data\n          let activeSource = this.getActiveDataSourcePair()\n          if (Object.keys(activeSource).length > 0) {\n            this.$store.state.activePair.source1.id = activeSource.source1._id\n            this.$store.state.activePair.source1.name = activeSource.source1.name\n            this.$store.state.activePair.source1.userID = activeSource.source1.userID\n            this.$store.state.activePair.source2.id = activeSource.source2._id\n            this.$store.state.activePair.source2.name = activeSource.source2.name\n            this.$store.state.activePair.source2.userID = activeSource.source2.userID\n            this.$store.state.activePair._id = activeSource._id\n            this.$store.state.activePair.shared = activeSource.shared\n            this.$store.state.activePair.userID = activeSource.userID\n          }\n          this.autoActivateDatasourcePair((created) => {\n            if (!created) {\n              this.autoCreateDatasourcePair()\n            }\n          })\n          this.getTotalLevels()\n        })\n        .catch(err => {\n          console.log(JSON.stringify(err))\n          this.$store.state.dialogError = true\n          this.$store.state.errorTitle = 'Error'\n          this.$store.state.errorDescription = 'An error occured while getting data source pairs, reload the app to retry'\n          this.getTotalLevels()\n        })\n    },\n    autoCreateDatasourcePair () {\n      if (this.$store.state.config.generalConfig.reconciliation.singleDataSource) {\n        if (Object.keys(this.$store.state.activePair.source1).length > 0) {\n          return false\n        }\n        let fixedSource2To = this.$store.state.config.generalConfig.reconciliation.fixSource2To\n        let source1 = {}\n        let source2 = {}\n        let userID = this.$store.state.auth.userID\n        let orgId = this.$store.state.dhis.user.orgId\n        let datasources = []\n        for (let source of this.$store.state.dataSources) {\n          let sharedToMe = source.shared.users.find((user) => {\n            return user._id === userID\n          })\n          let itsMine = source.owner.id === userID\n          let sharedToAll = source.shareToAll.activated === true\n          let sameOrgId = false\n          if (source.owner.orgId && source.owner.orgId === orgId) {\n            sameOrgId = true\n          }\n          if (!itsMine && !sharedToMe && !sharedToAll && !sameOrgId) {\n            continue\n          }\n          if (source._id === fixedSource2To) {\n            source2 = source\n          } else {\n            source1 = source\n          }\n          datasources.push(source)\n        }\n        if (datasources.length > 2 || Object.keys(source1).length === 0 || Object.keys(source2).length === 0) {\n          return false\n        }\n        this.createDatasourcePair(source1, source2)\n      }\n    },\n    autoActivateDatasourcePair (callback) {\n      if (Object.keys(this.$store.state.activePair.source1).length > 0) {\n        let val = false\n        return callback(val)\n      }\n      if (this.$store.state.dataSourcePairs.length > 1 || this.$store.state.dataSourcePairs.length === 0) {\n        let val = false\n        return callback(val)\n      }\n      if (this.$store.state.dhis.user.orgId && this.$store.state.config.generalConfig.reconciliation.singlePair) {\n        this.$store.state.dataSourcePairs.status = 'active'\n        this.activeDataSourcePair = this.$store.state.dataSourcePairs[0]\n        let val = true\n        callback(val)\n        this.activatePair()\n      } else {\n        let val = false\n        callback(val)\n      }\n    }\n  },\n  computed: {\n    dhisLink () {\n      if (this.$store.state.dhis.user.orgId) {\n        return window.location.protocol + '//' + window.location.hostname\n      } else {\n        return false\n      }\n    }\n  },\n  components: {\n    'appMenu': Menu\n  },\n  created () {\n    this.$router.push({ name: 'AddDataSources' })\n    this.$store.state.config.generalConfig = this.generalConfig\n    if (VueCookies.get('token') && VueCookies.get('userID')) {\n      this.$store.state.auth.token = VueCookies.get('token')\n      this.$store.state.auth.userID = VueCookies.get('userID')\n      this.$store.state.auth.username = VueCookies.get('username')\n      this.$store.state.auth.role = VueCookies.get('role')\n      this.$store.state.auth.tasks = JSON.parse(VueCookies.get('tasks'))\n      this.$store.state.signupFields = VueCookies.get('signupFields')\n      this.$store.state.customSignupFields = VueCookies.get('customSignupFields')\n      if (!this.$store.state.config.generalConfig.authDisabled) {\n        axios.get(backendServer + '/isTokenActive/').then(() => {\n          // will come here only if the token is active\n          this.$store.state.clientId = uuid.v4()\n          this.$store.state.initializingApp = true\n          this.$store.state.denyAccess = false\n          this.getUserConfig()\n        })\n      } else {\n        this.$router.push('login')\n      }\n    }\n\n    eventBus.$on('refreshApp', () => {\n      this.getDataSources()\n    })\n    eventBus.$on('recalculateScores', () => {\n      this.$store.state.recalculateScores = true\n      this.$router.push({ name: 'FacilityReconScores' })\n    })\n    eventBus.$on('getDataSources', () => {\n      this.getDataSources()\n    })\n    eventBus.$on('getConfig', () => {\n      this.getUserConfig()\n    })\n    eventBus.$on('getGeneralConfig', () => {\n      this.getGeneralConfig()\n    })\n    eventBus.$on('getDataSourcePair', () => {\n      this.getDataSourcePair()\n    })\n  },\n  name: 'App'\n}\n</script>"]}]}