{"remainingRequest":"/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/gofr-gui/src/components/fhir/fhir-choice.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/gofr-gui/src/components/fhir/fhir-choice.vue","mtime":1619587338496},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qCmNvbnN0IGl0ZW1Tb3J0ID0gKGEsYikgPT4gewogIHJldHVybiAoYS5kaXNwbGF5ID09PSBiLmRpc3BsYXkgPyAoYS5jb2RlID09PSBiLmNvZGUgPyAwIDogKGEuY29kZSA8IGIuY29kZSA/IC0xOiAxKSkgOiAoYS5kaXNwbGF5IDwgYi5kaXNwbGF5ID8gLTEgOiAxKSApCn0KKi8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmaGlyLWNvZGluZyIsCiAgcHJvcHM6IFsibGFiZWwiLCAicGF0aCIsICJiaW5kaW5nIiwgImVkaXQiLCAibWluIiwgIm1heCIsImNvbnN0cmFpbnRzIl0sCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZTogeyBzeXN0ZW06ICIiLCBjb2RlOiAiIiwgZGlzcGxheTogIiIgfSwKICAgICAgdmFsdWVDb2RlOiAiIiwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZXJyb3JzOiBbXSwKICAgICAgLy9lcnJvcjogZmFsc2UsCiAgICAgIGl0ZW1zOiBbXSwKICAgICAgcUZpZWxkOiAidmFsdWVDb2RpbmciCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuc2V0dXBEYXRhKCkKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZUNvZGU6IGZ1bmN0aW9uKCkgewogICAgICBpZiAoIHRoaXMuaXRlbXMgKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaXRlbXMuZmluZCggaXRlbSA9PiBpdGVtLmNvZGUgPT09IHRoaXMudmFsdWVDb2RlICkKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0dXBEYXRhOiBmdW5jdGlvbigpIHsKICAgICAgbGV0IGJpbmRpbmcgPSB0aGlzLmJpbmRpbmcKICAgICAgLy9jb25zb2xlLmxvZygiQ09ESU5HIixiaW5kaW5nKQogICAgICB0aGlzLiRmaGlydXRpbHMuZXhwYW5kKCBiaW5kaW5nICkudGhlbiggaXRlbXMgPT4gewogICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0gKS5jYXRjaCggZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgLy90aGlzLmVycm9yID0gdHJ1ZQogICAgICAgIHRoaXMuZXJyb3JzLnB1c2goIGVyci5tZXNzYWdlICkKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB9ICkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICByZXF1aXJlZDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLm1pbiA+IDAKICAgIH0sCiAgICBydWxlczogZnVuY3Rpb24oKSB7CiAgICAgIGlmICggdGhpcy5yZXF1aXJlZCApIHsKICAgICAgICByZXR1cm4gWyB2ID0+ICEhdiB8fCB0aGlzLmxhYmVsKyIgaXMgcmVxdWlyZWQiIF0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gW10KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["fhir-choice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"fhir-choice.vue","sourceRoot":"src/components/fhir","sourcesContent":["<template>\n  <v-container>\n    <v-select\n      :loading=\"loading\"\n      :label=\"label\"\n      v-model=\"valueCode\"\n      :items=\"items\"\n      outlined\n      hide-details=\"auto\"\n      :error-messages=\"errors\"\n      item-text=\"display\"\n      item-value=\"code\"\n      :rules=\"rules\"\n      dense\n      @change=\"errors = []\"\n      >\n      <template #label>{{label}} <span v-if=\"required\" class=\"red--text font-weight-bold\">*</span></template>\n    </v-select>\n  </v-container>\n</template>\n\n<script>\n/*\nconst itemSort = (a,b) => {\n  return (a.display === b.display ? (a.code === b.code ? 0 : (a.code < b.code ? -1: 1)) : (a.display < b.display ? -1 : 1) )\n}\n*/\nexport default {\n  name: \"fhir-coding\",\n  props: [\"label\", \"path\", \"binding\", \"edit\", \"min\", \"max\",\"constraints\"],\n  data: function() {\n    return {\n      value: { system: \"\", code: \"\", display: \"\" },\n      valueCode: \"\",\n      loading: true,\n      errors: [],\n      //error: false,\n      items: [],\n      qField: \"valueCoding\"\n    }\n  },\n  created: function() {\n    this.setupData()\n  },\n  watch: {\n    valueCode: function() {\n      if ( this.items ) {\n        this.value = this.items.find( item => item.code === this.valueCode )\n      }\n    }\n  },\n  methods: {\n    setupData: function() {\n      let binding = this.binding\n      //console.log(\"CODING\",binding)\n      this.$fhirutils.expand( binding ).then( items => {\n        this.items = items\n        this.loading = false\n      } ).catch( err => {\n        console.log(err)\n        //this.error = true\n        this.errors.push( err.message )\n        this.loading = false\n      } )\n    }\n  },\n  computed: {\n    required: function() {\n      return this.min > 0\n    },\n    rules: function() {\n      if ( this.required ) {\n        return [ v => !!v || this.label+\" is required\" ]\n      } else {\n        return []\n      }\n    }\n  }\n}\n</script>\n"]}]}