{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/facility-recon-gui/src/components/FacilityRegistry/CreateFacility.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/components/FacilityRegistry/CreateFacility.vue","mtime":1619257194373},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IExpcXVvclRyZWUgZnJvbSAnbGlxdW9yLXRyZWUnCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwpleHBvcnQgZGVmYXVsdCB7CiAgdmFsaWRhdGlvbnM6IHsKICAgIG5hbWU6IHsgcmVxdWlyZWQgfQogIH0sCiAgcHJvcHM6IFsnYWN0aW9uJywgJ3JlcXVlc3RUeXBlJ10sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nVHJlZTogZmFsc2UsCiAgICAgIHNlYXJjaEp1cmlzZGljdGlvbjogJycsCiAgICAgIGFjdGl2ZUp1cmlzZGljdGlvbjoge30sCiAgICAgIGp1cmlzZGljdGlvbkhpZXJhcmNoeTogW10sCiAgICAgIG5hbWU6ICcnLAogICAgICBhbHRfbmFtZTogJycsCiAgICAgIGNvZGU6ICcnLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGZhY2lsaXR5VHlwZTogJycsCiAgICAgIHR5cGVzOiBbewogICAgICAgIHRleHQ6ICdDbGluaWMnLAogICAgICAgIHZhbHVlOiAnQ0xOQycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdEaXNwZW5zYXJ5JywKICAgICAgICB2YWx1ZTogJ0RTUE4nCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSGVhbHRoIENlbnRlcicsCiAgICAgICAgdmFsdWU6ICdIQ05UJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0hlYWx0aCBQb3N0JywKICAgICAgICB2YWx1ZTogJ0hQU1QnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSG9zcGl0YWwnLAogICAgICAgIHZhbHVlOiAnSE9TUCcKICAgICAgfV0sCiAgICAgIG93bmVyc2hpcHM6IFt7CiAgICAgICAgdGV4dDogJ0NvbmNlc2lvbicsCiAgICAgICAgdmFsdWU6ICdDTkNTJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1B1YmxpYycsCiAgICAgICAgdmFsdWU6ICdQQkxDJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1ByaXZhdGUnLAogICAgICAgIHZhbHVlOiAnUFJWVCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQcml2YXRlIEZhaXRoIEJhc2VkJywKICAgICAgICB2YWx1ZTogJ1BGQk8nCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnUHJpdmF0ZSBOb3QgUHJvZml0JywKICAgICAgICB2YWx1ZTogJ1BOUFInCiAgICAgIH1dLAogICAgICBmYWNpbGl0eU93bmVyc2hpcDogJycsCiAgICAgIHN0YXR1czogW3sKICAgICAgICB0ZXh0OiAnRnVuY3Rpb25hbCcsCiAgICAgICAgdmFsdWU6ICdhY3RpdmUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnTm90IEZ1bmN0aW9uYWwnLAogICAgICAgIHZhbHVlOiAnaW5hY3RpdmUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnU3VzcGVuZGVkJywKICAgICAgICB2YWx1ZTogJ3N1c3BlbmRlZCcKICAgICAgfV0sCiAgICAgIGZhY2lsaXR5U3RhdHVzOiAnJywKICAgICAgbGF0OiAnJywKICAgICAgbG9uZzogJycsCiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGZheDogJycsCiAgICAgICAgd2Vic2l0ZTogJycKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VHJlZSAoKSB7CiAgICAgIHRoaXMubG9hZGluZ1RyZWUgPSB0cnVlCiAgICAgIHRoaXMuanVyaXNkaWN0aW9uSGllcmFyY2h5ID0gW10KICAgICAgYXhpb3MuZ2V0KCcvRlIvZ2V0VHJlZScpLnRoZW4oKGhpZXJhcmNoeSkgPT4gewogICAgICAgIHRoaXMubG9hZGluZ1RyZWUgPSBmYWxzZQogICAgICAgIGlmIChoaWVyYXJjaHkuZGF0YSkgewogICAgICAgICAgdGhpcy5qdXJpc2RpY3Rpb25IaWVyYXJjaHkgPSBoaWVyYXJjaHkuZGF0YQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzZWxlY3RlZEp1cmlzZGljdGlvbiAobm9kZSkgewogICAgICB0aGlzLmFjdGl2ZUp1cmlzZGljdGlvbiA9IG5vZGUKICAgIH0sCiAgICBhZGRMb2NhdGlvbiAoKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIHRoaXMubmFtZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdhbHRfbmFtZScsIHRoaXMuYWx0X25hbWUpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29kZScsIHRoaXMuY29kZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdhY3Rpb24nLCB0aGlzLmFjdGlvbikKICAgICAgZm9ybURhdGEuYXBwZW5kKCdyZXF1ZXN0VHlwZScsIHRoaXMucmVxdWVzdFR5cGUpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcm5hbWUnLCB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJuYW1lKQogICAgICBpZiAodGhpcy5mYWNpbGl0eVR5cGUpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLCB0aGlzLmZhY2lsaXR5VHlwZSkKICAgICAgfQogICAgICBpZiAodGhpcy5mYWNpbGl0eVN0YXR1cykgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc3RhdHVzJywgdGhpcy5mYWNpbGl0eVN0YXR1cykKICAgICAgfQogICAgICBpZiAodGhpcy5mYWNpbGl0eU93bmVyc2hpcCkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnb3duZXJzaGlwJywgdGhpcy5mYWNpbGl0eU93bmVyc2hpcCkKICAgICAgfQogICAgICBpZiAodGhpcy5sYXQpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2xhdCcsIHRoaXMubGF0KQogICAgICB9CiAgICAgIGlmICh0aGlzLmxvbmcpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2xvbmcnLCB0aGlzLmxvbmcpCiAgICAgIH0KICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb250YWN0JywgSlNPTi5zdHJpbmdpZnkodGhpcy5jb250YWN0KSkKICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Rlc2NyaXB0aW9uJywgdGhpcy5kZXNjcmlwdGlvbikKICAgICAgfQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3BhcmVudCcsIHRoaXMuYWN0aXZlSnVyaXNkaWN0aW9uLmlkKQogICAgICBheGlvcy5wb3N0KCcvRlIvYWRkQnVpbGRpbmcnLCBmb3JtRGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LnNob3cgPSB0cnVlCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQud2lkdGggPSAnNjAwcHgnCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQubXNnID0gJ0ZhY2lsaXR5IGFkZGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQudHlwZSA9ICdzdWNjZXNzJwogICAgICAgIC8vIGluY3JlbWVudCBjb21wb25lbnQga2V5IHRvIGZvcmNlIGNvbXBvbmVudCByZWxvYWQKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlUm91dGVyVmlld0tleSArPSAxCiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hbGVydC5zaG93ID0gdHJ1ZQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LndpZHRoID0gJzYwMHB4JwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0Lm1zZyA9ICdGYWlsZWQgdG8gYWRkIEZhY2lsaXR5IScKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hbGVydC50eXBlID0gJ2Vycm9yJwogICAgICAgIC8vIGluY3JlbWVudCBjb21wb25lbnQga2V5IHRvIGZvcmNlIGNvbXBvbmVudCByZWxvYWQKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlUm91dGVyVmlld0tleSArPSAxCiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWVFcnJvcnMgKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXQogICAgICBpZiAoIXRoaXMuJHYubmFtZS4kZGlydHkpIHJldHVybiBlcnJvcnMKICAgICAgIXRoaXMuJHYubmFtZS5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnTmFtZSBpcyByZXF1aXJlZCcpCiAgICAgIHJldHVybiBlcnJvcnMKICAgIH0KICB9LAogIGNyZWF0ZWQgKCkgewogICAgdGhpcy5nZXRUcmVlKCkKICB9LAogIGNvbXBvbmVudHM6IHsKICAgICdsaXF1b3ItdHJlZSc6IExpcXVvclRyZWUKICB9Cn0K"},{"version":3,"sources":["CreateFacility.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateFacility.vue","sourceRoot":"src/components/FacilityRegistry","sourcesContent":["<template>\n  <v-container>\n    <template>\n      <v-card>\n        <v-card-title class=\"indigo white--text headline\">\n          <template v-if=\"action === 'request'\">\n            Fill Details Below About A New Facility And Submit For Approval\n          </template>\n          <template v-if=\"action === 'add'\">\n            Fill Details Below To Add A New Facility\n          </template>\n        </v-card-title>\n\n        <v-layout\n          justify-space-between\n          pa-4\n        >\n          <v-scroll-y-transition>\n            <v-flex xs5>\n              <template v-if=\"loadingTree\">\n                <v-progress-linear :indeterminate=\"true\"></v-progress-linear>\n              </template>\n              <v-text-field\n                v-if=\"jurisdictionHierarchy.length > 0\"\n                v-model=\"searchJurisdiction\"\n                append-icon=\"mdi-magnify\"\n                label=\"Search Jurisdiction\"\n                single-line\n                hide-details\n              ></v-text-field>\n              <liquor-tree\n                @node:selected=\"selectedJurisdiction\"\n                v-if=\"jurisdictionHierarchy.length > 0\"\n                :data=\"jurisdictionHierarchy\"\n                :filter=\"searchJurisdiction\"\n                ref=\"jurisdictionHierarchy\"\n              />\n            </v-flex>\n          </v-scroll-y-transition>\n\n          <v-divider vertical></v-divider>\n\n          <v-flex\n            d-flex\n            text-center\n          >\n            <v-scroll-y-transition mode=\"out-in\">\n              <v-card\n                v-if='activeJurisdiction.id'\n                class=\"pt-4 mx-auto\"\n                flat\n              >\n                <v-card-title primary-title>\n                  <b>\n                    <template v-if=\"action === 'request'\">\n                      Requesting New Facility Under {{activeJurisdiction.text}}\n                    </template>\n                    <template v-else-if=\"action === 'add'\">\n                      Adding New Facility Under {{activeJurisdiction.text}}\n                    </template>\n                  </b>\n                </v-card-title>\n                <v-card-text>\n                  <v-card>\n                    <v-form\n                      ref=\"form\"\n                      class=\"pa-3 pt-4\"\n                    >\n                      <v-layout\n                        column\n                        wrap\n                      >\n                        <v-flex xs12>\n                          <v-layout\n                            row\n                            wrap\n                          >\n                            <v-flex xs5>\n                              <v-text-field\n                                required\n                                @blur=\"$v.name.$touch()\"\n                                @change=\"$v.name.$touch()\"\n                                :error-messages=\"nameErrors\"\n                                v-model=\"name\"\n                                filled\n                                color=\"deep-purple\"\n                                label=\"Name\"\n                              />\n                            </v-flex>\n                            <v-spacer></v-spacer>\n                            <v-flex xs5>\n                              <v-text-field\n                                v-model=\"alt_name\"\n                                filled\n                                color=\"deep-purple\"\n                                label=\"Alternative Name\"\n                              />\n                            </v-flex>\n                          </v-layout>\n                        </v-flex>\n                        <v-flex xs12>\n                          <v-layout\n                            row\n                            wrap\n                          >\n                            <v-flex xs5>\n                              <v-text-field\n                                required\n                                v-model=\"code\"\n                                filled\n                                color=\"deep-purple\"\n                                label=\"Code\"\n                              />\n                            </v-flex>\n                            <v-spacer></v-spacer>\n                            <v-flex xs5>\n                              <v-select\n                                clearable\n                                :items=\"types\"\n                                v-model=\"facilityType\"\n                                label=\"Facility Type\"\n                              ></v-select>\n                            </v-flex>\n                          </v-layout>\n                        </v-flex>\n                        <v-flex xs12>\n                          <v-layout\n                            row\n                            wrap\n                          >\n                            <v-flex xs5>\n                              <v-select\n                                clearable\n                                :items=\"status\"\n                                v-model=\"facilityStatus\"\n                                label=\"Status\"\n                              ></v-select>\n                            </v-flex>\n                            <v-spacer></v-spacer>\n                            <v-flex xs5>\n                              <v-select\n                                clearable\n                                :items=\"ownerships\"\n                                v-model=\"facilityOwnership\"\n                                label=\"Facility Ownership\"\n                              ></v-select>\n                            </v-flex>\n                          </v-layout>\n                        </v-flex>\n                        <v-flex xs12>\n                          <v-layout\n                            row\n                            wrap\n                          >\n                            <v-flex xs5>\n                              <v-text-field\n                                v-model=\"lat\"\n                                filled\n                                color=\"deep-purple\"\n                                label=\"Latitude\"\n                              />\n                            </v-flex>\n                            <v-spacer></v-spacer>\n                            <v-flex xs5>\n                              <v-text-field\n                                required\n                                v-model=\"long\"\n                                filled\n                                color=\"deep-purple\"\n                                label=\"Longitude\"\n                              />\n                            </v-flex>\n                          </v-layout>\n                        </v-flex>\n                        <v-flex xs12>\n                          <v-card>\n                            <v-card-title primary-title>\n                              Contacts Informations\n                            </v-card-title>\n                            <v-card-text>\n                              <v-layout\n                                column\n                                wrap\n                              >\n                                <v-flex>\n                                  <v-layout\n                                    row\n                                    wrap\n                                  >\n                                    <v-flex xs5>\n                                      <v-text-field\n                                        v-model=\"contact.email\"\n                                        filled\n                                        color=\"deep-purple\"\n                                        label=\"Email\"\n                                      />\n                                    </v-flex>\n                                    <v-spacer></v-spacer>\n                                    <v-flex xs5>\n                                      <v-text-field\n                                        v-model=\"contact.phone\"\n                                        filled\n                                        color=\"deep-purple\"\n                                        label=\"Phone\"\n                                      />\n                                    </v-flex>\n                                  </v-layout>\n                                </v-flex>\n                                <v-flex>\n                                  <v-layout\n                                    row\n                                    wrap\n                                  >\n                                    <v-flex xs5>\n                                      <v-text-field\n                                        v-model=\"contact.fax\"\n                                        filled\n                                        color=\"deep-purple\"\n                                        label=\"Fax\"\n                                      />\n                                    </v-flex>\n                                    <v-spacer></v-spacer>\n                                    <v-flex xs5>\n                                      <v-text-field\n                                        v-model=\"contact.website\"\n                                        filled\n                                        color=\"deep-purple\"\n                                        label=\"Website\"\n                                      />\n                                    </v-flex>\n                                  </v-layout>\n                                </v-flex>\n                              </v-layout>\n                            </v-card-text>\n                          </v-card>\n                        </v-flex>\n                        <v-flex xs12>\n                          <v-textarea\n                            outline\n                            label=\"Facility Description\"\n                            v-model=\"description\"\n                          >\n                          </v-textarea>\n\n                        </v-flex>\n                      </v-layout>\n                    </v-form>\n                    <v-card-actions>\n                      <v-btn\n                        text\n                        @click=\"$store.state.baseRouterViewKey++\"\n                      >\n                        <v-icon>mdi-close</v-icon>Clear\n                      </v-btn>\n                      <v-spacer />\n                      <v-btn\n                        @click=\"addLocation()\"\n                        :disabled=\"$v.$invalid\"\n                        class=\"white--text\"\n                        color=\"deep-purple accent-4\"\n                        depressed\n                      >\n                        <v-icon left>mdi-content-save</v-icon>\n                        <template v-if=\"action === 'request'\">\n                          Send Request\n                        </template>\n                        <template v-else-if=\"action === 'add'\">\n                          Add\n                        </template>\n                      </v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-card-text>\n              </v-card>\n              <template v-else>\n                <template v-if=\"action === 'request'\">\n                  <b>Select a location on the left to request a new facility</b>\n                </template>\n                <template v-else-if=\"action === 'add'\">\n                  <b>Select a location on the left to add a facility</b>\n                </template>\n              </template>\n            </v-scroll-y-transition>\n          </v-flex>\n        </v-layout>\n      </v-card>\n    </template>\n  </v-container>\n</template>\n<script>\nimport axios from 'axios'\nimport LiquorTree from 'liquor-tree'\nimport { required } from 'vuelidate/lib/validators'\nexport default {\n  validations: {\n    name: { required }\n  },\n  props: ['action', 'requestType'],\n  data () {\n    return {\n      loadingTree: false,\n      searchJurisdiction: '',\n      activeJurisdiction: {},\n      jurisdictionHierarchy: [],\n      name: '',\n      alt_name: '',\n      code: '',\n      description: '',\n      facilityType: '',\n      types: [{\n        text: 'Clinic',\n        value: 'CLNC'\n      }, {\n        text: 'Dispensary',\n        value: 'DSPN'\n      }, {\n        text: 'Health Center',\n        value: 'HCNT'\n      }, {\n        text: 'Health Post',\n        value: 'HPST'\n      }, {\n        text: 'Hospital',\n        value: 'HOSP'\n      }],\n      ownerships: [{\n        text: 'Concesion',\n        value: 'CNCS'\n      }, {\n        text: 'Public',\n        value: 'PBLC'\n      }, {\n        text: 'Private',\n        value: 'PRVT'\n      }, {\n        text: 'Private Faith Based',\n        value: 'PFBO'\n      }, {\n        text: 'Private Not Profit',\n        value: 'PNPR'\n      }],\n      facilityOwnership: '',\n      status: [{\n        text: 'Functional',\n        value: 'active'\n      }, {\n        text: 'Not Functional',\n        value: 'inactive'\n      }, {\n        text: 'Suspended',\n        value: 'suspended'\n      }],\n      facilityStatus: '',\n      lat: '',\n      long: '',\n      contact: {\n        email: '',\n        phone: '',\n        fax: '',\n        website: ''\n      }\n    }\n  },\n  methods: {\n    getTree () {\n      this.loadingTree = true\n      this.jurisdictionHierarchy = []\n      axios.get('/FR/getTree').then((hierarchy) => {\n        this.loadingTree = false\n        if (hierarchy.data) {\n          this.jurisdictionHierarchy = hierarchy.data\n        }\n      })\n    },\n    selectedJurisdiction (node) {\n      this.activeJurisdiction = node\n    },\n    addLocation () {\n      let formData = new FormData()\n      formData.append('name', this.name)\n      formData.append('alt_name', this.alt_name)\n      formData.append('code', this.code)\n      formData.append('action', this.action)\n      formData.append('requestType', this.requestType)\n      formData.append('username', this.$store.state.auth.username)\n      if (this.facilityType) {\n        formData.append('type', this.facilityType)\n      }\n      if (this.facilityStatus) {\n        formData.append('status', this.facilityStatus)\n      }\n      if (this.facilityOwnership) {\n        formData.append('ownership', this.facilityOwnership)\n      }\n      if (this.lat) {\n        formData.append('lat', this.lat)\n      }\n      if (this.long) {\n        formData.append('long', this.long)\n      }\n      formData.append('contact', JSON.stringify(this.contact))\n      if (this.description) {\n        formData.append('description', this.description)\n      }\n      formData.append('parent', this.activeJurisdiction.id)\n      axios.post('/FR/addBuilding', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '600px'\n        this.$store.state.alert.msg = 'Facility added successfully!'\n        this.$store.state.alert.type = 'success'\n        // increment component key to force component reload\n        this.$store.state.baseRouterViewKey += 1\n      }).catch((err) => {\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '600px'\n        this.$store.state.alert.msg = 'Failed to add Facility!'\n        this.$store.state.alert.type = 'error'\n        // increment component key to force component reload\n        this.$store.state.baseRouterViewKey += 1\n        console.log(err)\n      })\n    }\n  },\n  computed: {\n    nameErrors () {\n      const errors = []\n      if (!this.$v.name.$dirty) return errors\n      !this.$v.name.required && errors.push('Name is required')\n      return errors\n    }\n  },\n  created () {\n    this.getTree()\n  },\n  components: {\n    'liquor-tree': LiquorTree\n  }\n}\n</script>"]}]}