{"remainingRequest":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr2/src/components/DataSources/AddDataSources.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr2/src/components/DataSources/AddDataSources.vue","mtime":1619085784842},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGYWNpbGl0eVJlY29uVXBsb2FkIGZyb20gJy4vRmFjaWxpdHlSZWNvblVwbG9hZCcKaW1wb3J0IEZhY2lsaXR5UmVjb25SZW1vdGVTb3VyY2VzIGZyb20gJy4vRmFjaWxpdHlSZWNvblJlbW90ZVNvdXJjZXMnCmltcG9ydCBEaWFsb2dzIGZyb20gJy4vZGlhbG9ncycKaW1wb3J0IHsgZ2VuZXJhbE1peGluIH0gZnJvbSAnLi4vLi4vbWl4aW5zL2dlbmVyYWxNaXhpbicKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICcuLi8uLi9tYWluJwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbZ2VuZXJhbE1peGluXSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlbHBEaWFsb2c6IGZhbHNlLAogICAgICBkYXRhc2V0TGltaXRXYXJuOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRDb21wb25lbnQ6ICcnLAogICAgICBkYXRhU291cmNlczogWwogICAgICAgIHsgdGV4dDogJ1VwbG9hZCBDU1YnLCB2YWx1ZTogJ3VwbG9hZCcgfSwKICAgICAgICB7IHRleHQ6ICdSZW1vdGUgU291cmNlJywgdmFsdWU6ICdyZW1vdGUnIH0KICAgICAgXSwKICAgICAgZGF0YVNvdXJjZTogJycsCiAgICAgIGFkZERhdGFTb3VyY2U6IHRydWUsCiAgICAgIGFsZXJ0U3VjY2VzczogZmFsc2UsCiAgICAgIGFsZXJ0RXJyb3I6IGZhbHNlLAogICAgICBhbGVydE1zZzogJycKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGxpbWl0V2FyblN0YXRlQ2hhbmdlIChuZXdWYWwpIHsKICAgICAgdGhpcy5kYXRhc2V0TGltaXRXYXJuID0gbmV3VmFsCiAgICB9LAogICAgc291cmNlU2VsZWN0ZWQgKHNlbGVjdGlvbikgewogICAgICB0aGlzLmFkZERhdGFTb3VyY2UgPSB0cnVlCiAgICAgIGlmIChzZWxlY3Rpb24gPT09ICd1cGxvYWQnKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZENvbXBvbmVudCA9ICdGYWNpbGl0eVJlY29uVXBsb2FkJwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbiA9PT0gJ3JlbW90ZScpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkQ29tcG9uZW50ID0gJ0ZhY2lsaXR5UmVjb25SZW1vdGVTb3VyY2VzJwogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY2FuVXNlVXBsb2FkV2F5ICgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnLmRhdGFzZXRzQWRkaXRpb25XYXlzLmluZGV4T2YoJ0NTViBVcGxvYWQnKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICB9LAogICAgY2FuVXNlUmVtb3RlV2F5ICgpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy5nZW5lcmFsQ29uZmlnLmRhdGFzZXRzQWRkaXRpb25XYXlzLmluZGV4T2YoJ1JlbW90ZSBTZXJ2ZXJzIFN5bmMnKSA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnRmFjaWxpdHlSZWNvblVwbG9hZCc6IEZhY2lsaXR5UmVjb25VcGxvYWQsCiAgICAnRmFjaWxpdHlSZWNvblJlbW90ZVNvdXJjZXMnOiBGYWNpbGl0eVJlY29uUmVtb3RlU291cmNlcywKICAgICdhcHBEaWFsb2dzJzogRGlhbG9ncwogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICBldmVudEJ1cy4kb24oJ2RhdGFTb3VyY2VTYXZlZCcsICgpID0+IHsKICAgICAgdGhpcy5hZGREYXRhU291cmNlID0gZmFsc2UKICAgICAgdGhpcy5kYXRhU291cmNlID0gJycKICAgIH0pCiAgICBldmVudEJ1cy4kb24oJ2RhdGFTb3VyY2VBZGRlZFN1Y2Nlc3NmdWxseScsICgpID0+IHsKICAgICAgdGhpcy5hbGVydFN1Y2Nlc3MgPSB0cnVlCiAgICAgIHRoaXMuYWxlcnRNc2cgPSAnRGF0YSBTb3VyY2UgQWRkZWQgU3VjY2Vzc2Z1bGx5JwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmFsZXJ0U3VjY2VzcyA9IGZhbHNlCiAgICAgIH0sIDMwMDApCiAgICB9KQogICAgZXZlbnRCdXMuJG9uKCdyZW1vdGVTZXJ2ZXJGYWlsZWRBZGQnLCAoKSA9PiB7CiAgICAgIHRoaXMuYWxlcnRFcnJvciA9IHRydWUKICAgICAgdGhpcy5hbGVydE1zZyA9ICdEYXRhIFNvdXJjZSBGYWlsZWQgVG8gQmUgQWRkZWQnCiAgICB9KQogIH0KfQo="},{"version":3,"sources":["AddDataSources.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddDataSources.vue","sourceRoot":"src/components/DataSources","sourcesContent":["<template>\n  <v-container fluid>\n    <v-dialog\n      v-model=\"helpDialog\"\n      scrollable\n      persistent\n      :overlay=\"false\"\n      max-width=\"700px\"\n      transition=\"dialog-transition\"\n    >\n      <v-card>\n        <v-toolbar\n          color=\"primary\"\n          dark\n        >\n          <v-toolbar-title>\n            <v-icon>mdi-information</v-icon> About this page\n          </v-toolbar-title>\n          <v-spacer></v-spacer>\n          <v-btn\n            icon\n            dark\n            @click.native=\"helpDialog = false\"\n          >\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <v-card-text>\n          This page let you load data from various sources into the app for reconciliation\n          <v-list>1. Select to add remote source if you have a DHIS2 or FHIR server that you want to use its data on this app</v-list>\n          <v-list>2. Select Upload CSV if you have a CSV file and want to upload its data on the app</v-list>\n          <v-list>3. The system requires CSV data to have atleast 2 levels above facility</v-list>\n          <v-list>4. Level 1 is the highest level on the hierarchy i.e Country</v-list>\n          <v-list>\n            5. Base URL under remote sources section refer to the URL i.e http://localhost:3447/fhir and not http://localhost:3447/fhir/Location.\n            Same applies to DHIS2 base URL\n          </v-list>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n    <v-alert\n      style=\"width: 500px\"\n      v-model=\"alertSuccess\"\n      type=\"success\"\n      dismissible\n      transition=\"scale-transition\"\n    >\n      {{alertMsg}}\n    </v-alert>\n    <v-alert\n      style=\"width: 500px\"\n      v-model=\"alertError\"\n      type=\"error\"\n      dismissible\n      transition=\"scale-transition\"\n    >\n      {{alertMsg}}\n    </v-alert>\n    <v-layout\n      row\n      wrap\n    >\n      <v-spacer></v-spacer>\n      <v-flex xs6>\n        <v-card>\n          <v-card-title primary-title>\n            <v-toolbar\n              color=\"white\"\n              style=\"font-weight: bold; font-size: 18px;\"\n            >\n              Choose way to add data source\n            </v-toolbar>\n            <v-spacer></v-spacer>\n          </v-card-title>\n          <v-card-text>\n            <v-radio-group\n              v-model=\"dataSource\"\n              row\n              @change=\"sourceSelected\"\n            >\n              <v-radio\n                v-if='canUseUploadWay'\n                :disabled=\"!canAddDataset\"\n                color=\"primary\"\n                label=\"Upload CSV\"\n                value=\"upload\"\n              ></v-radio>\n              <v-radio\n                v-if='canUseRemoteWay'\n                :disabled=\"!canAddDataset\"\n                color=\"primary\"\n                label=\"Remote Source\"\n                value=\"remote\"\n              ></v-radio>\n            </v-radio-group>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n      <v-spacer></v-spacer>\n      <v-flex\n        xs1\n        text-xs-right\n      >\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on }\">\n            <v-btn\n              class=\"mx-1\"\n              fab\n              dark\n              x-small\n              color=\"primary\"\n              @click=\"helpDialog = true\"\n              v-on=\"on\"\n            >\n              <v-icon>mdi-help</v-icon>\n            </v-btn>\n          </template>\n          <span>Help</span>\n        </v-tooltip>\n      </v-flex>\n      <v-flex xs12>\n        <component\n          :is=\"selectedComponent\"\n          v-if='addDataSource'\n        />\n      </v-flex>\n    </v-layout>\n    <appDialogs\n      :datasetLimitWarn=\"datasetLimitWarn\"\n      @limitWarnStateChange='limitWarnStateChange'\n    >\n    </appDialogs>\n  </v-container>\n</template>\n\n<script>\nimport FacilityReconUpload from './FacilityReconUpload'\nimport FacilityReconRemoteSources from './FacilityReconRemoteSources'\nimport Dialogs from './dialogs'\nimport { generalMixin } from '../../mixins/generalMixin'\nimport { eventBus } from '../../main'\nexport default {\n  mixins: [generalMixin],\n  data () {\n    return {\n      helpDialog: false,\n      datasetLimitWarn: false,\n      selectedComponent: '',\n      dataSources: [\n        { text: 'Upload CSV', value: 'upload' },\n        { text: 'Remote Source', value: 'remote' }\n      ],\n      dataSource: '',\n      addDataSource: true,\n      alertSuccess: false,\n      alertError: false,\n      alertMsg: ''\n    }\n  },\n  methods: {\n    limitWarnStateChange (newVal) {\n      this.datasetLimitWarn = newVal\n    },\n    sourceSelected (selection) {\n      this.addDataSource = true\n      if (selection === 'upload') {\n        this.selectedComponent = 'FacilityReconUpload'\n      } else if (selection === 'remote') {\n        this.selectedComponent = 'FacilityReconRemoteSources'\n      }\n    }\n  },\n  computed: {\n    canUseUploadWay () {\n      if (this.$store.state.config.generalConfig.datasetsAdditionWays.indexOf('CSV Upload') === -1) {\n        return false\n      } else {\n        return true\n      }\n    },\n    canUseRemoteWay () {\n      if (this.$store.state.config.generalConfig.datasetsAdditionWays.indexOf('Remote Servers Sync') === -1) {\n        return false\n      } else {\n        return true\n      }\n    }\n  },\n  components: {\n    'FacilityReconUpload': FacilityReconUpload,\n    'FacilityReconRemoteSources': FacilityReconRemoteSources,\n    'appDialogs': Dialogs\n  },\n  created () {\n    eventBus.$on('dataSourceSaved', () => {\n      this.addDataSource = false\n      this.dataSource = ''\n    })\n    eventBus.$on('dataSourceAddedSuccessfully', () => {\n      this.alertSuccess = true\n      this.alertMsg = 'Data Source Added Successfully'\n      setTimeout(() => {\n        this.alertSuccess = false\n      }, 3000)\n    })\n    eventBus.$on('remoteServerFailedAdd', () => {\n      this.alertError = true\n      this.alertMsg = 'Data Source Failed To Be Added'\n    })\n  }\n}\n</script>\n"]}]}