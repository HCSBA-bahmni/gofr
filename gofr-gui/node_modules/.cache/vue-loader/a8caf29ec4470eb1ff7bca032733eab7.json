{"remainingRequest":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr2/src/components/FacilityRegistry/FacilitiesReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr2/src/components/FacilityRegistry/FacilitiesReport.vue","mtime":1619240493831},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IExpcXVvclRyZWUgZnJvbSAnbGlxdW9yLXRyZWUnCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwppbXBvcnQgeyBnZW5lcmFsTWl4aW4gfSBmcm9tICcuLi8uLi9taXhpbnMvZ2VuZXJhbE1peGluJwppbXBvcnQgewogIHRhc2tzVmVyaWZpY2F0aW9uCn0gZnJvbSAnQC9tb2R1bGVzL3Rhc2tzVmVyaWZpY2F0aW9uJwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbZ2VuZXJhbE1peGluXSwKICB2YWxpZGF0aW9uczogewogICAgbmFtZTogeyByZXF1aXJlZCB9CiAgfSwKICBwcm9wczogWydhY3Rpb24nLCAncmVxdWVzdFR5cGUnLCAncmVxdWVzdENhdGVnb3J5J10sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBmYWNpbGl0eUlkOiAnJywKICAgICAgZWRpdERpYWxvZzogZmFsc2UsCiAgICAgIGxvYWRpbmdUcmVlOiBmYWxzZSwKICAgICAgbG9hZGluZ0J1aWxkaW5nczogZmFsc2UsCiAgICAgIGJ1aWxkaW5nc0hlYWRlcnM6IFsKICAgICAgICB7IHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgIHsgdGV4dDogJ05hbWUnLCB2YWx1ZTogJ25hbWUnIH0sCiAgICAgICAgeyB0ZXh0OiAnQ29kZScsIHZhbHVlOiAnY29kZScgfSwKICAgICAgICB7IHRleHQ6ICdQYXJlbnQnLCB2YWx1ZTogJ3BhcmVudCcgfSwKICAgICAgICB7IHRleHQ6ICdGYWNpbGl0eSBUeXBlJywgdmFsdWU6ICd0eXBlJyB9LAogICAgICAgIHsgdGV4dDogJ0ZhY2lsaXR5IE93bmVyc2hpcCcsIHZhbHVlOiAnb3duZXJzaGlwJyB9LAogICAgICAgIHsgdGV4dDogJ1N0YXR1cycsIHZhbHVlOiAnc3RhdHVzJyB9LAogICAgICAgIHsgdGV4dDogJ0xhdGl0dWRlJywgdmFsdWU6ICdsYXRpdHVkZScgfSwKICAgICAgICB7IHRleHQ6ICdMb25naXR1ZGUnLCB2YWx1ZTogJ2xvbmdpdHVkZScgfQogICAgICBdLAogICAgICBzZWFyY2hKdXJpc2RpY3Rpb246ICcnLAogICAgICBzZWFyY2hCdWlsZGluZ3M6ICcnLAogICAgICBhY3RpdmVKdXJpc2RpY3Rpb246IHt9LAogICAgICBqdXJpc2RpY3Rpb25IaWVyYXJjaHk6IFtdLAogICAgICBidWlsZGluZ3M6IFtdLAogICAgICBuYW1lOiAnJywKICAgICAgYWx0X25hbWU6ICcnLAogICAgICBjb2RlOiAnJywKICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICBmYWNpbGl0eVR5cGU6ICcnLAogICAgICB0eXBlczogW3sKICAgICAgICB0ZXh0OiAnQ2xpbmljJywKICAgICAgICB2YWx1ZTogJ0NMTkMnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnRGlzcGVuc2FyeScsCiAgICAgICAgdmFsdWU6ICdEU1BOJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0hlYWx0aCBDZW50ZXInLAogICAgICAgIHZhbHVlOiAnSENOVCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdIZWFsdGggUG9zdCcsCiAgICAgICAgdmFsdWU6ICdIUFNUJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0hvc3BpdGFsJywKICAgICAgICB2YWx1ZTogJ0hPU1AnCiAgICAgIH1dLAogICAgICBvd25lcnNoaXBzOiBbewogICAgICAgIHRleHQ6ICdDb25jZXNpb24nLAogICAgICAgIHZhbHVlOiAnQ05DUycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQdWJsaWMnLAogICAgICAgIHZhbHVlOiAnUEJMQycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQcml2YXRlJywKICAgICAgICB2YWx1ZTogJ1BSVlQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnUHJpdmF0ZSBGYWl0aCBCYXNlZCcsCiAgICAgICAgdmFsdWU6ICdQRkJPJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1ByaXZhdGUgTm90IFByb2ZpdCcsCiAgICAgICAgdmFsdWU6ICdQTlBSJwogICAgICB9XSwKICAgICAgZmFjaWxpdHlPd25lcnNoaXA6ICcnLAogICAgICBzdGF0dXM6IFt7CiAgICAgICAgdGV4dDogJ0Z1bmN0aW9uYWwnLAogICAgICAgIHZhbHVlOiAnYWN0aXZlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ05vdCBGdW5jdGlvbmFsJywKICAgICAgICB2YWx1ZTogJ2luYWN0aXZlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1N1c3BlbmRlZCcsCiAgICAgICAgdmFsdWU6ICdzdXNwZW5kZWQnCiAgICAgIH1dLAogICAgICBmYWNpbGl0eVN0YXR1czogJycsCiAgICAgIGZhY2lsaXR5UGFyZW50OiB7fSwKICAgICAgbGF0OiAnJywKICAgICAgbG9uZzogJycsCiAgICAgIGNvbnRhY3Q6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGZheDogJycsCiAgICAgICAgd2Vic2l0ZTogJycKICAgICAgfSwKICAgICAgcmVxdWVzdFN0YXR1czogJycsCiAgICAgIGNvbmZpcm06IGZhbHNlLAogICAgICBjb25maXJtVGl0bGU6ICcnLAogICAgICB0YXNrc1ZlcmlmaWNhdGlvbjogdGFza3NWZXJpZmljYXRpb24KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVJlcXVlc3RTdGF0dXMgKGl0ZW0sIHN0YXR1cywgaXNDb25maXJtKSB7CiAgICAgIGlmIChpc0NvbmZpcm0pIHsKICAgICAgICB0aGlzLnJlcXVlc3RTdGF0dXMgPSBzdGF0dXMKICAgICAgICBsZXQgc3RhdHVzRGlzcGxheQogICAgICAgIGlmIChzdGF0dXMgPT09ICdhcHByb3ZlZCcpIHsKICAgICAgICAgIHN0YXR1c0Rpc3BsYXkgPSAnYXBwcm92ZWQnCiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdyZWplY3RlZCcpIHsKICAgICAgICAgIHN0YXR1c0Rpc3BsYXkgPSAncmVqZWN0ZWQnCiAgICAgICAgfQogICAgICAgIHRoaXMuY29uZmlybSA9IHRydWUKICAgICAgICB0aGlzLmNvbmZpcm1UaXRsZSA9ICdBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBtYXJrIGZhY2lsaXR5ICcgKyBpdGVtLm5hbWUgKyAnIGFzICcgKyBzdGF0dXNEaXNwbGF5CiAgICAgICAgdGhpcy5mYWNpbGl0eUlkID0gaXRlbS5pZAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnByb2dyZXNzVGl0bGUgPSAnU2F2aW5nIG5ldyBzdGF0dXMnCiAgICAgICAgdGhpcy5jb25maXJtID0gZmFsc2UKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5keW5hbWljUHJvZ3Jlc3MgPSB0cnVlCiAgICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2lkJywgdGhpcy5mYWNpbGl0eUlkKQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnc3RhdHVzJywgdGhpcy5yZXF1ZXN0U3RhdHVzKQogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncmVxdWVzdFR5cGUnLCB0aGlzLnJlcXVlc3RUeXBlKQogICAgICAgIGF4aW9zLnBvc3QoJy9GUi9jaGFuZ2VCdWlsZGluZ1JlcXVlc3RTdGF0dXMnLCBmb3JtRGF0YSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5keW5hbWljUHJvZ3Jlc3MgPSBmYWxzZQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JUaXRsZSA9ICdJbmZvJwogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JEZXNjcmlwdGlvbiA9ICdSZXF1ZXN0IHN0YXR1cyBjaGFuZ2VkIHN1Y2Nlc3NmdWxseScKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZ0Vycm9yID0gdHJ1ZQogICAgICAgICAgdGhpcy5nZXRCdWlsZGluZ3MoKQogICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yVGl0bGUgPSAnRXJyb3InCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvckRlc2NyaXB0aW9uID0gJ1RoaXMgcmVxdWVzdCB3YXMgbm90IHN1Y2Nlc3NmdWxseSBwcm9jZXNzZWQnCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaWFsb2dFcnJvciA9IHRydWUKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgY2FuQ2hhbmdlUmVxdWVzdFN0YXR1cyAoaXRlbSwgYWN0aW9uTmFtZSkgewogICAgICBpZiAodGhpcy5hY3Rpb24gIT09ICdyZXF1ZXN0JyB8fCAodGhpcy5hY3Rpb24gPT09ICdyZXF1ZXN0JyAmJiB0aGlzLnJlcXVlc3RDYXRlZ29yeSAhPT0gJ3JlcXVlc3RzTGlzdCcpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgaWYgKGFjdGlvbk5hbWUgPT09ICdhcHByb3ZlJykgewogICAgICAgIGlmIChpdGVtLnJlcXVlc3RTdGF0dXMgPT09ICdBcHByb3ZlZCcpIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChhY3Rpb25OYW1lID09PSAncmVqZWN0JykgewogICAgICAgIGlmIChpdGVtLnJlcXVlc3RTdGF0dXMgPT09ICdBcHByb3ZlZCcgfHwgaXRlbS5yZXF1ZXN0U3RhdHVzID09PSAnUmVqZWN0ZWQnKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCh0aGlzLnJlcXVlc3RUeXBlID09PSAndXBkYXRlJyAmJiB0aGlzLnRhc2tzVmVyaWZpY2F0aW9uLmNhbkFwcHJvdmUoJ0ZhY2lsaXRpZXNVcGRhdGVSZXF1ZXN0c1JlcG9ydCcpKSB8fAogICAgICAgICh0aGlzLnJlcXVlc3RUeXBlID09PSAnYWRkJyAmJiB0aGlzLnRhc2tzVmVyaWZpY2F0aW9uLmNhbkFwcHJvdmUoJ05ld0ZhY2lsaXRpZXNSZXF1ZXN0c1JlcG9ydCcpKSB8fAogICAgICAgICh0aGlzLnJlcXVlc3RUeXBlID09PSAndXBkYXRlJyAmJiB0aGlzLnRhc2tzVmVyaWZpY2F0aW9uLmNhblJlamVjdCgnRmFjaWxpdGllc1VwZGF0ZVJlcXVlc3RzUmVwb3J0JykpIHx8CiAgICAgICAgKHRoaXMucmVxdWVzdFR5cGUgPT09ICdhZGQnICYmIHRoaXMudGFza3NWZXJpZmljYXRpb24uY2FuUmVqZWN0KCdOZXdGYWNpbGl0aWVzUmVxdWVzdHNSZXBvcnQnKSkpIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9LAogICAgY2FuRWRpdEJ1aWxkaW5nIChpdGVtKSB7CiAgICAgIGlmIChpdGVtLnJlcXVlc3RTdGF0dXMgPT09ICdBcHByb3ZlZCcgJiYgdGhpcy5yZXF1ZXN0Q2F0ZWdvcnkgPT09ICdyZXF1ZXN0c0xpc3QnKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgaWYgKHRoaXMudGFza3NWZXJpZmljYXRpb24uY2FuRWRpdCgnRmFjaWxpdGllc1JlcG9ydCcpIHx8IHRoaXMudGFza3NWZXJpZmljYXRpb24uY2FuQWRkKCdSZXF1ZXN0VXBkYXRlQnVpbGRpbmdEZXRhaWxzJykpIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICAgIHJldHVybiBmYWxzZQogICAgfSwKICAgIGdldEJ1aWxkaW5ncyAoKSB7CiAgICAgIHRoaXMuZmFjaWxpdGllcyA9IFtdCiAgICAgIHRoaXMuYnVpbGRpbmdzID0gW10KICAgICAgdGhpcy5sb2FkaW5nQnVpbGRpbmdzID0gdHJ1ZQogICAgICBheGlvcy5nZXQoJy9GUi9nZXRCdWlsZGluZ3MnLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBqdXJpc2RpY3Rpb246IHRoaXMuYWN0aXZlSnVyaXNkaWN0aW9uLmlkLAogICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbiwKICAgICAgICAgIHJlcXVlc3RUeXBlOiB0aGlzLnJlcXVlc3RUeXBlLAogICAgICAgICAgcmVxdWVzdENhdGVnb3J5OiB0aGlzLnJlcXVlc3RDYXRlZ29yeQogICAgICAgIH0KICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmdCdWlsZGluZ3MgPSBmYWxzZQogICAgICAgIHRoaXMuYnVpbGRpbmdzID0gcmVzcG9uc2UuZGF0YQogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nQnVpbGRpbmdzID0gZmFsc2UKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogICAgc2VsZWN0ZWRKdXJpc2RpY3Rpb24gKG5vZGUpIHsKICAgICAgdGhpcy5hY3RpdmVKdXJpc2RpY3Rpb24gPSBub2RlCiAgICAgIHRoaXMuZ2V0QnVpbGRpbmdzKCkKICAgIH0sCiAgICBzZWxlY3RlZEVkaXRKdXJpc2RpY3Rpb24gKG5vZGUpIHsKICAgICAgdGhpcy5mYWNpbGl0eVBhcmVudCA9IG5vZGUKICAgIH0sCiAgICBlZGl0IChpdGVtKSB7CiAgICAgIHRoaXMuZmFjaWxpdHlJZCA9IGl0ZW0uaWQKICAgICAgdGhpcy5mYWNpbGl0eVR5cGUgPSBpdGVtLnR5cGUuY29kZQogICAgICB0aGlzLmZhY2lsaXR5U3RhdHVzID0gaXRlbS5zdGF0dXMuY29kZQogICAgICB0aGlzLmZhY2lsaXR5UGFyZW50LmlkID0gaXRlbS5wYXJlbnQuaWQKICAgICAgdGhpcy5mYWNpbGl0eVBhcmVudC50ZXh0ID0gaXRlbS5wYXJlbnQubmFtZQogICAgICB0aGlzLmZhY2lsaXR5T3duZXJzaGlwID0gaXRlbS5vd25lcnNoaXAuY29kZQogICAgICB0aGlzLm5hbWUgPSBpdGVtLm5hbWUKICAgICAgdGhpcy5hbHRfbmFtZSA9IGl0ZW0uYWx0X25hbWUKICAgICAgdGhpcy5jb2RlID0gaXRlbS5jb2RlCiAgICAgIHRoaXMubGF0ID0gaXRlbS5sYXQKICAgICAgdGhpcy5sb25nID0gaXRlbS5sb25nCiAgICAgIHRoaXMuY29udGFjdC5waG9uZSA9IGl0ZW0ucGhvbmUKICAgICAgdGhpcy5jb250YWN0LmVtYWlsID0gaXRlbS5lbWFpbAogICAgICB0aGlzLmNvbnRhY3Qud2Vic2l0ZSA9IGl0ZW0ud2Vic2l0ZQogICAgICB0aGlzLmNvbnRhY3QuZmF4ID0gaXRlbS5mYXgKICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGl0ZW0uZGVzY3JpcHRpb24KICAgICAgdGhpcy5lZGl0RGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIHNhdmVFZGl0ICgpIHsKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdpZCcsIHRoaXMuZmFjaWxpdHlJZCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCduYW1lJywgdGhpcy5uYW1lKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FsdF9uYW1lJywgdGhpcy5hbHRfbmFtZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb2RlJywgdGhpcy5jb2RlKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FjdGlvbicsIHRoaXMuYWN0aW9uKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3JlcXVlc3RUeXBlJywgdGhpcy5yZXF1ZXN0VHlwZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VybmFtZScsIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcm5hbWUpCiAgICAgIGlmICh0aGlzLmZhY2lsaXR5VHlwZSkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndHlwZScsIHRoaXMuZmFjaWxpdHlUeXBlKQogICAgICB9CiAgICAgIGlmICh0aGlzLmZhY2lsaXR5U3RhdHVzKSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdzdGF0dXMnLCB0aGlzLmZhY2lsaXR5U3RhdHVzKQogICAgICB9CiAgICAgIGlmICh0aGlzLmZhY2lsaXR5T3duZXJzaGlwKSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdvd25lcnNoaXAnLCB0aGlzLmZhY2lsaXR5T3duZXJzaGlwKQogICAgICB9CiAgICAgIGlmICh0aGlzLmxhdCkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbGF0JywgdGhpcy5sYXQpCiAgICAgIH0KICAgICAgaWYgKHRoaXMubG9uZykgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbG9uZycsIHRoaXMubG9uZykKICAgICAgfQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRhY3QnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRhY3QpKQogICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGVzY3JpcHRpb24nLCB0aGlzLmRlc2NyaXB0aW9uKQogICAgICB9CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGFyZW50JywgdGhpcy5mYWNpbGl0eVBhcmVudC5pZCkKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucHJvZ3Jlc3NUaXRsZSA9ICdTYXZpbmcgQ2hhbmdlcycKICAgICAgdGhpcy5lZGl0RGlhbG9nID0gZmFsc2UKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZHluYW1pY1Byb2dyZXNzID0gdHJ1ZQogICAgICBheGlvcy5wb3N0KCcvRlIvYWRkQnVpbGRpbmcnLCBmb3JtRGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IGZhbHNlCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JUaXRsZSA9ICdDaGFuZ2VzIFNhdmVkJwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnQ2hhbmdlcyBzYXZlZCBzdWNjZXNzZnVsbHknCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSB0cnVlCiAgICAgICAgdGhpcy5nZXRCdWlsZGluZ3MoKQogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JUaXRsZSA9ICdGYWlsZWQgVG8gU2F2ZSBDaGFuZ2VzJwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnRmFpbGVkIFRvIFNhdmUgQ2hhbmdlcycKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaWFsb2dFcnJvciA9IHRydWUKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMubG9hZGluZ1RyZWUgPSB0cnVlCiAgICB0aGlzLmdldFRyZWUoZmFsc2UsIGZhbHNlLCAoZXJyLCB0cmVlKSA9PiB7CiAgICAgIGlmICghZXJyKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nVHJlZSA9IGZhbHNlCiAgICAgICAgdGhpcy5qdXJpc2RpY3Rpb25IaWVyYXJjaHkgPSB0cmVlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2FkaW5nVHJlZSA9IGZhbHNlCiAgICAgIH0KICAgIH0pCiAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdyZXF1ZXN0JyAmJiB0aGlzLnJlcXVlc3RDYXRlZ29yeSA9PT0gJ3JlcXVlc3RzTGlzdCcpIHsKICAgICAgdGhpcy5idWlsZGluZ3NIZWFkZXJzLnB1c2goeyB0ZXh0OiAnUmVxdWVzdCBTdGF0dXMnLCB2YWx1ZTogJ3JlcXVlc3RTdGF0dXMnIH0pCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbmFtZUVycm9ycyAoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdCiAgICAgIGlmICghdGhpcy4kdi5uYW1lLiRkaXJ0eSkgcmV0dXJuIGVycm9ycwogICAgICAhdGhpcy4kdi5uYW1lLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdOYW1lIGlzIHJlcXVpcmVkJykKICAgICAgcmV0dXJuIGVycm9ycwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgJ2xpcXVvci10cmVlJzogTGlxdW9yVHJlZQogIH0KfQo="},{"version":3,"sources":["FacilitiesReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FacilitiesReport.vue","sourceRoot":"src/components/FacilityRegistry","sourcesContent":["<template>\n  <v-container fluid>\n    <v-dialog\n      v-model=\"confirm\"\n      width=\"630px\"\n    >\n      <v-toolbar\n        color=\"error\"\n        dark\n      >\n        <v-toolbar-title>\n          Confirmation\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn\n          icon\n          dark\n          @click.native=\"confirm = false\"\n        >\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-toolbar>\n      <v-card>\n        <v-card-text>\n          {{confirmTitle}}\n        </v-card-text>\n        <v-card-actions>\n          <v-btn\n            color=\"error\"\n            @click.native=\"confirm = false\"\n          >Cancel</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"primary\"\n            @click=\"changeRequestStatus\"\n          >Proceed</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog\n      persistent\n      v-model=\"editDialog\"\n      transition=\"scale-transition\"\n      max-width=\"800px\"\n    >\n      <v-toolbar\n        color=\"primary\"\n        dark\n      >\n        <v-toolbar-title>\n          Editing {{name}}\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-icon\n          @click=\"editDialog = false\"\n          style=\"cursor: pointer\"\n        >mdi-close</v-icon>\n      </v-toolbar>\n      <v-card>\n        <v-card-text>\n          <v-layout\n            column\n            wrap\n          >\n            <v-flex xs1>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-text-field\n                    required\n                    @blur=\"$v.name.$touch()\"\n                    @change=\"$v.name.$touch()\"\n                    :error-messages=\"nameErrors\"\n                    v-model=\"name\"\n                    filled\n                    color=\"deep-purple\"\n                    label=\"Name\"\n                  />\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-text-field\n                    v-model=\"alt_name\"\n                    filled\n                    color=\"deep-purple\"\n                    label=\"Alternative Name\"\n                  />\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-text-field\n                    required\n                    v-model=\"code\"\n                    filled\n                    color=\"deep-purple\"\n                    label=\"Code\"\n                  />\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-select\n                    clearable\n                    :items=\"types\"\n                    v-model=\"facilityType\"\n                    label=\"Facility Type\"\n                  ></v-select>\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-select\n                    clearable\n                    :items=\"status\"\n                    v-model=\"facilityStatus\"\n                    label=\"Status\"\n                  ></v-select>\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-select\n                    clearable\n                    :items=\"ownerships\"\n                    v-model=\"facilityOwnership\"\n                    label=\"Facility Ownership\"\n                  ></v-select>\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-text-field\n                    v-model=\"lat\"\n                    filled\n                    color=\"deep-purple\"\n                    label=\"Latitude\"\n                  />\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-text-field\n                    required\n                    v-model=\"long\"\n                    filled\n                    color=\"deep-purple\"\n                    label=\"Longitude\"\n                  />\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-card>\n                <v-card-title primary-title>\n                  Contacts Informations\n                </v-card-title>\n                <v-card-text>\n                  <v-layout\n                    column\n                    wrap\n                  >\n                    <v-flex>\n                      <v-layout\n                        row\n                        wrap\n                      >\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.email\"\n                            filled\n                            color=\"deep-purple\"\n                            label=\"Email\"\n                          />\n                        </v-flex>\n                        <v-spacer></v-spacer>\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.phone\"\n                            filled\n                            color=\"deep-purple\"\n                            label=\"Phone\"\n                          />\n                        </v-flex>\n                      </v-layout>\n                    </v-flex>\n                    <v-flex>\n                      <v-layout\n                        row\n                        wrap\n                      >\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.fax\"\n                            filled\n                            color=\"deep-purple\"\n                            label=\"Fax\"\n                          />\n                        </v-flex>\n                        <v-spacer></v-spacer>\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.website\"\n                            filled\n                            color=\"deep-purple\"\n                            label=\"Website\"\n                          />\n                        </v-flex>\n                      </v-layout>\n                    </v-flex>\n                  </v-layout>\n                </v-card-text>\n              </v-card>\n            </v-flex>\n            <v-flex>\n              <v-textarea\n                outline\n                label=\"Facility Description\"\n                v-model=\"description\"\n              >\n              </v-textarea>\n            </v-flex>\n            <v-flex color=\"white\">\n              Selected Parent: <b>{{facilityParent.text}}</b><br><br>\n              Choose Different Parent\n              <liquor-tree\n                @node:selected=\"selectedEditJurisdiction\"\n                v-if=\"jurisdictionHierarchy.length > 0\"\n                :data=\"jurisdictionHierarchy\"\n                :filter=\"searchJurisdiction\"\n                ref=\"jurisdictionHierarchy\"\n              >\n                <div\n                  slot-scope=\"{ node }\"\n                  class=\"node-container\"\n                >\n                  <div class=\"node-text\">{{ node.text }}</div>\n                </div>\n              </liquor-tree>\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n        <v-card-actions>\n          <v-layout column>\n            <v-flex>\n              <v-toolbar>\n                <v-layout\n                  row\n                  wrap\n                >\n                  <v-flex\n                    xs6\n                    text-sm-left\n                  >\n                    <v-btn\n                      color=\"error\"\n                      @click.native=\"editDialog = false\"\n                    >\n                      <v-icon left>mdi-cancel</v-icon> Cancel\n                    </v-btn>\n                  </v-flex>\n                  <v-flex\n                    xs6\n                    text-sm-right\n                  >\n                    <v-btn\n                      color=\"primary\"\n                      :disabled=\"$v.$invalid\"\n                      dark\n                      @click=\"saveEdit()\"\n                    >\n                      <v-icon left>mdi-content-save</v-icon>\n                      <template v-if=\"requestCategory === 'updateRequest'\">\n                        Send Request\n                      </template>\n                      <template v-else>\n                        Save\n                      </template>\n                    </v-btn>\n                  </v-flex>\n                </v-layout>\n              </v-toolbar>\n            </v-flex>\n          </v-layout>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-card>\n      <v-card-title class=\"indigo white--text headline\">\n        <template v-if=\"requestCategory === 'updateRequest'\">\n          Choose Facility To Request Change Of Information\n        </template>\n        <template v-else>\n          Facilities List\n        </template>\n      </v-card-title>\n\n      <v-layout justify-space-between>\n        <v-scroll-y-transition>\n          <v-flex xs2>\n            <v-text-field\n              v-model=\"searchJurisdiction\"\n              append-icon=\"mdi-magnify\"\n              label=\"Search Jurisdiction\"\n              single-line\n              hide-details\n            ></v-text-field>\n            <template v-if=\"loadingTree\">\n              <v-progress-linear :indeterminate=\"true\"></v-progress-linear>\n            </template>\n            <liquor-tree\n              @node:selected=\"selectedJurisdiction\"\n              v-if=\"jurisdictionHierarchy.length > 0\"\n              :data=\"jurisdictionHierarchy\"\n              :filter=\"searchJurisdiction\"\n              ref=\"jurisdictionHierarchy\"\n            />\n          </v-flex>\n        </v-scroll-y-transition>\n\n        <v-divider vertical></v-divider>\n\n        <v-flex\n          d-flex\n          text-center\n        >\n          <v-scroll-y-transition mode=\"out-in\">\n            <v-card\n              v-if='activeJurisdiction.id'\n              flat\n            >\n              <v-card-title primary-title>\n                <v-layout\n                  row\n                  wrap\n                >\n                  <v-flex>\n                    <b>\n                      <center>Facilities Under {{activeJurisdiction.text}}</center>\n                    </b>\n                  </v-flex>\n                  <v-spacer></v-spacer>\n                  <v-flex>\n                    <v-text-field\n                      v-model=\"searchBuildings\"\n                      append-icon=\"mdi-magnify\"\n                      label=\"Search Facility\"\n                      single-line\n                      hide-details\n                    ></v-text-field>\n                  </v-flex>\n                </v-layout>\n              </v-card-title>\n              <v-card-text>\n                <v-data-table\n                  :loading=\"loadingBuildings\"\n                  :headers=\"buildingsHeaders\"\n                  :items=\"buildings\"\n                  :search=\"searchBuildings\"\n                  class=\"elevation-1\"\n                >\n                  <template\n                    v-slot:item=\"{ item }\"\n                  >\n                    <tr>\n                      <td>\n                        <v-tooltip top>\n                          <template v-slot:activator=\"{ on }\">\n                            <v-btn\n                              v-if=\"canEditBuilding(item)\"\n                              class=\"mx-1\"\n                              fab\n                              dark\n                              x-small\n                              color=\"primary\"\n                              v-on=\"on\"\n                              @click=\"edit(item)\"\n                            >\n                              <v-icon>mdi-pencil</v-icon>\n                            </v-btn>\n                          </template>\n                          <span>Edit</span>\n                        </v-tooltip>\n                        <v-tooltip\n                          top\n                          v-if=\"action === 'request'\"\n                        >\n                          <template v-slot:activator=\"{ on }\">\n                            <v-btn\n                              v-if=\"canChangeRequestStatus(item, 'approve')\"\n                              class=\"mx-1\"\n                              fab\n                              dark\n                              x-small\n                              color=\"success\"\n                              v-on=\"on\"\n                              @click=\"changeRequestStatus(item, 'approved', true)\"\n                            >\n                              <v-icon>mdi-check-circle</v-icon>\n                            </v-btn>\n                          </template>\n                          <span>Approve</span>\n                        </v-tooltip>\n                        <v-tooltip\n                          top\n                          v-if=\"action === 'request'\"\n                        >\n                          <template v-slot:activator=\"{ on }\">\n                            <v-btn\n                              v-if=\"canChangeRequestStatus(item, 'reject')\"\n                              class=\"mx-1\"\n                              fab\n                              dark\n                              x-small\n                              color=\"error\"\n                              v-on=\"on\"\n                              @click=\"changeRequestStatus(item, 'rejected', true)\"\n                            >\n                              <v-icon>mdi-cancel</v-icon>\n                            </v-btn>\n                          </template>\n                          <span>Reject</span>\n                        </v-tooltip>\n                      </td>\n                      <td>{{item.name}}</td>\n                      <td>{{item.code}}</td>\n                      <td>{{item.parent.name}}</td>\n                      <td>{{item.type.text}}</td>\n                      <td>{{item.ownership.text}}</td>\n                      <td>{{item.status.text}}</td>\n                      <td>{{item.lat}}</td>\n                      <td>{{item.long}}</td>\n                      <td v-if=\"action === 'request' && requestCategory === 'requestsList'\">\n                        {{item.requestStatus}}\n                      </td>\n                    </tr>\n                  </template>\n                </v-data-table>\n              </v-card-text>\n            </v-card>\n            <template v-else-if=\"!loadingBuildings\">\n              <b>Select a jurisdiction on the left to display its facilities</b>\n            </template>\n          </v-scroll-y-transition>\n        </v-flex>\n      </v-layout>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport axios from 'axios'\nimport LiquorTree from 'liquor-tree'\nimport { required } from 'vuelidate/lib/validators'\nimport { generalMixin } from '../../mixins/generalMixin'\nimport {\n  tasksVerification\n} from '@/modules/tasksVerification'\nexport default {\n  mixins: [generalMixin],\n  validations: {\n    name: { required }\n  },\n  props: ['action', 'requestType', 'requestCategory'],\n  data () {\n    return {\n      facilityId: '',\n      editDialog: false,\n      loadingTree: false,\n      loadingBuildings: false,\n      buildingsHeaders: [\n        { sortable: false },\n        { text: 'Name', value: 'name' },\n        { text: 'Code', value: 'code' },\n        { text: 'Parent', value: 'parent' },\n        { text: 'Facility Type', value: 'type' },\n        { text: 'Facility Ownership', value: 'ownership' },\n        { text: 'Status', value: 'status' },\n        { text: 'Latitude', value: 'latitude' },\n        { text: 'Longitude', value: 'longitude' }\n      ],\n      searchJurisdiction: '',\n      searchBuildings: '',\n      activeJurisdiction: {},\n      jurisdictionHierarchy: [],\n      buildings: [],\n      name: '',\n      alt_name: '',\n      code: '',\n      description: '',\n      facilityType: '',\n      types: [{\n        text: 'Clinic',\n        value: 'CLNC'\n      }, {\n        text: 'Dispensary',\n        value: 'DSPN'\n      }, {\n        text: 'Health Center',\n        value: 'HCNT'\n      }, {\n        text: 'Health Post',\n        value: 'HPST'\n      }, {\n        text: 'Hospital',\n        value: 'HOSP'\n      }],\n      ownerships: [{\n        text: 'Concesion',\n        value: 'CNCS'\n      }, {\n        text: 'Public',\n        value: 'PBLC'\n      }, {\n        text: 'Private',\n        value: 'PRVT'\n      }, {\n        text: 'Private Faith Based',\n        value: 'PFBO'\n      }, {\n        text: 'Private Not Profit',\n        value: 'PNPR'\n      }],\n      facilityOwnership: '',\n      status: [{\n        text: 'Functional',\n        value: 'active'\n      }, {\n        text: 'Not Functional',\n        value: 'inactive'\n      }, {\n        text: 'Suspended',\n        value: 'suspended'\n      }],\n      facilityStatus: '',\n      facilityParent: {},\n      lat: '',\n      long: '',\n      contact: {\n        email: '',\n        phone: '',\n        fax: '',\n        website: ''\n      },\n      requestStatus: '',\n      confirm: false,\n      confirmTitle: '',\n      tasksVerification: tasksVerification\n    }\n  },\n  methods: {\n    changeRequestStatus (item, status, isConfirm) {\n      if (isConfirm) {\n        this.requestStatus = status\n        let statusDisplay\n        if (status === 'approved') {\n          statusDisplay = 'approved'\n        } else if (status === 'rejected') {\n          statusDisplay = 'rejected'\n        }\n        this.confirm = true\n        this.confirmTitle = 'Are you sure that you want to mark facility ' + item.name + ' as ' + statusDisplay\n        this.facilityId = item.id\n      } else {\n        this.$store.state.progressTitle = 'Saving new status'\n        this.confirm = false\n        this.$store.state.dynamicProgress = true\n        let formData = new FormData()\n        formData.append('id', this.facilityId)\n        formData.append('status', this.requestStatus)\n        formData.append('requestType', this.requestType)\n        axios.post('/FR/changeBuildingRequestStatus', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(() => {\n          this.$store.state.dynamicProgress = false\n          this.$store.state.errorTitle = 'Info'\n          this.$store.state.errorDescription = 'Request status changed successfully'\n          this.$store.state.dialogError = true\n          this.getBuildings()\n        }).catch((err) => {\n          this.$store.state.errorTitle = 'Error'\n          this.$store.state.errorDescription = 'This request was not successfully processed'\n          this.$store.state.dialogError = true\n          console.log(err)\n        })\n      }\n    },\n    canChangeRequestStatus (item, actionName) {\n      if (this.action !== 'request' || (this.action === 'request' && this.requestCategory !== 'requestsList')) {\n        return false\n      }\n      if (actionName === 'approve') {\n        if (item.requestStatus === 'Approved') {\n          return false\n        }\n      } else if (actionName === 'reject') {\n        if (item.requestStatus === 'Approved' || item.requestStatus === 'Rejected') {\n          return false\n        }\n      }\n      if ((this.requestType === 'update' && this.tasksVerification.canApprove('FacilitiesUpdateRequestsReport')) ||\n        (this.requestType === 'add' && this.tasksVerification.canApprove('NewFacilitiesRequestsReport')) ||\n        (this.requestType === 'update' && this.tasksVerification.canReject('FacilitiesUpdateRequestsReport')) ||\n        (this.requestType === 'add' && this.tasksVerification.canReject('NewFacilitiesRequestsReport'))) {\n        return true\n      } else {\n        return false\n      }\n    },\n    canEditBuilding (item) {\n      if (item.requestStatus === 'Approved' && this.requestCategory === 'requestsList') {\n        return false\n      }\n      if (this.tasksVerification.canEdit('FacilitiesReport') || this.tasksVerification.canAdd('RequestUpdateBuildingDetails')) {\n        return true\n      }\n      return false\n    },\n    getBuildings () {\n      this.facilities = []\n      this.buildings = []\n      this.loadingBuildings = true\n      axios.get('/FR/getBuildings', {\n        params: {\n          jurisdiction: this.activeJurisdiction.id,\n          action: this.action,\n          requestType: this.requestType,\n          requestCategory: this.requestCategory\n        }\n      }).then((response) => {\n        this.loadingBuildings = false\n        this.buildings = response.data\n      }).catch((err) => {\n        this.loadingBuildings = false\n        console.log(err)\n      })\n    },\n    selectedJurisdiction (node) {\n      this.activeJurisdiction = node\n      this.getBuildings()\n    },\n    selectedEditJurisdiction (node) {\n      this.facilityParent = node\n    },\n    edit (item) {\n      this.facilityId = item.id\n      this.facilityType = item.type.code\n      this.facilityStatus = item.status.code\n      this.facilityParent.id = item.parent.id\n      this.facilityParent.text = item.parent.name\n      this.facilityOwnership = item.ownership.code\n      this.name = item.name\n      this.alt_name = item.alt_name\n      this.code = item.code\n      this.lat = item.lat\n      this.long = item.long\n      this.contact.phone = item.phone\n      this.contact.email = item.email\n      this.contact.website = item.website\n      this.contact.fax = item.fax\n      this.description = item.description\n      this.editDialog = true\n    },\n    saveEdit () {\n      let formData = new FormData()\n      formData.append('id', this.facilityId)\n      formData.append('name', this.name)\n      formData.append('alt_name', this.alt_name)\n      formData.append('code', this.code)\n      formData.append('action', this.action)\n      formData.append('requestType', this.requestType)\n      formData.append('username', this.$store.state.auth.username)\n      if (this.facilityType) {\n        formData.append('type', this.facilityType)\n      }\n      if (this.facilityStatus) {\n        formData.append('status', this.facilityStatus)\n      }\n      if (this.facilityOwnership) {\n        formData.append('ownership', this.facilityOwnership)\n      }\n      if (this.lat) {\n        formData.append('lat', this.lat)\n      }\n      if (this.long) {\n        formData.append('long', this.long)\n      }\n      formData.append('contact', JSON.stringify(this.contact))\n      if (this.description) {\n        formData.append('description', this.description)\n      }\n      formData.append('parent', this.facilityParent.id)\n      this.$store.state.progressTitle = 'Saving Changes'\n      this.editDialog = false\n      this.$store.state.dynamicProgress = true\n      axios.post('/FR/addBuilding', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.$store.state.dynamicProgress = false\n        this.$store.state.errorTitle = 'Changes Saved'\n        this.$store.state.errorDescription = 'Changes saved successfully'\n        this.$store.state.dialogError = true\n        this.getBuildings()\n      }).catch((err) => {\n        this.$store.state.errorTitle = 'Failed To Save Changes'\n        this.$store.state.errorDescription = 'Failed To Save Changes'\n        this.$store.state.dialogError = true\n        console.log(err)\n      })\n    }\n  },\n  created () {\n    this.loadingTree = true\n    this.getTree(false, false, (err, tree) => {\n      if (!err) {\n        this.loadingTree = false\n        this.jurisdictionHierarchy = tree\n      } else {\n        this.loadingTree = false\n      }\n    })\n    if (this.action === 'request' && this.requestCategory === 'requestsList') {\n      this.buildingsHeaders.push({ text: 'Request Status', value: 'requestStatus' })\n    }\n  },\n  computed: {\n    nameErrors () {\n      const errors = []\n      if (!this.$v.name.$dirty) return errors\n      !this.$v.name.required && errors.push('Name is required')\n      return errors\n    }\n  },\n  components: {\n    'liquor-tree': LiquorTree\n  }\n}\n</script>"]}]}