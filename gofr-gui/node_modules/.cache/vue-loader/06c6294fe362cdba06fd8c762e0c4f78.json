{"remainingRequest":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr2/src/components/FacilityRegistry/FacilitiesReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr2/src/components/FacilityRegistry/FacilitiesReport.vue","mtime":1619236389751},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/ally/gofr2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ally/gofr2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IExpcXVvclRyZWUgZnJvbSAnbGlxdW9yLXRyZWUnCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzJwppbXBvcnQgeyBnZW5lcmFsTWl4aW4gfSBmcm9tICcuLi8uLi9taXhpbnMvZ2VuZXJhbE1peGluJwppbXBvcnQgewogIHRhc2tzVmVyaWZpY2F0aW9uCn0gZnJvbSAnQC9tb2R1bGVzL3Rhc2tzVmVyaWZpY2F0aW9uJwpjb25zdCBiYWNrZW5kU2VydmVyID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9TRVJWRVIKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2dlbmVyYWxNaXhpbl0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIG5hbWU6IHsgcmVxdWlyZWQgfQogIH0sCiAgcHJvcHM6IFsnYWN0aW9uJywgJ3JlcXVlc3RUeXBlJywgJ3JlcXVlc3RDYXRlZ29yeSddLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgZmFjaWxpdHlJZDogJycsCiAgICAgIGVkaXREaWFsb2c6IGZhbHNlLAogICAgICBsb2FkaW5nVHJlZTogZmFsc2UsCiAgICAgIGxvYWRpbmdCdWlsZGluZ3M6IGZhbHNlLAogICAgICBidWlsZGluZ3NIZWFkZXJzOiBbCiAgICAgICAgeyBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICdOYW1lJywgdmFsdWU6ICduYW1lJyB9LAogICAgICAgIHsgdGV4dDogJ0NvZGUnLCB2YWx1ZTogJ2NvZGUnIH0sCiAgICAgICAgeyB0ZXh0OiAnUGFyZW50JywgdmFsdWU6ICdwYXJlbnQnIH0sCiAgICAgICAgeyB0ZXh0OiAnRmFjaWxpdHkgVHlwZScsIHZhbHVlOiAndHlwZScgfSwKICAgICAgICB7IHRleHQ6ICdGYWNpbGl0eSBPd25lcnNoaXAnLCB2YWx1ZTogJ293bmVyc2hpcCcgfSwKICAgICAgICB7IHRleHQ6ICdTdGF0dXMnLCB2YWx1ZTogJ3N0YXR1cycgfSwKICAgICAgICB7IHRleHQ6ICdMYXRpdHVkZScsIHZhbHVlOiAnbGF0aXR1ZGUnIH0sCiAgICAgICAgeyB0ZXh0OiAnTG9uZ2l0dWRlJywgdmFsdWU6ICdsb25naXR1ZGUnIH0KICAgICAgXSwKICAgICAgc2VhcmNoSnVyaXNkaWN0aW9uOiAnJywKICAgICAgc2VhcmNoQnVpbGRpbmdzOiAnJywKICAgICAgYWN0aXZlSnVyaXNkaWN0aW9uOiB7fSwKICAgICAganVyaXNkaWN0aW9uSGllcmFyY2h5OiBbXSwKICAgICAgYnVpbGRpbmdzOiBbXSwKICAgICAgbmFtZTogJycsCiAgICAgIGFsdF9uYW1lOiAnJywKICAgICAgY29kZTogJycsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgZmFjaWxpdHlUeXBlOiAnJywKICAgICAgdHlwZXM6IFt7CiAgICAgICAgdGV4dDogJ0NsaW5pYycsCiAgICAgICAgdmFsdWU6ICdDTE5DJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0Rpc3BlbnNhcnknLAogICAgICAgIHZhbHVlOiAnRFNQTicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdIZWFsdGggQ2VudGVyJywKICAgICAgICB2YWx1ZTogJ0hDTlQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSGVhbHRoIFBvc3QnLAogICAgICAgIHZhbHVlOiAnSFBTVCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdIb3NwaXRhbCcsCiAgICAgICAgdmFsdWU6ICdIT1NQJwogICAgICB9XSwKICAgICAgb3duZXJzaGlwczogW3sKICAgICAgICB0ZXh0OiAnQ29uY2VzaW9uJywKICAgICAgICB2YWx1ZTogJ0NOQ1MnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnUHVibGljJywKICAgICAgICB2YWx1ZTogJ1BCTEMnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnUHJpdmF0ZScsCiAgICAgICAgdmFsdWU6ICdQUlZUJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1ByaXZhdGUgRmFpdGggQmFzZWQnLAogICAgICAgIHZhbHVlOiAnUEZCTycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdQcml2YXRlIE5vdCBQcm9maXQnLAogICAgICAgIHZhbHVlOiAnUE5QUicKICAgICAgfV0sCiAgICAgIGZhY2lsaXR5T3duZXJzaGlwOiAnJywKICAgICAgc3RhdHVzOiBbewogICAgICAgIHRleHQ6ICdGdW5jdGlvbmFsJywKICAgICAgICB2YWx1ZTogJ2FjdGl2ZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdOb3QgRnVuY3Rpb25hbCcsCiAgICAgICAgdmFsdWU6ICdpbmFjdGl2ZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdTdXNwZW5kZWQnLAogICAgICAgIHZhbHVlOiAnc3VzcGVuZGVkJwogICAgICB9XSwKICAgICAgZmFjaWxpdHlTdGF0dXM6ICcnLAogICAgICBmYWNpbGl0eVBhcmVudDoge30sCiAgICAgIGxhdDogJycsCiAgICAgIGxvbmc6ICcnLAogICAgICBjb250YWN0OiB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBob25lOiAnJywKICAgICAgICBmYXg6ICcnLAogICAgICAgIHdlYnNpdGU6ICcnCiAgICAgIH0sCiAgICAgIHJlcXVlc3RTdGF0dXM6ICcnLAogICAgICBjb25maXJtOiBmYWxzZSwKICAgICAgY29uZmlybVRpdGxlOiAnJywKICAgICAgdGFza3NWZXJpZmljYXRpb246IHRhc2tzVmVyaWZpY2F0aW9uCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VSZXF1ZXN0U3RhdHVzIChpdGVtLCBzdGF0dXMsIGlzQ29uZmlybSkgewogICAgICBpZiAoaXNDb25maXJtKSB7CiAgICAgICAgdGhpcy5yZXF1ZXN0U3RhdHVzID0gc3RhdHVzCiAgICAgICAgbGV0IHN0YXR1c0Rpc3BsYXkKICAgICAgICBpZiAoc3RhdHVzID09PSAnYXBwcm92ZWQnKSB7CiAgICAgICAgICBzdGF0dXNEaXNwbGF5ID0gJ2FwcHJvdmVkJwogICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAncmVqZWN0ZWQnKSB7CiAgICAgICAgICBzdGF0dXNEaXNwbGF5ID0gJ3JlamVjdGVkJwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbmZpcm0gPSB0cnVlCiAgICAgICAgdGhpcy5jb25maXJtVGl0bGUgPSAnQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gbWFyayBmYWNpbGl0eSAnICsgaXRlbS5uYW1lICsgJyBhcyAnICsgc3RhdHVzRGlzcGxheQogICAgICAgIHRoaXMuZmFjaWxpdHlJZCA9IGl0ZW0uaWQKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5wcm9ncmVzc1RpdGxlID0gJ1NhdmluZyBuZXcgc3RhdHVzJwogICAgICAgIHRoaXMuY29uZmlybSA9IGZhbHNlCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZHluYW1pY1Byb2dyZXNzID0gdHJ1ZQogICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpZCcsIHRoaXMuZmFjaWxpdHlJZCkKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3N0YXR1cycsIHRoaXMucmVxdWVzdFN0YXR1cykKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3JlcXVlc3RUeXBlJywgdGhpcy5yZXF1ZXN0VHlwZSkKICAgICAgICBheGlvcy5wb3N0KGJhY2tlbmRTZXJ2ZXIgKyAnL0ZSL2NoYW5nZUJ1aWxkaW5nUmVxdWVzdFN0YXR1cycsIGZvcm1EYXRhLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IGZhbHNlCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvclRpdGxlID0gJ0luZm8nCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvckRlc2NyaXB0aW9uID0gJ1JlcXVlc3Qgc3RhdHVzIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5JwogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSB0cnVlCiAgICAgICAgICB0aGlzLmdldEJ1aWxkaW5ncygpCiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JUaXRsZSA9ICdFcnJvcicKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnVGhpcyByZXF1ZXN0IHdhcyBub3Qgc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCcKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZ0Vycm9yID0gdHJ1ZQogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBjYW5DaGFuZ2VSZXF1ZXN0U3RhdHVzIChpdGVtLCBhY3Rpb25OYW1lKSB7CiAgICAgIGlmICh0aGlzLmFjdGlvbiAhPT0gJ3JlcXVlc3QnIHx8ICh0aGlzLmFjdGlvbiA9PT0gJ3JlcXVlc3QnICYmIHRoaXMucmVxdWVzdENhdGVnb3J5ICE9PSAncmVxdWVzdHNMaXN0JykpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICBpZiAoYWN0aW9uTmFtZSA9PT0gJ2FwcHJvdmUnKSB7CiAgICAgICAgaWYgKGl0ZW0ucmVxdWVzdFN0YXR1cyA9PT0gJ0FwcHJvdmVkJykgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGFjdGlvbk5hbWUgPT09ICdyZWplY3QnKSB7CiAgICAgICAgaWYgKGl0ZW0ucmVxdWVzdFN0YXR1cyA9PT0gJ0FwcHJvdmVkJyB8fCBpdGVtLnJlcXVlc3RTdGF0dXMgPT09ICdSZWplY3RlZCcpIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoKHRoaXMucmVxdWVzdFR5cGUgPT09ICd1cGRhdGUnICYmIHRoaXMudGFza3NWZXJpZmljYXRpb24uY2FuQXBwcm92ZSgnRmFjaWxpdGllc1VwZGF0ZVJlcXVlc3RzUmVwb3J0JykpIHx8CiAgICAgICAgKHRoaXMucmVxdWVzdFR5cGUgPT09ICdhZGQnICYmIHRoaXMudGFza3NWZXJpZmljYXRpb24uY2FuQXBwcm92ZSgnTmV3RmFjaWxpdGllc1JlcXVlc3RzUmVwb3J0JykpIHx8CiAgICAgICAgKHRoaXMucmVxdWVzdFR5cGUgPT09ICd1cGRhdGUnICYmIHRoaXMudGFza3NWZXJpZmljYXRpb24uY2FuUmVqZWN0KCdGYWNpbGl0aWVzVXBkYXRlUmVxdWVzdHNSZXBvcnQnKSkgfHwKICAgICAgICAodGhpcy5yZXF1ZXN0VHlwZSA9PT0gJ2FkZCcgJiYgdGhpcy50YXNrc1ZlcmlmaWNhdGlvbi5jYW5SZWplY3QoJ05ld0ZhY2lsaXRpZXNSZXF1ZXN0c1JlcG9ydCcpKSkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBjYW5FZGl0QnVpbGRpbmcgKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0ucmVxdWVzdFN0YXR1cyA9PT0gJ0FwcHJvdmVkJyAmJiB0aGlzLnJlcXVlc3RDYXRlZ29yeSA9PT0gJ3JlcXVlc3RzTGlzdCcpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICBpZiAodGhpcy50YXNrc1ZlcmlmaWNhdGlvbi5jYW5FZGl0KCdGYWNpbGl0aWVzUmVwb3J0JykgfHwgdGhpcy50YXNrc1ZlcmlmaWNhdGlvbi5jYW5BZGQoJ1JlcXVlc3RVcGRhdGVCdWlsZGluZ0RldGFpbHMnKSkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9LAogICAgZ2V0QnVpbGRpbmdzICgpIHsKICAgICAgdGhpcy5mYWNpbGl0aWVzID0gW10KICAgICAgdGhpcy5idWlsZGluZ3MgPSBbXQogICAgICB0aGlzLmxvYWRpbmdCdWlsZGluZ3MgPSB0cnVlCiAgICAgIGF4aW9zLmdldChiYWNrZW5kU2VydmVyICsgJy9GUi9nZXRCdWlsZGluZ3MnLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBqdXJpc2RpY3Rpb246IHRoaXMuYWN0aXZlSnVyaXNkaWN0aW9uLmlkLAogICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbiwKICAgICAgICAgIHJlcXVlc3RUeXBlOiB0aGlzLnJlcXVlc3RUeXBlLAogICAgICAgICAgcmVxdWVzdENhdGVnb3J5OiB0aGlzLnJlcXVlc3RDYXRlZ29yeQogICAgICAgIH0KICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmdCdWlsZGluZ3MgPSBmYWxzZQogICAgICAgIHRoaXMuYnVpbGRpbmdzID0gcmVzcG9uc2UuZGF0YQogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nQnVpbGRpbmdzID0gZmFsc2UKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9LAogICAgc2VsZWN0ZWRKdXJpc2RpY3Rpb24gKG5vZGUpIHsKICAgICAgdGhpcy5hY3RpdmVKdXJpc2RpY3Rpb24gPSBub2RlCiAgICAgIHRoaXMuZ2V0QnVpbGRpbmdzKCkKICAgIH0sCiAgICBzZWxlY3RlZEVkaXRKdXJpc2RpY3Rpb24gKG5vZGUpIHsKICAgICAgdGhpcy5mYWNpbGl0eVBhcmVudCA9IG5vZGUKICAgIH0sCiAgICBlZGl0IChpdGVtKSB7CiAgICAgIHRoaXMuZmFjaWxpdHlJZCA9IGl0ZW0uaWQKICAgICAgdGhpcy5mYWNpbGl0eVR5cGUgPSBpdGVtLnR5cGUuY29kZQogICAgICB0aGlzLmZhY2lsaXR5U3RhdHVzID0gaXRlbS5zdGF0dXMuY29kZQogICAgICB0aGlzLmZhY2lsaXR5UGFyZW50LmlkID0gaXRlbS5wYXJlbnQuaWQKICAgICAgdGhpcy5mYWNpbGl0eVBhcmVudC50ZXh0ID0gaXRlbS5wYXJlbnQubmFtZQogICAgICB0aGlzLmZhY2lsaXR5T3duZXJzaGlwID0gaXRlbS5vd25lcnNoaXAuY29kZQogICAgICB0aGlzLm5hbWUgPSBpdGVtLm5hbWUKICAgICAgdGhpcy5hbHRfbmFtZSA9IGl0ZW0uYWx0X25hbWUKICAgICAgdGhpcy5jb2RlID0gaXRlbS5jb2RlCiAgICAgIHRoaXMubGF0ID0gaXRlbS5sYXQKICAgICAgdGhpcy5sb25nID0gaXRlbS5sb25nCiAgICAgIHRoaXMuY29udGFjdC5waG9uZSA9IGl0ZW0ucGhvbmUKICAgICAgdGhpcy5jb250YWN0LmVtYWlsID0gaXRlbS5lbWFpbAogICAgICB0aGlzLmNvbnRhY3Qud2Vic2l0ZSA9IGl0ZW0ud2Vic2l0ZQogICAgICB0aGlzLmNvbnRhY3QuZmF4ID0gaXRlbS5mYXgKICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGl0ZW0uZGVzY3JpcHRpb24KICAgICAgdGhpcy5lZGl0RGlhbG9nID0gdHJ1ZQogICAgfSwKICAgIHNhdmVFZGl0ICgpIHsKICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdpZCcsIHRoaXMuZmFjaWxpdHlJZCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCduYW1lJywgdGhpcy5uYW1lKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FsdF9uYW1lJywgdGhpcy5hbHRfbmFtZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb2RlJywgdGhpcy5jb2RlKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FjdGlvbicsIHRoaXMuYWN0aW9uKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3JlcXVlc3RUeXBlJywgdGhpcy5yZXF1ZXN0VHlwZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VybmFtZScsIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcm5hbWUpCiAgICAgIGlmICh0aGlzLmZhY2lsaXR5VHlwZSkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndHlwZScsIHRoaXMuZmFjaWxpdHlUeXBlKQogICAgICB9CiAgICAgIGlmICh0aGlzLmZhY2lsaXR5U3RhdHVzKSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdzdGF0dXMnLCB0aGlzLmZhY2lsaXR5U3RhdHVzKQogICAgICB9CiAgICAgIGlmICh0aGlzLmZhY2lsaXR5T3duZXJzaGlwKSB7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdvd25lcnNoaXAnLCB0aGlzLmZhY2lsaXR5T3duZXJzaGlwKQogICAgICB9CiAgICAgIGlmICh0aGlzLmxhdCkgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbGF0JywgdGhpcy5sYXQpCiAgICAgIH0KICAgICAgaWYgKHRoaXMubG9uZykgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbG9uZycsIHRoaXMubG9uZykKICAgICAgfQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRhY3QnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRhY3QpKQogICAgICBpZiAodGhpcy5kZXNjcmlwdGlvbikgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZGVzY3JpcHRpb24nLCB0aGlzLmRlc2NyaXB0aW9uKQogICAgICB9CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGFyZW50JywgdGhpcy5mYWNpbGl0eVBhcmVudC5pZCkKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucHJvZ3Jlc3NUaXRsZSA9ICdTYXZpbmcgQ2hhbmdlcycKICAgICAgdGhpcy5lZGl0RGlhbG9nID0gZmFsc2UKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZHluYW1pY1Byb2dyZXNzID0gdHJ1ZQogICAgICBheGlvcy5wb3N0KGJhY2tlbmRTZXJ2ZXIgKyAnL0ZSL2FkZEJ1aWxkaW5nJywgZm9ybURhdGEsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgfQogICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmR5bmFtaWNQcm9ncmVzcyA9IGZhbHNlCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JUaXRsZSA9ICdDaGFuZ2VzIFNhdmVkJwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnQ2hhbmdlcyBzYXZlZCBzdWNjZXNzZnVsbHknCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSB0cnVlCiAgICAgICAgdGhpcy5nZXRCdWlsZGluZ3MoKQogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JUaXRsZSA9ICdGYWlsZWQgVG8gU2F2ZSBDaGFuZ2VzJwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVycm9yRGVzY3JpcHRpb24gPSAnRmFpbGVkIFRvIFNhdmUgQ2hhbmdlcycKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaWFsb2dFcnJvciA9IHRydWUKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMubG9hZGluZ1RyZWUgPSB0cnVlCiAgICB0aGlzLmdldFRyZWUoZmFsc2UsIChlcnIsIHRyZWUpID0+IHsKICAgICAgaWYgKCFlcnIpIHsKICAgICAgICB0aGlzLmxvYWRpbmdUcmVlID0gZmFsc2UKICAgICAgICB0aGlzLmp1cmlzZGljdGlvbkhpZXJhcmNoeSA9IHRyZWUKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvYWRpbmdUcmVlID0gZmFsc2UKICAgICAgfQogICAgfSkKICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ3JlcXVlc3QnICYmIHRoaXMucmVxdWVzdENhdGVnb3J5ID09PSAncmVxdWVzdHNMaXN0JykgewogICAgICB0aGlzLmJ1aWxkaW5nc0hlYWRlcnMucHVzaCh7IHRleHQ6ICdSZXF1ZXN0IFN0YXR1cycsIHZhbHVlOiAncmVxdWVzdFN0YXR1cycgfSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBuYW1lRXJyb3JzICgpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW10KICAgICAgaWYgKCF0aGlzLiR2Lm5hbWUuJGRpcnR5KSByZXR1cm4gZXJyb3JzCiAgICAgICF0aGlzLiR2Lm5hbWUucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ05hbWUgaXMgcmVxdWlyZWQnKQogICAgICByZXR1cm4gZXJyb3JzCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnbGlxdW9yLXRyZWUnOiBMaXF1b3JUcmVlCiAgfQp9Cg=="},{"version":3,"sources":["FacilitiesReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FacilitiesReport.vue","sourceRoot":"src/components/FacilityRegistry","sourcesContent":["<template>\n  <v-container fluid>\n    <v-dialog\n      v-model=\"confirm\"\n      width=\"630px\"\n    >\n      <v-toolbar\n        color=\"error\"\n        dark\n      >\n        <v-toolbar-title>\n          Confirmation\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-btn\n          icon\n          dark\n          @click.native=\"confirm = false\"\n        >\n          <v-icon>close</v-icon>\n        </v-btn>\n      </v-toolbar>\n      <v-card>\n        <v-card-text>\n          {{confirmTitle}}\n        </v-card-text>\n        <v-card-actions>\n          <v-btn\n            color=\"error\"\n            @click.native=\"confirm = false\"\n          >Cancel</v-btn>\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"primary\"\n            @click=\"changeRequestStatus\"\n          >Proceed</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog\n      persistent\n      v-model=\"editDialog\"\n      transition=\"scale-transition\"\n      max-width=\"800px\"\n    >\n      <v-toolbar\n        color=\"primary\"\n        dark\n      >\n        <v-toolbar-title>\n          Editing {{name}}\n        </v-toolbar-title>\n        <v-spacer></v-spacer>\n        <v-icon\n          @click=\"editDialog = false\"\n          style=\"cursor: pointer\"\n        >close</v-icon>\n      </v-toolbar>\n      <v-card>\n        <v-card-text>\n          <v-layout\n            column\n            wrap\n          >\n            <v-flex xs1>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-text-field\n                    required\n                    @blur=\"$v.name.$touch()\"\n                    @change=\"$v.name.$touch()\"\n                    :error-messages=\"nameErrors\"\n                    v-model=\"name\"\n                    box\n                    color=\"deep-purple\"\n                    label=\"Name\"\n                  />\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-text-field\n                    v-model=\"alt_name\"\n                    box\n                    color=\"deep-purple\"\n                    label=\"Alternative Name\"\n                  />\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-text-field\n                    required\n                    v-model=\"code\"\n                    box\n                    color=\"deep-purple\"\n                    label=\"Code\"\n                  />\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-select\n                    clearable\n                    :items=\"types\"\n                    v-model=\"facilityType\"\n                    label=\"Facility Type\"\n                  ></v-select>\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-select\n                    clearable\n                    :items=\"status\"\n                    v-model=\"facilityStatus\"\n                    label=\"Status\"\n                  ></v-select>\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-select\n                    clearable\n                    :items=\"ownerships\"\n                    v-model=\"facilityOwnership\"\n                    label=\"Facility Ownership\"\n                  ></v-select>\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-layout\n                row\n                wrap\n              >\n                <v-flex xs5>\n                  <v-text-field\n                    v-model=\"lat\"\n                    box\n                    color=\"deep-purple\"\n                    label=\"Latitude\"\n                  />\n                </v-flex>\n                <v-spacer></v-spacer>\n                <v-flex xs5>\n                  <v-text-field\n                    required\n                    v-model=\"long\"\n                    box\n                    color=\"deep-purple\"\n                    label=\"Longitude\"\n                  />\n                </v-flex>\n              </v-layout>\n            </v-flex>\n            <v-flex>\n              <v-card>\n                <v-card-title primary-title>\n                  Contacts Informations\n                </v-card-title>\n                <v-card-text>\n                  <v-layout\n                    column\n                    wrap\n                  >\n                    <v-flex>\n                      <v-layout\n                        row\n                        wrap\n                      >\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.email\"\n                            box\n                            color=\"deep-purple\"\n                            label=\"Email\"\n                          />\n                        </v-flex>\n                        <v-spacer></v-spacer>\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.phone\"\n                            box\n                            color=\"deep-purple\"\n                            label=\"Phone\"\n                          />\n                        </v-flex>\n                      </v-layout>\n                    </v-flex>\n                    <v-flex>\n                      <v-layout\n                        row\n                        wrap\n                      >\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.fax\"\n                            box\n                            color=\"deep-purple\"\n                            label=\"Fax\"\n                          />\n                        </v-flex>\n                        <v-spacer></v-spacer>\n                        <v-flex xs5>\n                          <v-text-field\n                            v-model=\"contact.website\"\n                            box\n                            color=\"deep-purple\"\n                            label=\"Website\"\n                          />\n                        </v-flex>\n                      </v-layout>\n                    </v-flex>\n                  </v-layout>\n                </v-card-text>\n              </v-card>\n            </v-flex>\n            <v-flex>\n              <v-textarea\n                outline\n                label=\"Facility Description\"\n                v-model=\"description\"\n              >\n              </v-textarea>\n            </v-flex>\n            <v-flex color=\"white\">\n              Selected Parent: <b>{{facilityParent.text}}</b><br><br>\n              Choose Different Parent\n              <liquor-tree\n                @node:selected=\"selectedEditJurisdiction\"\n                v-if=\"jurisdictionHierarchy.length > 0\"\n                :data=\"jurisdictionHierarchy\"\n                :filter=\"searchJurisdiction\"\n                ref=\"jurisdictionHierarchy\"\n              >\n                <div\n                  slot-scope=\"{ node }\"\n                  class=\"node-container\"\n                >\n                  <div class=\"node-text\">{{ node.text }}</div>\n                </div>\n              </liquor-tree>\n            </v-flex>\n          </v-layout>\n        </v-card-text>\n        <v-card-actions>\n          <v-layout column>\n            <v-flex>\n              <v-toolbar>\n                <v-layout\n                  row\n                  wrap\n                >\n                  <v-flex\n                    xs6\n                    text-sm-left\n                  >\n                    <v-btn\n                      color=\"error\"\n                      @click.native=\"editDialog = false\"\n                    >\n                      <v-icon left>cancel</v-icon> Cancel\n                    </v-btn>\n                  </v-flex>\n                  <v-flex\n                    xs6\n                    text-sm-right\n                  >\n                    <v-btn\n                      color=\"primary\"\n                      :disabled=\"$v.$invalid\"\n                      dark\n                      @click=\"saveEdit()\"\n                    >\n                      <v-icon left>save</v-icon>\n                      <template v-if=\"requestCategory === 'updateRequest'\">\n                        Send Request\n                      </template>\n                      <template v-else>\n                        Save\n                      </template>\n                    </v-btn>\n                  </v-flex>\n                </v-layout>\n              </v-toolbar>\n            </v-flex>\n          </v-layout>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-card>\n      <v-card-title class=\"indigo white--text headline\">\n        <template v-if=\"requestCategory === 'updateRequest'\">\n          Choose Facility To Request Change Of Information\n        </template>\n        <template v-else>\n          Facilities List\n        </template>\n      </v-card-title>\n\n      <v-layout justify-space-between>\n        <v-scroll-y-transition>\n          <v-flex xs2>\n            <v-text-field\n              v-model=\"searchJurisdiction\"\n              append-icon=\"search\"\n              label=\"Search Jurisdiction\"\n              single-line\n              hide-details\n            ></v-text-field>\n            <template v-if=\"loadingTree\">\n              <v-progress-linear :indeterminate=\"true\"></v-progress-linear>\n            </template>\n            <liquor-tree\n              @node:selected=\"selectedJurisdiction\"\n              v-if=\"jurisdictionHierarchy.length > 0\"\n              :data=\"jurisdictionHierarchy\"\n              :filter=\"searchJurisdiction\"\n              ref=\"jurisdictionHierarchy\"\n            />\n          </v-flex>\n        </v-scroll-y-transition>\n\n        <v-divider vertical></v-divider>\n\n        <v-flex\n          d-flex\n          text-center\n        >\n          <v-scroll-y-transition mode=\"out-in\">\n            <v-card\n              v-if='activeJurisdiction.id'\n              flat\n            >\n              <v-card-title primary-title>\n                <v-layout\n                  row\n                  wrap\n                >\n                  <v-flex>\n                    <b>\n                      <center>Facilities Under {{activeJurisdiction.text}}</center>\n                    </b>\n                  </v-flex>\n                  <v-spacer></v-spacer>\n                  <v-flex>\n                    <v-text-field\n                      v-model=\"searchBuildings\"\n                      append-icon=\"search\"\n                      label=\"Search Facility\"\n                      single-line\n                      hide-details\n                    ></v-text-field>\n                  </v-flex>\n                </v-layout>\n              </v-card-title>\n              <v-card-text>\n                <v-data-table\n                  :loading=\"loadingBuildings\"\n                  :headers=\"buildingsHeaders\"\n                  :items=\"buildings\"\n                  :search=\"searchBuildings\"\n                  class=\"elevation-1\"\n                >\n                  <template\n                    slot=\"items\"\n                    slot-scope=\"props\"\n                  >\n                    <td>\n                      <v-tooltip top>\n                        <v-btn\n                          v-if=\"canEditBuilding(props.item)\"\n                          icon\n                          color=\"primary\"\n                          slot=\"activator\"\n                          @click=\"edit(props.item)\"\n                        >\n                          <v-icon>edit</v-icon>\n                        </v-btn>\n                        <span>Edit</span>\n                      </v-tooltip>\n                      <v-tooltip\n                        top\n                        v-if=\"action === 'request'\"\n                      >\n                        <v-btn\n                          v-if=\"canChangeRequestStatus(props.item, 'approve')\"\n                          icon\n                          color=\"success\"\n                          slot=\"activator\"\n                          @click=\"changeRequestStatus(props.item, 'approved', true)\"\n                        >\n                          <v-icon>check_circle</v-icon>\n                        </v-btn>\n                        <span>Approve</span>\n                      </v-tooltip>\n                      <v-tooltip\n                        top\n                        v-if=\"action === 'request'\"\n                      >\n                        <v-btn\n                          v-if=\"canChangeRequestStatus(props.item, 'reject')\"\n                          icon\n                          color=\"error\"\n                          slot=\"activator\"\n                          @click=\"changeRequestStatus(props.item, 'rejected', true)\"\n                        >\n                          <v-icon>cancel</v-icon>\n                        </v-btn>\n                        <span>Reject</span>\n                      </v-tooltip>\n                    </td>\n                    <td>{{props.item.name}}</td>\n                    <td>{{props.item.code}}</td>\n                    <td>{{props.item.parent.name}}</td>\n                    <td>{{props.item.type.text}}</td>\n                    <td>{{props.item.ownership.text}}</td>\n                    <td>{{props.item.status.text}}</td>\n                    <td>{{props.item.lat}}</td>\n                    <td>{{props.item.long}}</td>\n                    <td v-if=\"action === 'request' && requestCategory === 'requestsList'\">\n                      {{props.item.requestStatus}}\n                    </td>\n                  </template>\n                </v-data-table>\n              </v-card-text>\n            </v-card>\n            <template v-else-if=\"!loadingBuildings\">\n              <b>Select a jurisdiction on the left to display its facilities</b>\n            </template>\n          </v-scroll-y-transition>\n        </v-flex>\n      </v-layout>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport axios from 'axios'\nimport LiquorTree from 'liquor-tree'\nimport { required } from 'vuelidate/lib/validators'\nimport { generalMixin } from '../../mixins/generalMixin'\nimport {\n  tasksVerification\n} from '@/modules/tasksVerification'\nconst backendServer = process.env.BACKEND_SERVER\nexport default {\n  mixins: [generalMixin],\n  validations: {\n    name: { required }\n  },\n  props: ['action', 'requestType', 'requestCategory'],\n  data () {\n    return {\n      facilityId: '',\n      editDialog: false,\n      loadingTree: false,\n      loadingBuildings: false,\n      buildingsHeaders: [\n        { sortable: false },\n        { text: 'Name', value: 'name' },\n        { text: 'Code', value: 'code' },\n        { text: 'Parent', value: 'parent' },\n        { text: 'Facility Type', value: 'type' },\n        { text: 'Facility Ownership', value: 'ownership' },\n        { text: 'Status', value: 'status' },\n        { text: 'Latitude', value: 'latitude' },\n        { text: 'Longitude', value: 'longitude' }\n      ],\n      searchJurisdiction: '',\n      searchBuildings: '',\n      activeJurisdiction: {},\n      jurisdictionHierarchy: [],\n      buildings: [],\n      name: '',\n      alt_name: '',\n      code: '',\n      description: '',\n      facilityType: '',\n      types: [{\n        text: 'Clinic',\n        value: 'CLNC'\n      }, {\n        text: 'Dispensary',\n        value: 'DSPN'\n      }, {\n        text: 'Health Center',\n        value: 'HCNT'\n      }, {\n        text: 'Health Post',\n        value: 'HPST'\n      }, {\n        text: 'Hospital',\n        value: 'HOSP'\n      }],\n      ownerships: [{\n        text: 'Concesion',\n        value: 'CNCS'\n      }, {\n        text: 'Public',\n        value: 'PBLC'\n      }, {\n        text: 'Private',\n        value: 'PRVT'\n      }, {\n        text: 'Private Faith Based',\n        value: 'PFBO'\n      }, {\n        text: 'Private Not Profit',\n        value: 'PNPR'\n      }],\n      facilityOwnership: '',\n      status: [{\n        text: 'Functional',\n        value: 'active'\n      }, {\n        text: 'Not Functional',\n        value: 'inactive'\n      }, {\n        text: 'Suspended',\n        value: 'suspended'\n      }],\n      facilityStatus: '',\n      facilityParent: {},\n      lat: '',\n      long: '',\n      contact: {\n        email: '',\n        phone: '',\n        fax: '',\n        website: ''\n      },\n      requestStatus: '',\n      confirm: false,\n      confirmTitle: '',\n      tasksVerification: tasksVerification\n    }\n  },\n  methods: {\n    changeRequestStatus (item, status, isConfirm) {\n      if (isConfirm) {\n        this.requestStatus = status\n        let statusDisplay\n        if (status === 'approved') {\n          statusDisplay = 'approved'\n        } else if (status === 'rejected') {\n          statusDisplay = 'rejected'\n        }\n        this.confirm = true\n        this.confirmTitle = 'Are you sure that you want to mark facility ' + item.name + ' as ' + statusDisplay\n        this.facilityId = item.id\n      } else {\n        this.$store.state.progressTitle = 'Saving new status'\n        this.confirm = false\n        this.$store.state.dynamicProgress = true\n        let formData = new FormData()\n        formData.append('id', this.facilityId)\n        formData.append('status', this.requestStatus)\n        formData.append('requestType', this.requestType)\n        axios.post(backendServer + '/FR/changeBuildingRequestStatus', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }).then(() => {\n          this.$store.state.dynamicProgress = false\n          this.$store.state.errorTitle = 'Info'\n          this.$store.state.errorDescription = 'Request status changed successfully'\n          this.$store.state.dialogError = true\n          this.getBuildings()\n        }).catch((err) => {\n          this.$store.state.errorTitle = 'Error'\n          this.$store.state.errorDescription = 'This request was not successfully processed'\n          this.$store.state.dialogError = true\n          console.log(err)\n        })\n      }\n    },\n    canChangeRequestStatus (item, actionName) {\n      if (this.action !== 'request' || (this.action === 'request' && this.requestCategory !== 'requestsList')) {\n        return false\n      }\n      if (actionName === 'approve') {\n        if (item.requestStatus === 'Approved') {\n          return false\n        }\n      } else if (actionName === 'reject') {\n        if (item.requestStatus === 'Approved' || item.requestStatus === 'Rejected') {\n          return false\n        }\n      }\n      if ((this.requestType === 'update' && this.tasksVerification.canApprove('FacilitiesUpdateRequestsReport')) ||\n        (this.requestType === 'add' && this.tasksVerification.canApprove('NewFacilitiesRequestsReport')) ||\n        (this.requestType === 'update' && this.tasksVerification.canReject('FacilitiesUpdateRequestsReport')) ||\n        (this.requestType === 'add' && this.tasksVerification.canReject('NewFacilitiesRequestsReport'))) {\n        return true\n      } else {\n        return false\n      }\n    },\n    canEditBuilding (item) {\n      if (item.requestStatus === 'Approved' && this.requestCategory === 'requestsList') {\n        return false\n      }\n      if (this.tasksVerification.canEdit('FacilitiesReport') || this.tasksVerification.canAdd('RequestUpdateBuildingDetails')) {\n        return true\n      }\n      return false\n    },\n    getBuildings () {\n      this.facilities = []\n      this.buildings = []\n      this.loadingBuildings = true\n      axios.get(backendServer + '/FR/getBuildings', {\n        params: {\n          jurisdiction: this.activeJurisdiction.id,\n          action: this.action,\n          requestType: this.requestType,\n          requestCategory: this.requestCategory\n        }\n      }).then((response) => {\n        this.loadingBuildings = false\n        this.buildings = response.data\n      }).catch((err) => {\n        this.loadingBuildings = false\n        console.log(err)\n      })\n    },\n    selectedJurisdiction (node) {\n      this.activeJurisdiction = node\n      this.getBuildings()\n    },\n    selectedEditJurisdiction (node) {\n      this.facilityParent = node\n    },\n    edit (item) {\n      this.facilityId = item.id\n      this.facilityType = item.type.code\n      this.facilityStatus = item.status.code\n      this.facilityParent.id = item.parent.id\n      this.facilityParent.text = item.parent.name\n      this.facilityOwnership = item.ownership.code\n      this.name = item.name\n      this.alt_name = item.alt_name\n      this.code = item.code\n      this.lat = item.lat\n      this.long = item.long\n      this.contact.phone = item.phone\n      this.contact.email = item.email\n      this.contact.website = item.website\n      this.contact.fax = item.fax\n      this.description = item.description\n      this.editDialog = true\n    },\n    saveEdit () {\n      let formData = new FormData()\n      formData.append('id', this.facilityId)\n      formData.append('name', this.name)\n      formData.append('alt_name', this.alt_name)\n      formData.append('code', this.code)\n      formData.append('action', this.action)\n      formData.append('requestType', this.requestType)\n      formData.append('username', this.$store.state.auth.username)\n      if (this.facilityType) {\n        formData.append('type', this.facilityType)\n      }\n      if (this.facilityStatus) {\n        formData.append('status', this.facilityStatus)\n      }\n      if (this.facilityOwnership) {\n        formData.append('ownership', this.facilityOwnership)\n      }\n      if (this.lat) {\n        formData.append('lat', this.lat)\n      }\n      if (this.long) {\n        formData.append('long', this.long)\n      }\n      formData.append('contact', JSON.stringify(this.contact))\n      if (this.description) {\n        formData.append('description', this.description)\n      }\n      formData.append('parent', this.facilityParent.id)\n      this.$store.state.progressTitle = 'Saving Changes'\n      this.editDialog = false\n      this.$store.state.dynamicProgress = true\n      axios.post(backendServer + '/FR/addBuilding', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then((response) => {\n        this.$store.state.dynamicProgress = false\n        this.$store.state.errorTitle = 'Changes Saved'\n        this.$store.state.errorDescription = 'Changes saved successfully'\n        this.$store.state.dialogError = true\n        this.getBuildings()\n      }).catch((err) => {\n        this.$store.state.errorTitle = 'Failed To Save Changes'\n        this.$store.state.errorDescription = 'Failed To Save Changes'\n        this.$store.state.dialogError = true\n        console.log(err)\n      })\n    }\n  },\n  created () {\n    this.loadingTree = true\n    this.getTree(false, (err, tree) => {\n      if (!err) {\n        this.loadingTree = false\n        this.jurisdictionHierarchy = tree\n      } else {\n        this.loadingTree = false\n      }\n    })\n    if (this.action === 'request' && this.requestCategory === 'requestsList') {\n      this.buildingsHeaders.push({ text: 'Request Status', value: 'requestStatus' })\n    }\n  },\n  computed: {\n    nameErrors () {\n      const errors = []\n      if (!this.$v.name.$dirty) return errors\n      !this.$v.name.required && errors.push('Name is required')\n      return errors\n    }\n  },\n  components: {\n    'liquor-tree': LiquorTree\n  }\n}\n</script>"]}]}