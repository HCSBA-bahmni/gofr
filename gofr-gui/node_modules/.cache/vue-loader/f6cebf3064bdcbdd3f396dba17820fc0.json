{"remainingRequest":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/facility-recon-gui/src/components/FacilityRegistry/AddCodeSystem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/facility-recon-gui/src/components/FacilityRegistry/AddCodeSystem.vue","mtime":1619257194373},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/facility-recon-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnCmV4cG9ydCBkZWZhdWx0IHsKICB2YWxpZGF0aW9uczogewogICAgbmFtZTogeyByZXF1aXJlZCB9LAogICAgY29kZTogeyByZXF1aXJlZCB9CiAgfSwKICBwcm9wczogWydjb2RlU3lzdGVtVHlwZScsICdkaXNwbGF5VGV4dCddLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogJycsCiAgICAgIGNvZGU6ICcnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRTZXJ2aWNlVHlwZSAoKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIHRoaXMubmFtZSkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb2RlJywgdGhpcy5jb2RlKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvZGVTeXN0ZW1UeXBlJywgdGhpcy5jb2RlU3lzdGVtVHlwZSkKICAgICAgYXhpb3MucG9zdCgnL0ZSL2FkZENvZGVTeXN0ZW0nLCBmb3JtRGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LnNob3cgPSB0cnVlCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQud2lkdGggPSAnNTAwcHgnCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQubXNnID0gJ0NvZGUgc3lzdGVtIGFkZGVkIHN1Y2Nlc3NmdWxseSEnCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWxlcnQudHlwZSA9ICdzdWNjZXNzJwogICAgICAgIC8vIGluY3JlbWVudCBjb21wb25lbnQga2V5IHRvIGZvcmNlIGNvbXBvbmVudCByZWxvYWQKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlUm91dGVyVmlld0tleSArPSAxCiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hbGVydC5zaG93ID0gdHJ1ZQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0LndpZHRoID0gJzUwMHB4JwogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFsZXJ0Lm1zZyA9ICdGYWlsZWQgdG8gYWRkIGNvZGUgc3lzdGVtIScKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hbGVydC50eXBlID0gJ2Vycm9yJwogICAgICAgIC8vIGluY3JlbWVudCBjb21wb25lbnQga2V5IHRvIGZvcmNlIGNvbXBvbmVudCByZWxvYWQKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlUm91dGVyVmlld0tleSArPSAxCiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICB9KQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWVFcnJvcnMgKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXQogICAgICBpZiAoIXRoaXMuJHYubmFtZS4kZGlydHkpIHJldHVybiBlcnJvcnMKICAgICAgIXRoaXMuJHYubmFtZS5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnTmFtZSBpcyByZXF1aXJlZCcpCiAgICAgIHJldHVybiBlcnJvcnMKICAgIH0sCiAgICBjb2RlRXJyb3JzICgpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW10KICAgICAgaWYgKCF0aGlzLiR2LmNvZGUuJGRpcnR5KSByZXR1cm4gZXJyb3JzCiAgICAgICF0aGlzLiR2LmNvZGUucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0NvZGUgaXMgcmVxdWlyZWQnKQogICAgICByZXR1cm4gZXJyb3JzCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["AddCodeSystem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddCodeSystem.vue","sourceRoot":"src/components/FacilityRegistry","sourcesContent":["<template>\n  <v-container>\n    <v-card\n      class=\"pt-4 mx-auto\"\n      text\n      max-width=\"500\"\n    >\n      <v-card-title primary-title>\n        <b>Adding New {{displayText}}</b>\n      </v-card-title>\n      <v-card-text>\n        <v-card>\n          <v-form\n            ref=\"form\"\n            class=\"pa-3 pt-4\"\n          >\n            <v-text-field\n              required\n              @blur=\"$v.name.$touch()\"\n              @change=\"$v.name.$touch()\"\n              :error-messages=\"nameErrors\"\n              v-model=\"name\"\n              filled\n              color=\"deep-purple\"\n              label=\"Name\"\n            />\n            <v-text-field\n              required\n              @blur=\"$v.code.$touch()\"\n              @change=\"$v.code.$touch()\"\n              :error-messages=\"codeErrors\"\n              v-model=\"code\"\n              filled\n              color=\"deep-purple\"\n              label=\"Code\"\n            />\n          </v-form>\n          <v-card-actions>\n            <v-btn\n              text\n              @click=\"$store.state.baseRouterViewKey++\"\n            >\n              <v-icon>mdi-close</v-icon>Clear\n            </v-btn>\n            <v-spacer />\n            <v-btn\n              @click=\"addServiceType()\"\n              :disabled=\"$v.$invalid\"\n              class=\"white--text\"\n              color=\"deep-purple accent-4\"\n              depressed\n            >\n              <v-icon left>mdi-content-save</v-icon>Add\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-card-text>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport axios from 'axios'\nimport { required } from 'vuelidate/lib/validators'\nexport default {\n  validations: {\n    name: { required },\n    code: { required }\n  },\n  props: ['codeSystemType', 'displayText'],\n  data () {\n    return {\n      name: '',\n      code: ''\n    }\n  },\n  methods: {\n    addServiceType () {\n      let formData = new FormData()\n      formData.append('name', this.name)\n      formData.append('code', this.code)\n      formData.append('codeSystemType', this.codeSystemType)\n      axios.post('/FR/addCodeSystem', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(() => {\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '500px'\n        this.$store.state.alert.msg = 'Code system added successfully!'\n        this.$store.state.alert.type = 'success'\n        // increment component key to force component reload\n        this.$store.state.baseRouterViewKey += 1\n      }).catch((err) => {\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '500px'\n        this.$store.state.alert.msg = 'Failed to add code system!'\n        this.$store.state.alert.type = 'error'\n        // increment component key to force component reload\n        this.$store.state.baseRouterViewKey += 1\n        console.log(err)\n      })\n    }\n  },\n  computed: {\n    nameErrors () {\n      const errors = []\n      if (!this.$v.name.$dirty) return errors\n      !this.$v.name.required && errors.push('Name is required')\n      return errors\n    },\n    codeErrors () {\n      const errors = []\n      if (!this.$v.code.$dirty) return errors\n      !this.$v.code.required && errors.push('Code is required')\n      return errors\n    }\n  }\n}\n</script>"]}]}