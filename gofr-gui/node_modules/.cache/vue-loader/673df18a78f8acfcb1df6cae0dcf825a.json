{"remainingRequest":"/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ally/gofr/gofr-gui/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ally/gofr/gofr-gui/src/App.vue","mtime":1619595681253},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/babel-loader/lib/index.js","mtime":1619257191453},{"path":"/home/ally/gofr/gofr-gui/node_modules/cache-loader/dist/cjs.js","mtime":1619257191457},{"path":"/home/ally/gofr/gofr-gui/node_modules/vue-loader/lib/index.js","mtime":1619257191305}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IE1lbnUgZnJvbSAnQC9jb21wb25lbnRzL21lbnUnCmltcG9ydCB7IHNjb3Jlc01peGluIH0gZnJvbSAnLi9taXhpbnMvc2NvcmVzTWl4aW4nCmltcG9ydCB7IGdlbmVyYWxNaXhpbiB9IGZyb20gJy4vbWl4aW5zL2dlbmVyYWxNaXhpbicKaW1wb3J0IHsgZGF0YVNvdXJjZVBhaXJNaXhpbiB9IGZyb20gJy4vY29tcG9uZW50cy9EYXRhU291cmNlc1BhaXIvZGF0YVNvdXJjZVBhaXJNaXhpbicKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICcuL21haW4nCmltcG9ydCB7IHV1aWQgfSBmcm9tICd2dWUtdXVpZCcKaW1wb3J0IFZ1ZUNvb2tpZXMgZnJvbSAndnVlLWNvb2tpZXMnCmltcG9ydCB7CiAgdGFza3NWZXJpZmljYXRpb24KfSBmcm9tICcuL21vZHVsZXMvdGFza3NWZXJpZmljYXRpb24nCgpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbZGF0YVNvdXJjZVBhaXJNaXhpbiwgc2NvcmVzTWl4aW4sIGdlbmVyYWxNaXhpbl0sCiAgcHJvcHM6IFsnZ2VuZXJhbENvbmZpZyddLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFsKICAgICAgICB7IHRpdGxlOiAnQ2xpY2sgTWUnIH0sCiAgICAgICAgeyB0aXRsZTogJ0NsaWNrIE1lJyB9LAogICAgICAgIHsgdGl0bGU6ICdDbGljayBNZScgfSwKICAgICAgICB7IHRpdGxlOiAnQ2xpY2sgTWUgMicgfQogICAgICBdLAogICAgICBmaXhlZDogZmFsc2UsCiAgICAgIHRpdGxlOiB0aGlzLiR0KCdBcHAudGl0bGUnKSwKICAgICAgbG9jYWxlOiAnZW4nLAogICAgICBsb2NhbGVzOiBbCiAgICAgICAgeyB0ZXh0OiAnRW5nbGlzaCcsIHZhbHVlOiAnZW4nIH0sCiAgICAgICAgeyB0ZXh0OiAnRnJlbmNoJywgdmFsdWU6ICdmcicgfQogICAgICBdLAogICAgICBhY3RpdmVEYXRhU291cmNlUGFpcjoge30sCiAgICAgIHRhc2tzVmVyaWZpY2F0aW9uOiB0YXNrc1ZlcmlmaWNhdGlvbgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGxvY2FsZSAodmFsKSB7CiAgICAgIHRoaXMuJGkxOG4ubG9jYWxlID0gdmFsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZ0Vycm9yICgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JDb2xvciA9ICdwcmltYXJ5JwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kaWFsb2dFcnJvciA9IGZhbHNlCiAgICB9LAogICAgcmVuZGVySW5pdGlhbFBhZ2UgKCkgewogICAgICBsZXQgc291cmNlMSA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMS5uYW1lCiAgICAgIGxldCBzb3VyY2UyID0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyLm5hbWUKICAgICAgaWYgKAogICAgICAgICghc291cmNlMSB8fCAhc291cmNlMikgJiYKICAgICAgICAodGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZXMubGVuZ3RoID4gMSB8fAogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZVBhaXJzLmxlbmd0aCA+IDApCiAgICAgICkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0RhdGFTb3VyY2VzUGFpcicgfSkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAoIXNvdXJjZTEgfHwgIXNvdXJjZTIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdBZGREYXRhU291cmNlcycgfSkKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBzb3VyY2UxID0gdGhpcy50b1RpdGxlQ2FzZShzb3VyY2UxKQogICAgICBzb3VyY2UyID0gdGhpcy50b1RpdGxlQ2FzZShzb3VyY2UyKQoKICAgICAgbGV0IHNvdXJjZXNPd25lciA9IHRoaXMuZ2V0RGF0YXNvdXJjZU93bmVyKCkKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KAogICAgICAgICAgJy91cGxvYWRBdmFpbGFibGUvJyArCiAgICAgICAgICBzb3VyY2UxICsKICAgICAgICAgICcvJyArCiAgICAgICAgICBzb3VyY2UyICsKICAgICAgICAgICcvJyArCiAgICAgICAgICBzb3VyY2VzT3duZXIuc291cmNlMU93bmVyICsKICAgICAgICAgICcvJyArCiAgICAgICAgICBzb3VyY2VzT3duZXIuc291cmNlMk93bmVyCiAgICAgICAgKQogICAgICAgIC50aGVuKHJlc3VsdHMgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuaW5pdGlhbGl6aW5nQXBwID0gZmFsc2UKICAgICAgICAgIGlmIChyZXN1bHRzLmRhdGEuZGF0YVVwbG9hZGVkKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY2FsY3VsYXRlU2NvcmVzID0gdHJ1ZQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdGYWNpbGl0eVJlY29uU2NvcmVzJyB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnQWRkRGF0YVNvdXJjZXMnIH0pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0FkZERhdGFTb3VyY2VzJyB9KQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0VG90YWxMZXZlbHMgKCkgewogICAgICBsZXQgc291cmNlMSA9IHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMS5uYW1lCiAgICAgIGxldCBzb3VyY2UyID0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyLm5hbWUKICAgICAgaWYgKCFzb3VyY2UxIHx8ICFzb3VyY2UyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudG90YWxTb3VyY2UxTGV2ZWxzID0gNQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRvdGFsU291cmNlMkxldmVscyA9IDUKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5pbml0aWFsaXppbmdBcHAgPSBmYWxzZQogICAgICAgIHRoaXMucmVuZGVySW5pdGlhbFBhZ2UoKQogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY29MZXZlbCA9IDIKICAgICAgICB0aGlzLmdldFJlY29TdGF0dXMoKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHNvdXJjZTEgPSB0aGlzLnRvVGl0bGVDYXNlKHNvdXJjZTEpCiAgICAgIHNvdXJjZTIgPSB0aGlzLnRvVGl0bGVDYXNlKHNvdXJjZTIpCiAgICAgIGxldCBzb3VyY2VzT3duZXIgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldERhdGFzb3VyY2VPd25lcigpKQogICAgICBsZXQgc291cmNlc0xpbWl0T3JnSWQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmdldExpbWl0T3JnSWRPbkFjdGl2ZVBhaXIoKSkKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCcvY291bnRMZXZlbHMvJyArIHNvdXJjZTEgKyAnLycgKyBzb3VyY2UyICsgJy8nICsgc291cmNlc093bmVyICsgJy8nICsgc291cmNlc0xpbWl0T3JnSWQpCiAgICAgICAgLnRoZW4obGV2ZWxzID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxldmVsTWFwcGluZy5zb3VyY2UxID0gbGV2ZWxzLmRhdGEubGV2ZWxNYXBwaW5nLmxldmVsTWFwcGluZzEKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxldmVsTWFwcGluZy5zb3VyY2UyID0gbGV2ZWxzLmRhdGEubGV2ZWxNYXBwaW5nLmxldmVsTWFwcGluZzIKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnRvdGFsU291cmNlMUxldmVscyA9IGxldmVscy5kYXRhLnRvdGFsU291cmNlMUxldmVscwogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudG90YWxTb3VyY2UyTGV2ZWxzID0gbGV2ZWxzLmRhdGEudG90YWxTb3VyY2UyTGV2ZWxzCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yZWNvTGV2ZWwgPSAyCiAgICAgICAgICB0aGlzLnJlbmRlckluaXRpYWxQYWdlKCkKICAgICAgICAgIHRoaXMuZ2V0UmVjb1N0YXR1cygpCiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUucmVjb0xldmVsID0gMgogICAgICAgICAgdGhpcy5yZW5kZXJJbml0aWFsUGFnZSgpCiAgICAgICAgICB0aGlzLmdldFJlY29TdGF0dXMoKQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0UmVjb1N0YXR1cyAoKSB7CiAgICAgIGlmICgKICAgICAgICBPYmplY3Qua2V5cyh0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEpLmxlbmd0aCA9PT0gMCB8fAogICAgICAgIE9iamVjdC5rZXlzKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMikubGVuZ3RoID09PSAwCiAgICAgICkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGxldCBzb3VyY2UxID0gdGhpcy50b1RpdGxlQ2FzZSh0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEubmFtZSkKICAgICAgbGV0IHNvdXJjZTIgPSB0aGlzLnRvVGl0bGVDYXNlKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi5uYW1lKQogICAgICBsZXQgdXNlcklEID0gdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci51c2VySUQuX2lkCiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgKICAgICAgICAgICcvcmVjb1N0YXR1cy8nICsKICAgICAgICAgIHNvdXJjZTEgKwogICAgICAgICAgJy8nICsKICAgICAgICAgIHNvdXJjZTIgKwogICAgICAgICAgJy8nICsKICAgICAgICAgIHVzZXJJRAogICAgICAgICkKICAgICAgICAudGhlbihzdGF0dXMgPT4gewogICAgICAgICAgaWYgKHN0YXR1cy5kYXRhLnN0YXR1cykgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5yZWNvU3RhdHVzID0gc3RhdHVzLmRhdGEuc3RhdHVzCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgIC5nZXQoCiAgICAgICAgICAgICAgICAnL21hcmtSZWNvVW5Eb25lLycgKwogICAgICAgICAgICAgICAgc291cmNlMSArCiAgICAgICAgICAgICAgICAnLycgKwogICAgICAgICAgICAgICAgc291cmNlMiArCiAgICAgICAgICAgICAgICAnLycgKwogICAgICAgICAgICAgICAgdXNlcklECiAgICAgICAgICAgICAgKQogICAgICAgICAgICAgIC50aGVuKHN0YXR1cyA9PiB7CiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY29TdGF0dXMgPSBzdGF0dXMuZGF0YS5zdGF0dXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3IpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3IpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXREYXRhU291cmNlcyAoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmdTZXJ2ZXJzID0gdHJ1ZQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcyA9IFtdCiAgICAgIGxldCB1c2VySUQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRAogICAgICBsZXQgcm9sZSA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgucm9sZQogICAgICBsZXQgb3JnSWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCcvZ2V0RGF0YVNvdXJjZXMvJyArIHVzZXJJRCArICcvJyArIHJvbGUgKyAnLycgKyBvcmdJZCkKICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sb2FkaW5nU2VydmVycyA9IGZhbHNlCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlcyA9IHJlc3BvbnNlLmRhdGEuc2VydmVycwogICAgICAgICAgdGhpcy5nZXREYXRhU291cmNlUGFpcigpCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmdTZXJ2ZXJzID0gZmFsc2UKICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGVycikpCiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRVc2VyQ29uZmlnICgpIHsKICAgICAgbGV0IHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklECiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnL2dldFVzZXJDb25maWcvJyArIHVzZXJJRCkKICAgICAgICAudGhlbihjb25maWcgPT4gewogICAgICAgICAgaWYgKGNvbmZpZy5kYXRhKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmNvbmZpZy51c2VyQ29uZmlnID0geyAuLi50aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcudXNlckNvbmZpZywgLi4uY29uZmlnLmRhdGEgfQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZXRHZW5lcmFsQ29uZmlnKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5nZXREYXRhU291cmNlcygpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuZ2V0R2VuZXJhbENvbmZpZygoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZXMoKQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgfSwKICAgIGdldERhdGFTb3VyY2VQYWlyICgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxID0ge30KICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyID0ge30KICAgICAgbGV0IHVzZXJJRCA9IHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklECiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaW5pdGlhbGl6aW5nQXBwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuaW5pdGlhbGl6aW5nQXBwID0gdHJ1ZQogICAgICB9CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnL2dldERhdGFTb3VyY2VQYWlyLycgKyB1c2VySUQgKyAnLycgKyB0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGF0YVNvdXJjZVBhaXJzID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgbGV0IGFjdGl2ZVNvdXJjZSA9IHRoaXMuZ2V0QWN0aXZlRGF0YVNvdXJjZVBhaXIoKQogICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2ZVNvdXJjZSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEuaWQgPSBhY3RpdmVTb3VyY2Uuc291cmNlMS5faWQKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UxLm5hbWUgPSBhY3RpdmVTb3VyY2Uuc291cmNlMS5uYW1lCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMS51c2VySUQgPSBhY3RpdmVTb3VyY2Uuc291cmNlMS51c2VySUQKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci5zb3VyY2UyLmlkID0gYWN0aXZlU291cmNlLnNvdXJjZTIuX2lkCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMi5uYW1lID0gYWN0aXZlU291cmNlLnNvdXJjZTIubmFtZQogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTIudXNlcklEID0gYWN0aXZlU291cmNlLnNvdXJjZTIudXNlcklECiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuX2lkID0gYWN0aXZlU291cmNlLl9pZAogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNoYXJlZCA9IGFjdGl2ZVNvdXJjZS5zaGFyZWQKICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYWN0aXZlUGFpci51c2VySUQgPSBhY3RpdmVTb3VyY2UudXNlcklECiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmF1dG9BY3RpdmF0ZURhdGFzb3VyY2VQYWlyKChjcmVhdGVkKSA9PiB7CiAgICAgICAgICAgIGlmICghY3JlYXRlZCkgewogICAgICAgICAgICAgIHRoaXMuYXV0b0NyZWF0ZURhdGFzb3VyY2VQYWlyKCkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuZ2V0VG90YWxMZXZlbHMoKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnIpKQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRXJyb3IgPSB0cnVlCiAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvclRpdGxlID0gJ0Vycm9yJwogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3JEZXNjcmlwdGlvbiA9ICdBbiBlcnJvciBvY2N1cmVkIHdoaWxlIGdldHRpbmcgZGF0YSBzb3VyY2UgcGFpcnMsIHJlbG9hZCB0aGUgYXBwIHRvIHJldHJ5JwogICAgICAgICAgdGhpcy5nZXRUb3RhbExldmVscygpCiAgICAgICAgfSkKICAgIH0sCiAgICBhdXRvQ3JlYXRlRGF0YXNvdXJjZVBhaXIgKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcucmVjb25jaWxpYXRpb24uc2luZ2xlRGF0YVNvdXJjZSkgewogICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLiRzdG9yZS5zdGF0ZS5hY3RpdmVQYWlyLnNvdXJjZTEpLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgICBsZXQgZml4ZWRTb3VyY2UyVG8gPSB0aGlzLiRzdG9yZS5zdGF0ZS5jb25maWcuZ2VuZXJhbENvbmZpZy5yZWNvbmNpbGlhdGlvbi5maXhTb3VyY2UyVG8KICAgICAgICBsZXQgc291cmNlMSA9IHt9CiAgICAgICAgbGV0IHNvdXJjZTIgPSB7fQogICAgICAgIGxldCB1c2VySUQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnVzZXJJRAogICAgICAgIGxldCBvcmdJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLmRoaXMudXNlci5vcmdJZAogICAgICAgIGxldCBkYXRhc291cmNlcyA9IFtdCiAgICAgICAgZm9yIChsZXQgc291cmNlIG9mIHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VzKSB7CiAgICAgICAgICBsZXQgc2hhcmVkVG9NZSA9IHNvdXJjZS5zaGFyZWQudXNlcnMuZmluZCgodXNlcikgPT4gewogICAgICAgICAgICByZXR1cm4gdXNlci5faWQgPT09IHVzZXJJRAogICAgICAgICAgfSkKICAgICAgICAgIGxldCBpdHNNaW5lID0gc291cmNlLm93bmVyLmlkID09PSB1c2VySUQKICAgICAgICAgIGxldCBzaGFyZWRUb0FsbCA9IHNvdXJjZS5zaGFyZVRvQWxsLmFjdGl2YXRlZCA9PT0gdHJ1ZQogICAgICAgICAgbGV0IHNhbWVPcmdJZCA9IGZhbHNlCiAgICAgICAgICBpZiAoc291cmNlLm93bmVyLm9yZ0lkICYmIHNvdXJjZS5vd25lci5vcmdJZCA9PT0gb3JnSWQpIHsKICAgICAgICAgICAgc2FtZU9yZ0lkID0gdHJ1ZQogICAgICAgICAgfQogICAgICAgICAgaWYgKCFpdHNNaW5lICYmICFzaGFyZWRUb01lICYmICFzaGFyZWRUb0FsbCAmJiAhc2FtZU9yZ0lkKSB7CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc291cmNlLl9pZCA9PT0gZml4ZWRTb3VyY2UyVG8pIHsKICAgICAgICAgICAgc291cmNlMiA9IHNvdXJjZQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc291cmNlMSA9IHNvdXJjZQogICAgICAgICAgfQogICAgICAgICAgZGF0YXNvdXJjZXMucHVzaChzb3VyY2UpCiAgICAgICAgfQogICAgICAgIGlmIChkYXRhc291cmNlcy5sZW5ndGggPiAyIHx8IE9iamVjdC5rZXlzKHNvdXJjZTEpLmxlbmd0aCA9PT0gMCB8fCBPYmplY3Qua2V5cyhzb3VyY2UyKS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgICB0aGlzLmNyZWF0ZURhdGFzb3VyY2VQYWlyKHNvdXJjZTEsIHNvdXJjZTIpCiAgICAgIH0KICAgIH0sCiAgICBhdXRvQWN0aXZhdGVEYXRhc291cmNlUGFpciAoY2FsbGJhY2spIHsKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuJHN0b3JlLnN0YXRlLmFjdGl2ZVBhaXIuc291cmNlMSkubGVuZ3RoID4gMCkgewogICAgICAgIGxldCB2YWwgPSBmYWxzZQogICAgICAgIHJldHVybiBjYWxsYmFjayh2YWwpCiAgICAgIH0KICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VQYWlycy5sZW5ndGggPiAxIHx8IHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VQYWlycy5sZW5ndGggPT09IDApIHsKICAgICAgICBsZXQgdmFsID0gZmFsc2UKICAgICAgICByZXR1cm4gY2FsbGJhY2sodmFsKQogICAgICB9CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5kaGlzLnVzZXIub3JnSWQgJiYgdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcucmVjb25jaWxpYXRpb24uc2luZ2xlUGFpcikgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFTb3VyY2VQYWlycy5zdGF0dXMgPSAnYWN0aXZlJwogICAgICAgIHRoaXMuYWN0aXZlRGF0YVNvdXJjZVBhaXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhU291cmNlUGFpcnNbMF0KICAgICAgICBsZXQgdmFsID0gdHJ1ZQogICAgICAgIGNhbGxiYWNrKHZhbCkKICAgICAgICB0aGlzLmFjdGl2YXRlUGFpcigpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHZhbCA9IGZhbHNlCiAgICAgICAgY2FsbGJhY2sodmFsKQogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZGhpc0xpbmsgKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZGhpcy51c2VyLm9yZ0lkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgJ2FwcE1lbnUnOiBNZW51CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0FkZERhdGFTb3VyY2VzJyB9KQogICAgdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcgPSB0aGlzLmdlbmVyYWxDb25maWcKICAgIGlmIChWdWVDb29raWVzLmdldCgndG9rZW4nKSAmJiBWdWVDb29raWVzLmdldCgndXNlcklEJykpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC50b2tlbiA9IFZ1ZUNvb2tpZXMuZ2V0KCd0b2tlbicpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcklEID0gVnVlQ29va2llcy5nZXQoJ3VzZXJJRCcpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcm5hbWUgPSBWdWVDb29raWVzLmdldCgndXNlcm5hbWUnKQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnJvbGUgPSBWdWVDb29raWVzLmdldCgncm9sZScpCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudGFza3MgPSBKU09OLnBhcnNlKFZ1ZUNvb2tpZXMuZ2V0KCd0YXNrcycpKQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zaWdudXBGaWVsZHMgPSBWdWVDb29raWVzLmdldCgnc2lnbnVwRmllbGRzJykKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY3VzdG9tU2lnbnVwRmllbGRzID0gVnVlQ29va2llcy5nZXQoJ2N1c3RvbVNpZ251cEZpZWxkcycpCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlnLmdlbmVyYWxDb25maWcuYXV0aERpc2FibGVkKSB7CiAgICAgICAgYXhpb3MuZ2V0KCcvaXNUb2tlbkFjdGl2ZS8nKS50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIHdpbGwgY29tZSBoZXJlIG9ubHkgaWYgdGhlIHRva2VuIGlzIGFjdGl2ZQogICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY2xpZW50SWQgPSB1dWlkLnY0KCkKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmluaXRpYWxpemluZ0FwcCA9IHRydWUKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmRlbnlBY2Nlc3MgPSBmYWxzZQogICAgICAgICAgdGhpcy5nZXRVc2VyQ29uZmlnKCkKICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCdsb2dpbicpCiAgICAgIH0KICAgIH0KCiAgICBldmVudEJ1cy4kb24oJ3JlZnJlc2hBcHAnLCAoKSA9PiB7CiAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZXMoKQogICAgfSkKICAgIGV2ZW50QnVzLiRvbigncmVjYWxjdWxhdGVTY29yZXMnLCAoKSA9PiB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnJlY2FsY3VsYXRlU2NvcmVzID0gdHJ1ZQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdGYWNpbGl0eVJlY29uU2NvcmVzJyB9KQogICAgfSkKICAgIGV2ZW50QnVzLiRvbignZ2V0RGF0YVNvdXJjZXMnLCAoKSA9PiB7CiAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZXMoKQogICAgfSkKICAgIGV2ZW50QnVzLiRvbignZ2V0Q29uZmlnJywgKCkgPT4gewogICAgICB0aGlzLmdldFVzZXJDb25maWcoKQogICAgfSkKICAgIGV2ZW50QnVzLiRvbignZ2V0R2VuZXJhbENvbmZpZycsICgpID0+IHsKICAgICAgdGhpcy5nZXRHZW5lcmFsQ29uZmlnKCkKICAgIH0pCiAgICBldmVudEJ1cy4kb24oJ2dldERhdGFTb3VyY2VQYWlyJywgKCkgPT4gewogICAgICB0aGlzLmdldERhdGFTb3VyY2VQYWlyKCkKICAgIH0pCiAgfSwKICBuYW1lOiAnQXBwJwp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app>\n    <v-app-bar\n      color=\"primary\"\n      dark\n      app\n      clipped-left\n      clipped-right\n    >\n      <v-toolbar-title v-text=\"title\"></v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-toolbar-items v-if=\"$store.state.auth.token || $store.state.config.generalConfig.authDisabled\">\n        <v-btn\n          flat\n          :href=\"dhisLink\"\n          v-if='dhisLink'\n        >\n          <img src=\"./assets/dhis2.png\" />\n        </v-btn>\n        <appMenu></appMenu>\n      </v-toolbar-items>\n      <v-spacer></v-spacer>\n      <v-toolbar-items>\n\n      </v-toolbar-items>\n    </v-app-bar>\n    <v-main>\n      <v-dialog\n        v-model=\"$store.state.dynamicProgress\"\n        persistent\n        width=\"300\"\n      >\n        <v-card\n          color=\"primary\"\n          dark\n        >\n          <v-card-text>\n            {{$store.state.progressTitle}}\n            <v-progress-linear\n              indeterminate\n              color=\"white\"\n              class=\"mb-0\"\n            ></v-progress-linear>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n        persistent\n        v-model=\"$store.state.dialogError\"\n        max-width=\"500px\"\n      >\n        <v-card>\n          <v-toolbar\n            :color=\"$store.state.errorColor\"\n            dark\n          >\n            <v-toolbar-title>\n              {{$store.state.errorTitle}}\n            </v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-btn\n              icon\n              dark\n              @click.native=\"$store.state.dialogError = false\"\n            >\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n          </v-toolbar>\n          <v-card-text>\n            {{$store.state.errorDescription}}\n          </v-card-text>\n          <v-card-actions>\n            <v-btn\n              color=\"primary\"\n              @click.native=\"closeDialogError\"\n            >Ok</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n      <v-dialog\n        v-model=\"$store.state.initializingApp\"\n        persistent\n        width=\"300\"\n      >\n        <v-card\n          color=\"primary\"\n          dark\n        >\n          <v-card-text>\n            {{ $t('App.initApp') }}\n            <v-progress-linear\n              indeterminate\n              color=\"white\"\n              class=\"mb-0\"\n            ></v-progress-linear>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n      <v-row>\n        <v-col>\n          <template v-if=\"Object.keys($store.state.activePair.source1).length > 0 && !$store.state.denyAccess\">\n            {{ $t('App.source') }} 1: <b>{{$store.state.activePair.source1.name}}</b>, &nbsp; &nbsp; {{ $t('App.source') }} 2: <b>{{$store.state.activePair.source2.name}}</b>,\n            &nbsp; &nbsp; Recon Status: <v-icon\n              small\n              v-if=\"$store.state.recoStatus === 'in-progress'\"\n            >mdi-lock-open-variant-outline</v-icon>\n            <v-icon\n              small\n              v-else\n            >mdi-lock-outline</v-icon> <b>{{$store.state.recoStatus}}</b>\n          </template>\n        </v-col>\n        <v-col cols=\"2\">\n          <v-select\n            :items=\"locales\"\n            v-model=\"locale\"\n          ></v-select>\n        </v-col>\n      </v-row>\n      <center>\n        <v-alert\n          :style=\"{width: $store.state.alert.width}\"\n          v-model=\"$store.state.alert.show\"\n          :type=\"$store.state.alert.type\"\n          :dismissible=\"$store.state.alert.dismisible\"\n          :transition=\"$store.state.alert.transition\"\n        >\n          {{$store.state.alert.msg}}\n        </v-alert>\n      </center>\n      <v-layout\n        row\n        wrap\n      >\n        <v-flex xs4>\n\n        </v-flex>\n        <v-spacer></v-spacer>\n        <v-flex xs1>\n\n        </v-flex>\n      </v-layout>\n      <router-view :key='\"baseRouterViewKey\" + $store.state.baseRouterViewKey'></router-view>\n    </v-main>\n    <v-footer\n      dark\n      color=\"primary\"\n      :fixed=\"fixed\"\n      app\n    >\n\n    </v-footer>\n  </v-app>\n</template>\n<script>\nimport axios from 'axios'\nimport Menu from '@/components/menu'\nimport { scoresMixin } from './mixins/scoresMixin'\nimport { generalMixin } from './mixins/generalMixin'\nimport { dataSourcePairMixin } from './components/DataSourcesPair/dataSourcePairMixin'\nimport { eventBus } from './main'\nimport { uuid } from 'vue-uuid'\nimport VueCookies from 'vue-cookies'\nimport {\n  tasksVerification\n} from './modules/tasksVerification'\n\nexport default {\n  mixins: [dataSourcePairMixin, scoresMixin, generalMixin],\n  props: ['generalConfig'],\n  data () {\n    return {\n      items: [\n        { title: 'Click Me' },\n        { title: 'Click Me' },\n        { title: 'Click Me' },\n        { title: 'Click Me 2' }\n      ],\n      fixed: false,\n      title: this.$t('App.title'),\n      locale: 'en',\n      locales: [\n        { text: 'English', value: 'en' },\n        { text: 'French', value: 'fr' }\n      ],\n      activeDataSourcePair: {},\n      tasksVerification: tasksVerification\n    }\n  },\n  watch: {\n    locale (val) {\n      this.$i18n.locale = val\n    }\n  },\n  methods: {\n    closeDialogError () {\n      this.$store.state.errorColor = 'primary'\n      this.$store.state.dialogError = false\n    },\n    renderInitialPage () {\n      let source1 = this.$store.state.activePair.source1.name\n      let source2 = this.$store.state.activePair.source2.name\n      if (\n        (!source1 || !source2) &&\n        (this.$store.state.dataSources.length > 1 ||\n          this.$store.state.dataSourcePairs.length > 0)\n      ) {\n        this.$router.push({ name: 'DataSourcesPair' })\n        return\n      }\n      if (!source1 || !source2) {\n        this.$router.push({ name: 'AddDataSources' })\n        return\n      }\n      source1 = this.toTitleCase(source1)\n      source2 = this.toTitleCase(source2)\n\n      let sourcesOwner = this.getDatasourceOwner()\n      axios\n        .get(\n          '/uploadAvailable/' +\n          source1 +\n          '/' +\n          source2 +\n          '/' +\n          sourcesOwner.source1Owner +\n          '/' +\n          sourcesOwner.source2Owner\n        )\n        .then(results => {\n          this.$store.state.initializingApp = false\n          if (results.data.dataUploaded) {\n            this.$store.state.recalculateScores = true\n            this.$router.push({ name: 'FacilityReconScores' })\n          } else {\n            this.$router.push({ name: 'AddDataSources' })\n          }\n        })\n        .catch(err => {\n          console.log(err)\n          this.$router.push({ name: 'AddDataSources' })\n        })\n    },\n    getTotalLevels () {\n      let source1 = this.$store.state.activePair.source1.name\n      let source2 = this.$store.state.activePair.source2.name\n      if (!source1 || !source2) {\n        this.$store.state.totalSource1Levels = 5\n        this.$store.state.totalSource2Levels = 5\n        this.$store.state.initializingApp = false\n        this.renderInitialPage()\n        this.$store.state.recoLevel = 2\n        this.getRecoStatus()\n        return\n      }\n      source1 = this.toTitleCase(source1)\n      source2 = this.toTitleCase(source2)\n      let sourcesOwner = JSON.stringify(this.getDatasourceOwner())\n      let sourcesLimitOrgId = JSON.stringify(this.getLimitOrgIdOnActivePair())\n      axios\n        .get('/countLevels/' + source1 + '/' + source2 + '/' + sourcesOwner + '/' + sourcesLimitOrgId)\n        .then(levels => {\n          this.$store.state.levelMapping.source1 = levels.data.levelMapping.levelMapping1\n          this.$store.state.levelMapping.source2 = levels.data.levelMapping.levelMapping2\n          this.$store.state.totalSource1Levels = levels.data.totalSource1Levels\n          this.$store.state.totalSource2Levels = levels.data.totalSource2Levels\n          this.$store.state.recoLevel = 2\n          this.renderInitialPage()\n          this.getRecoStatus()\n        }).catch((err) => {\n          console.log(err)\n          this.$store.state.recoLevel = 2\n          this.renderInitialPage()\n          this.getRecoStatus()\n        })\n    },\n    getRecoStatus () {\n      if (\n        Object.keys(this.$store.state.activePair.source1).length === 0 ||\n        Object.keys(this.$store.state.activePair.source2).length === 0\n      ) {\n        return\n      }\n      let source1 = this.toTitleCase(this.$store.state.activePair.source1.name)\n      let source2 = this.toTitleCase(this.$store.state.activePair.source2.name)\n      let userID = this.$store.state.activePair.userID._id\n      axios\n        .get(\n          '/recoStatus/' +\n          source1 +\n          '/' +\n          source2 +\n          '/' +\n          userID\n        )\n        .then(status => {\n          if (status.data.status) {\n            this.$store.state.recoStatus = status.data.status\n          } else {\n            axios\n              .get(\n                '/markRecoUnDone/' +\n                source1 +\n                '/' +\n                source2 +\n                '/' +\n                userID\n              )\n              .then(status => {\n                if (status.data.status) {\n                  this.$store.state.recoStatus = status.data.status\n                }\n              })\n              .catch(err => {\n                console.log(err.response.data.error)\n              })\n          }\n        })\n        .catch(err => {\n          console.log(err.response.data.error)\n        })\n    },\n    getDataSources () {\n      this.$store.state.loadingServers = true\n      this.$store.state.dataSources = []\n      let userID = this.$store.state.auth.userID\n      let role = this.$store.state.auth.role\n      let orgId = this.$store.state.dhis.user.orgId\n      axios\n        .get('/getDataSources/' + userID + '/' + role + '/' + orgId)\n        .then(response => {\n          this.$store.state.loadingServers = false\n          this.$store.state.dataSources = response.data.servers\n          this.getDataSourcePair()\n        })\n        .catch(err => {\n          this.$store.state.loadingServers = false\n          console.log(JSON.stringify(err))\n        })\n    },\n    getUserConfig () {\n      let userID = this.$store.state.auth.userID\n      axios\n        .get('/getUserConfig/' + userID)\n        .then(config => {\n          if (config.data) {\n            this.$store.state.config.userConfig = { ...this.$store.state.config.userConfig, ...config.data }\n          }\n          this.getGeneralConfig(() => {\n            this.getDataSources()\n          })\n        })\n        .catch(() => {\n          this.getGeneralConfig(() => {\n            this.getDataSources()\n          })\n        })\n    },\n    getDataSourcePair () {\n      this.$store.state.activePair.source1 = {}\n      this.$store.state.activePair.source2 = {}\n      let userID = this.$store.state.auth.userID\n      if (!this.$store.state.initializingApp) {\n        this.$store.state.initializingApp = true\n      }\n      axios\n        .get('/getDataSourcePair/' + userID + '/' + this.$store.state.dhis.user.orgId)\n        .then(response => {\n          this.$store.state.dataSourcePairs = response.data\n          let activeSource = this.getActiveDataSourcePair()\n          if (Object.keys(activeSource).length > 0) {\n            this.$store.state.activePair.source1.id = activeSource.source1._id\n            this.$store.state.activePair.source1.name = activeSource.source1.name\n            this.$store.state.activePair.source1.userID = activeSource.source1.userID\n            this.$store.state.activePair.source2.id = activeSource.source2._id\n            this.$store.state.activePair.source2.name = activeSource.source2.name\n            this.$store.state.activePair.source2.userID = activeSource.source2.userID\n            this.$store.state.activePair._id = activeSource._id\n            this.$store.state.activePair.shared = activeSource.shared\n            this.$store.state.activePair.userID = activeSource.userID\n          }\n          this.autoActivateDatasourcePair((created) => {\n            if (!created) {\n              this.autoCreateDatasourcePair()\n            }\n          })\n          this.getTotalLevels()\n        })\n        .catch(err => {\n          console.log(JSON.stringify(err))\n          this.$store.state.dialogError = true\n          this.$store.state.errorTitle = 'Error'\n          this.$store.state.errorDescription = 'An error occured while getting data source pairs, reload the app to retry'\n          this.getTotalLevels()\n        })\n    },\n    autoCreateDatasourcePair () {\n      if (this.$store.state.config.generalConfig.reconciliation.singleDataSource) {\n        if (Object.keys(this.$store.state.activePair.source1).length > 0) {\n          return false\n        }\n        let fixedSource2To = this.$store.state.config.generalConfig.reconciliation.fixSource2To\n        let source1 = {}\n        let source2 = {}\n        let userID = this.$store.state.auth.userID\n        let orgId = this.$store.state.dhis.user.orgId\n        let datasources = []\n        for (let source of this.$store.state.dataSources) {\n          let sharedToMe = source.shared.users.find((user) => {\n            return user._id === userID\n          })\n          let itsMine = source.owner.id === userID\n          let sharedToAll = source.shareToAll.activated === true\n          let sameOrgId = false\n          if (source.owner.orgId && source.owner.orgId === orgId) {\n            sameOrgId = true\n          }\n          if (!itsMine && !sharedToMe && !sharedToAll && !sameOrgId) {\n            continue\n          }\n          if (source._id === fixedSource2To) {\n            source2 = source\n          } else {\n            source1 = source\n          }\n          datasources.push(source)\n        }\n        if (datasources.length > 2 || Object.keys(source1).length === 0 || Object.keys(source2).length === 0) {\n          return false\n        }\n        this.createDatasourcePair(source1, source2)\n      }\n    },\n    autoActivateDatasourcePair (callback) {\n      if (Object.keys(this.$store.state.activePair.source1).length > 0) {\n        let val = false\n        return callback(val)\n      }\n      if (this.$store.state.dataSourcePairs.length > 1 || this.$store.state.dataSourcePairs.length === 0) {\n        let val = false\n        return callback(val)\n      }\n      if (this.$store.state.dhis.user.orgId && this.$store.state.config.generalConfig.reconciliation.singlePair) {\n        this.$store.state.dataSourcePairs.status = 'active'\n        this.activeDataSourcePair = this.$store.state.dataSourcePairs[0]\n        let val = true\n        callback(val)\n        this.activatePair()\n      } else {\n        let val = false\n        callback(val)\n      }\n    }\n  },\n  computed: {\n    dhisLink () {\n      if (this.$store.state.dhis.user.orgId) {\n        return window.location.protocol + '//' + window.location.hostname\n      } else {\n        return false\n      }\n    }\n  },\n  components: {\n    'appMenu': Menu\n  },\n  created () {\n    this.$router.push({ name: 'AddDataSources' })\n    this.$store.state.config.generalConfig = this.generalConfig\n    if (VueCookies.get('token') && VueCookies.get('userID')) {\n      this.$store.state.auth.token = VueCookies.get('token')\n      this.$store.state.auth.userID = VueCookies.get('userID')\n      this.$store.state.auth.username = VueCookies.get('username')\n      this.$store.state.auth.role = VueCookies.get('role')\n      this.$store.state.auth.tasks = JSON.parse(VueCookies.get('tasks'))\n      this.$store.state.signupFields = VueCookies.get('signupFields')\n      this.$store.state.customSignupFields = VueCookies.get('customSignupFields')\n      if (!this.$store.state.config.generalConfig.authDisabled) {\n        axios.get('/isTokenActive/').then(() => {\n          // will come here only if the token is active\n          this.$store.state.clientId = uuid.v4()\n          this.$store.state.initializingApp = true\n          this.$store.state.denyAccess = false\n          this.getUserConfig()\n        })\n      } else {\n        this.$router.push('login')\n      }\n    }\n\n    eventBus.$on('refreshApp', () => {\n      this.getDataSources()\n    })\n    eventBus.$on('recalculateScores', () => {\n      this.$store.state.recalculateScores = true\n      this.$router.push({ name: 'FacilityReconScores' })\n    })\n    eventBus.$on('getDataSources', () => {\n      this.getDataSources()\n    })\n    eventBus.$on('getConfig', () => {\n      this.getUserConfig()\n    })\n    eventBus.$on('getGeneralConfig', () => {\n      this.getGeneralConfig()\n    })\n    eventBus.$on('getDataSourcePair', () => {\n      this.getDataSourcePair()\n    })\n  },\n  name: 'App'\n}\n</script>"]}]}